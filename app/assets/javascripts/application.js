/*
 * jQuery JavaScript Library v1.5.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Feb 23 13:55:29 2011 -0500
 */
(function(a2,L){var ap=a2.document;var a=(function(){var br=function(bM,bN){return new br.fn.init(bM,bN,bp)},bH=a2.jQuery,bt=a2.$,bp,bL=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,bz=/\S/,bv=/^\s+/,bq=/\s+$/,bu=/\d/,bn=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bA=/^[\],:{}\s]*$/,bJ=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bC=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bw=/(?:^|:|,)(?:\s*\[)+/g,bl=/(webkit)[ \/]([\w.]+)/,bE=/(opera)(?:.*version)?[ \/]([\w.]+)/,bD=/(msie) ([\w.]+)/,bF=/(mozilla)(?:.*? rv:([\w.]+))?/,bK=navigator.userAgent,bI,bG=false,bo,e="then done fail isResolved isRejected promise".split(" "),bh,by=Object.prototype.toString,bs=Object.prototype.hasOwnProperty,bm=Array.prototype.push,bx=Array.prototype.slice,bB=String.prototype.trim,bi=Array.prototype.indexOf,bk={};br.fn=br.prototype={constructor:br,init:function(bM,bQ,bP){var bO,bR,bN,bS;if(!bM){return this}if(bM.nodeType){this.context=this[0]=bM;this.length=1;return this}if(bM==="body"&&!bQ&&ap.body){this.context=ap;this[0]=ap.body;this.selector="body";this.length=1;return this}if(typeof bM==="string"){bO=bL.exec(bM);if(bO&&(bO[1]||!bQ)){if(bO[1]){bQ=bQ instanceof br?bQ[0]:bQ;bS=(bQ?bQ.ownerDocument||bQ:ap);bN=bn.exec(bM);if(bN){if(br.isPlainObject(bQ)){bM=[ap.createElement(bN[1])];br.fn.attr.call(bM,bQ,true)}else{bM=[bS.createElement(bN[1])]}}else{bN=br.buildFragment([bO[1]],[bS]);bM=(bN.cacheable?br.clone(bN.fragment):bN.fragment).childNodes}return br.merge(this,bM)}else{bR=ap.getElementById(bO[2]);if(bR&&bR.parentNode){if(bR.id!==bO[2]){return bP.find(bM)}this.length=1;this[0]=bR}this.context=ap;this.selector=bM;return this}}else{if(!bQ||bQ.jquery){return(bQ||bP).find(bM)}else{return this.constructor(bQ).find(bM)}}}else{if(br.isFunction(bM)){return bP.ready(bM)}}if(bM.selector!==L){this.selector=bM.selector;this.context=bM.context}return br.makeArray(bM,this)},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return bx.call(this,0)},get:function(bM){return bM==null?this.toArray():(bM<0?this[this.length+bM]:this[bM])},pushStack:function(bN,bP,bM){var bO=this.constructor();if(br.isArray(bN)){bm.apply(bO,bN)}else{br.merge(bO,bN)}bO.prevObject=this;bO.context=this.context;if(bP==="find"){bO.selector=this.selector+(this.selector?" ":"")+bM}else{if(bP){bO.selector=this.selector+"."+bP+"("+bM+")"}}return bO},each:function(bN,bM){return br.each(this,bN,bM)},ready:function(bM){br.bindReady();bo.done(bM);return this},eq:function(bM){return bM===-1?this.slice(bM):this.slice(bM,+bM+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bx.apply(this,arguments),"slice",bx.call(arguments).join(","))},map:function(bM){return this.pushStack(br.map(this,function(bO,bN){return bM.call(bO,bN,bO)}))},end:function(){return this.prevObject||this.constructor(null)},push:bm,sort:[].sort,splice:[].splice};br.fn.init.prototype=br.fn;br.extend=br.fn.extend=function(){var bV,bO,bM,bN,bS,bT,bR=arguments[0]||{},bQ=1,bP=arguments.length,bU=false;if(typeof bR==="boolean"){bU=bR;bR=arguments[1]||{};bQ=2}if(typeof bR!=="object"&&!br.isFunction(bR)){bR={}}if(bP===bQ){bR=this;--bQ}for(;bQ<bP;bQ++){if((bV=arguments[bQ])!=null){for(bO in bV){bM=bR[bO];bN=bV[bO];if(bR===bN){continue}if(bU&&bN&&(br.isPlainObject(bN)||(bS=br.isArray(bN)))){if(bS){bS=false;bT=bM&&br.isArray(bM)?bM:[]}else{bT=bM&&br.isPlainObject(bM)?bM:{}}bR[bO]=br.extend(bU,bT,bN)}else{if(bN!==L){bR[bO]=bN}}}}}return bR};br.extend({noConflict:function(bM){a2.$=bt;if(bM){a2.jQuery=bH}return br},isReady:false,readyWait:1,ready:function(bM){if(bM===true){br.readyWait--}if(!br.readyWait||(bM!==true&&!br.isReady)){if(!ap.body){return setTimeout(br.ready,1)}br.isReady=true;if(bM!==true&&--br.readyWait>0){return}bo.resolveWith(ap,[br]);if(br.fn.trigger){br(ap).trigger("ready").unbind("ready")}}},bindReady:function(){if(bG){return}bG=true;if(ap.readyState==="complete"){return setTimeout(br.ready,1)}if(ap.addEventListener){ap.addEventListener("DOMContentLoaded",bh,false);a2.addEventListener("load",br.ready,false)}else{if(ap.attachEvent){ap.attachEvent("onreadystatechange",bh);a2.attachEvent("onload",br.ready);var bM=false;try{bM=a2.frameElement==null}catch(bN){}if(ap.documentElement.doScroll&&bM){bj()}}}},isFunction:function(bM){return br.type(bM)==="function"},isArray:Array.isArray||function(bM){return br.type(bM)==="array"},isWindow:function(bM){return bM&&typeof bM==="object"&&"setInterval" in bM},isNaN:function(bM){return bM==null||!bu.test(bM)||isNaN(bM)},type:function(bM){return bM==null?String(bM):bk[by.call(bM)]||"object"},isPlainObject:function(bN){if(!bN||br.type(bN)!=="object"||bN.nodeType||br.isWindow(bN)){return false}if(bN.constructor&&!bs.call(bN,"constructor")&&!bs.call(bN.constructor.prototype,"isPrototypeOf")){return false}var bM;for(bM in bN){}return bM===L||bs.call(bN,bM)},isEmptyObject:function(bN){for(var bM in bN){return false}return true},error:function(bM){throw bM},parseJSON:function(bM){if(typeof bM!=="string"||!bM){return null}bM=br.trim(bM);if(bA.test(bM.replace(bJ,"@").replace(bC,"]").replace(bw,""))){return a2.JSON&&a2.JSON.parse?a2.JSON.parse(bM):(new Function("return "+bM))()}else{br.error("Invalid JSON: "+bM)}},parseXML:function(bO,bM,bN){if(a2.DOMParser){bN=new DOMParser();bM=bN.parseFromString(bO,"text/xml")}else{bM=new ActiveXObject("Microsoft.XMLDOM");bM.async="false";bM.loadXML(bO)}bN=bM.documentElement;if(!bN||!bN.nodeName||bN.nodeName==="parsererror"){br.error("Invalid XML: "+bO)}return bM},noop:function(){},globalEval:function(bO){if(bO&&bz.test(bO)){var bN=ap.head||ap.getElementsByTagName("head")[0]||ap.documentElement,bM=ap.createElement("script");if(br.support.scriptEval()){bM.appendChild(ap.createTextNode(bO))}else{bM.text=bO}bN.insertBefore(bM,bN.firstChild);bN.removeChild(bM)}},nodeName:function(bN,bM){return bN.nodeName&&bN.nodeName.toUpperCase()===bM.toUpperCase()},each:function(bP,bT,bO){var bN,bQ=0,bR=bP.length,bM=bR===L||br.isFunction(bP);if(bO){if(bM){for(bN in bP){if(bT.apply(bP[bN],bO)===false){break}}}else{for(;bQ<bR;){if(bT.apply(bP[bQ++],bO)===false){break}}}}else{if(bM){for(bN in bP){if(bT.call(bP[bN],bN,bP[bN])===false){break}}}else{for(var bS=bP[0];bQ<bR&&bT.call(bS,bQ,bS)!==false;bS=bP[++bQ]){}}}return bP},trim:bB?function(bM){return bM==null?"":bB.call(bM)}:function(bM){return bM==null?"":bM.toString().replace(bv,"").replace(bq,"")},makeArray:function(bP,bN){var bM=bN||[];if(bP!=null){var bO=br.type(bP);if(bP.length==null||bO==="string"||bO==="function"||bO==="regexp"||br.isWindow(bP)){bm.call(bM,bP)}else{br.merge(bM,bP)}}return bM},inArray:function(bO,bP){if(bP.indexOf){return bP.indexOf(bO)}for(var bM=0,bN=bP.length;bM<bN;bM++){if(bP[bM]===bO){return bM}}return -1},merge:function(bQ,bO){var bP=bQ.length,bN=0;if(typeof bO.length==="number"){for(var bM=bO.length;bN<bM;bN++){bQ[bP++]=bO[bN]}}else{while(bO[bN]!==L){bQ[bP++]=bO[bN++]}}bQ.length=bP;return bQ},grep:function(bN,bS,bM){var bO=[],bR;bM=!!bM;for(var bP=0,bQ=bN.length;bP<bQ;bP++){bR=!!bS(bN[bP],bP);if(bM!==bR){bO.push(bN[bP])}}return bO},map:function(bN,bS,bM){var bO=[],bR;for(var bP=0,bQ=bN.length;bP<bQ;bP++){bR=bS(bN[bP],bP,bM);if(bR!=null){bO[bO.length]=bR}}return bO.concat.apply([],bO)},guid:1,proxy:function(bO,bN,bM){if(arguments.length===2){if(typeof bN==="string"){bM=bO;bO=bM[bN];bN=L}else{if(bN&&!br.isFunction(bN)){bM=bN;bN=L}}}if(!bN&&bO){bN=function(){return bO.apply(bM||this,arguments)}}if(bO){bN.guid=bO.guid=bO.guid||bN.guid||br.guid++}return bN},access:function(bM,bU,bS,bO,bR,bT){var bN=bM.length;if(typeof bU==="object"){for(var bP in bU){br.access(bM,bP,bU[bP],bO,bR,bS)}return bM}if(bS!==L){bO=!bT&&bO&&br.isFunction(bS);for(var bQ=0;bQ<bN;bQ++){bR(bM[bQ],bU,bO?bS.call(bM[bQ],bQ,bR(bM[bQ],bU)):bS,bT)}return bM}return bN?bR(bM[0],bU):L},now:function(){return(new Date()).getTime()},_Deferred:function(){var bP=[],bQ,bN,bO,bM={done:function(){if(!bO){var bS=arguments,bT,bW,bV,bU,bR;if(bQ){bR=bQ;bQ=0}for(bT=0,bW=bS.length;bT<bW;bT++){bV=bS[bT];bU=br.type(bV);if(bU==="array"){bM.done.apply(bM,bV)}else{if(bU==="function"){bP.push(bV)}}}if(bR){bM.resolveWith(bR[0],bR[1])}}return this},resolveWith:function(bS,bR){if(!bO&&!bQ&&!bN){bN=1;try{while(bP[0]){bP.shift().apply(bS,bR)}}catch(bT){throw bT}finally{bQ=[bS,bR];bN=0}}return this},resolve:function(){bM.resolveWith(br.isFunction(this.promise)?this.promise():this,arguments);return this},isResolved:function(){return !!(bN||bQ)},cancel:function(){bO=1;bP=[];return this}};return bM},Deferred:function(bN){var bM=br._Deferred(),bP=br._Deferred(),bO;br.extend(bM,{then:function(bR,bQ){bM.done(bR).fail(bQ);return this},fail:bP.done,rejectWith:bP.resolveWith,reject:bP.resolve,isRejected:bP.isResolved,promise:function(bR){if(bR==null){if(bO){return bO}bO=bR={}}var bQ=e.length;while(bQ--){bR[e[bQ]]=bM[e[bQ]]}return bR}});bM.done(bP.cancel).fail(bM.cancel);delete bM.cancel;if(bN){bN.call(bM,bM)}return bM},when:function(bN){var bS=arguments.length,bM=bS<=1&&bN&&br.isFunction(bN.promise)?bN:br.Deferred(),bQ=bM.promise();if(bS>1){var bR=bx.call(arguments,0),bP=bS,bO=function(bT){return function(bU){bR[bT]=arguments.length>1?bx.call(arguments,0):bU;if(!(--bP)){bM.resolveWith(bQ,bR)}}};while((bS--)){bN=bR[bS];if(bN&&br.isFunction(bN.promise)){bN.promise().then(bO(bS),bM.reject)}else{--bP}}if(!bP){bM.resolveWith(bQ,bR)}}else{if(bM!==bN){bM.resolve(bN)}}return bQ},uaMatch:function(bN){bN=bN.toLowerCase();var bM=bl.exec(bN)||bE.exec(bN)||bD.exec(bN)||bN.indexOf("compatible")<0&&bF.exec(bN)||[];return{browser:bM[1]||"",version:bM[2]||"0"}},sub:function(){function bN(bP,bQ){return new bN.fn.init(bP,bQ)}br.extend(true,bN,this);bN.superclass=this;bN.fn=bN.prototype=this();bN.fn.constructor=bN;bN.subclass=this.subclass;bN.fn.init=function bO(bP,bQ){if(bQ&&bQ instanceof br&&!(bQ instanceof bN)){bQ=bN(bQ)}return br.fn.init.call(this,bP,bQ,bM)};bN.fn.init.prototype=bN.fn;var bM=bN(ap);return bN},browser:{}});bo=br._Deferred();br.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(bN,bM){bk["[object "+bM+"]"]=bM.toLowerCase()});bI=br.uaMatch(bK);if(bI.browser){br.browser[bI.browser]=true;br.browser.version=bI.version}if(br.browser.webkit){br.browser.safari=true}if(bi){br.inArray=function(bM,bN){return bi.call(bN,bM)}}if(bz.test("\xA0")){bv=/^[\s\xA0]+/;bq=/[\s\xA0]+$/}bp=br(ap);if(ap.addEventListener){bh=function(){ap.removeEventListener("DOMContentLoaded",bh,false);br.ready()}}else{if(ap.attachEvent){bh=function(){if(ap.readyState==="complete"){ap.detachEvent("onreadystatechange",bh);br.ready()}}}}function bj(){if(br.isReady){return}try{ap.documentElement.doScroll("left")}catch(bM){setTimeout(bj,1);return}br.ready()}return br})();(function(){a.support={};var bh=ap.createElement("div");bh.style.display="none";bh.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var bq=bh.getElementsByTagName("*"),bo=bh.getElementsByTagName("a")[0],bp=ap.createElement("select"),bi=bp.appendChild(ap.createElement("option")),bn=bh.getElementsByTagName("input")[0];if(!bq||!bq.length||!bo){return}a.support={leadingWhitespace:bh.firstChild.nodeType===3,tbody:!bh.getElementsByTagName("tbody").length,htmlSerialize:!!bh.getElementsByTagName("link").length,style:/red/.test(bo.getAttribute("style")),hrefNormalized:bo.getAttribute("href")==="/a",opacity:/^0.55$/.test(bo.style.opacity),cssFloat:!!bo.style.cssFloat,checkOn:bn.value==="on",optSelected:bi.selected,deleteExpando:true,optDisabled:false,checkClone:false,noCloneEvent:true,noCloneChecked:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};bn.checked=true;a.support.noCloneChecked=bn.cloneNode(true).checked;bp.disabled=true;a.support.optDisabled=!bi.disabled;var bj=null;a.support.scriptEval=function(){if(bj===null){var bs=ap.documentElement,bt=ap.createElement("script"),bv="script"+a.now();try{bt.appendChild(ap.createTextNode("window."+bv+"=1;"))}catch(bu){}bs.insertBefore(bt,bs.firstChild);if(a2[bv]){bj=true;delete a2[bv]}else{bj=false}bs.removeChild(bt);bs=bt=bv=null}return bj};try{delete bh.test}catch(bl){a.support.deleteExpando=false}if(!bh.addEventListener&&bh.attachEvent&&bh.fireEvent){bh.attachEvent("onclick",function br(){a.support.noCloneEvent=false;bh.detachEvent("onclick",br)});bh.cloneNode(true).fireEvent("onclick")}bh=ap.createElement("div");bh.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var bk=ap.createDocumentFragment();bk.appendChild(bh.firstChild);a.support.checkClone=bk.cloneNode(true).cloneNode(true).lastChild.checked;a(function(){var bt=ap.createElement("div"),e=ap.getElementsByTagName("body")[0];if(!e){return}bt.style.width=bt.style.paddingLeft="1px";e.appendChild(bt);a.boxModel=a.support.boxModel=bt.offsetWidth===2;if("zoom" in bt.style){bt.style.display="inline";bt.style.zoom=1;a.support.inlineBlockNeedsLayout=bt.offsetWidth===2;bt.style.display="";bt.innerHTML="<div style='width:4px;'></div>";a.support.shrinkWrapBlocks=bt.offsetWidth!==2}bt.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var bs=bt.getElementsByTagName("td");a.support.reliableHiddenOffsets=bs[0].offsetHeight===0;bs[0].style.display="";bs[1].style.display="none";a.support.reliableHiddenOffsets=a.support.reliableHiddenOffsets&&bs[0].offsetHeight===0;bt.innerHTML="";e.removeChild(bt).style.display="none";bt=bs=null});var bm=function(e){var bt=ap.createElement("div");e="on"+e;if(!bt.attachEvent){return true}var bs=(e in bt);if(!bs){bt.setAttribute(e,"return;");bs=typeof bt[e]==="function"}bt=null;return bs};a.support.submitBubbles=bm("submit");a.support.changeBubbles=bm("change");bh=bq=bo=null})();var aI=/^(?:\{.*\}|\[.*\])$/;a.extend({cache:{},uuid:0,expando:"jQuery"+(a.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?a.cache[e[a.expando]]:e[a.expando];return !!e&&!T(e)},data:function(bj,bh,bl,bk){if(!a.acceptData(bj)){return}var bo=a.expando,bn=typeof bh==="string",bm,bp=bj.nodeType,e=bp?a.cache:bj,bi=bp?bj[a.expando]:bj[a.expando]&&a.expando;if((!bi||(bk&&bi&&!e[bi][bo]))&&bn&&bl===L){return}if(!bi){if(bp){bj[a.expando]=bi=++a.uuid}else{bi=a.expando}}if(!e[bi]){e[bi]={};if(!bp){e[bi].toJSON=a.noop}}if(typeof bh==="object"||typeof bh==="function"){if(bk){e[bi][bo]=a.extend(e[bi][bo],bh)}else{e[bi]=a.extend(e[bi],bh)}}bm=e[bi];if(bk){if(!bm[bo]){bm[bo]={}}bm=bm[bo]}if(bl!==L){bm[bh]=bl}if(bh==="events"&&!bm[bh]){return bm[bo]&&bm[bo].events}return bn?bm[bh]:bm},removeData:function(bk,bi,bl){if(!a.acceptData(bk)){return}var bn=a.expando,bo=bk.nodeType,bh=bo?a.cache:bk,bj=bo?bk[a.expando]:a.expando;if(!bh[bj]){return}if(bi){var bm=bl?bh[bj][bn]:bh[bj];if(bm){delete bm[bi];if(!T(bm)){return}}}if(bl){delete bh[bj][bn];if(!T(bh[bj])){return}}var e=bh[bj][bn];if(a.support.deleteExpando||bh!=a2){delete bh[bj]}else{bh[bj]=null}if(e){bh[bj]={};if(!bo){bh[bj].toJSON=a.noop}bh[bj][bn]=e}else{if(bo){if(a.support.deleteExpando){delete bk[a.expando]}else{if(bk.removeAttribute){bk.removeAttribute(a.expando)}else{bk[a.expando]=null}}}}},_data:function(bh,e,bi){return a.data(bh,e,bi,true)},acceptData:function(bh){if(bh.nodeName){var e=a.noData[bh.nodeName.toLowerCase()];if(e){return !(e===true||bh.getAttribute("classid")!==e)}}return true}});a.fn.extend({data:function(bk,bm){var bl=null;if(typeof bk==="undefined"){if(this.length){bl=a.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bi;for(var bj=0,bh=e.length;bj<bh;bj++){bi=e[bj].name;if(bi.indexOf("data-")===0){bi=bi.substr(5);aX(this[0],bi,bl[bi])}}}}return bl}else{if(typeof bk==="object"){return this.each(function(){a.data(this,bk)})}}var bn=bk.split(".");bn[1]=bn[1]?"."+bn[1]:"";if(bm===L){bl=this.triggerHandler("getData"+bn[1]+"!",[bn[0]]);if(bl===L&&this.length){bl=a.data(this[0],bk);bl=aX(this[0],bk,bl)}return bl===L&&bn[1]?this.data(bn[0]):bl}else{return this.each(function(){var bp=a(this),bo=[bn[0],bm];bp.triggerHandler("setData"+bn[1]+"!",bo);a.data(this,bk,bm);bp.triggerHandler("changeData"+bn[1]+"!",bo)})}},removeData:function(e){return this.each(function(){a.removeData(this,e)})}});function aX(bi,bh,bj){if(bj===L&&bi.nodeType===1){bj=bi.getAttribute("data-"+bh);if(typeof bj==="string"){try{bj=bj==="true"?true:bj==="false"?false:bj==="null"?null:!a.isNaN(bj)?parseFloat(bj):aI.test(bj)?a.parseJSON(bj):bj}catch(bk){}a.data(bi,bh,bj)}else{bj=L}}return bj}function T(bh){for(var e in bh){if(e!=="toJSON"){return false}}return true}a.extend({queue:function(bh,e,bj){if(!bh){return}e=(e||"fx")+"queue";var bi=a._data(bh,e);if(!bj){return bi||[]}if(!bi||a.isArray(bj)){bi=a._data(bh,e,a.makeArray(bj))}else{bi.push(bj)}return bi},dequeue:function(bj,bi){bi=bi||"fx";var e=a.queue(bj,bi),bh=e.shift();if(bh==="inprogress"){bh=e.shift()}if(bh){if(bi==="fx"){e.unshift("inprogress")}bh.call(bj,function(){a.dequeue(bj,bi)})}if(!e.length){a.removeData(bj,bi+"queue",true)}}});a.fn.extend({queue:function(e,bh){if(typeof e!=="string"){bh=e;e="fx"}if(bh===L){return a.queue(this[0],e)}return this.each(function(bj){var bi=a.queue(this,e,bh);if(e==="fx"&&bi[0]!=="inprogress"){a.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){a.dequeue(this,e)})},delay:function(bh,e){bh=a.fx?a.fx.speeds[bh]||bh:bh;e=e||"fx";return this.queue(e,function(){var bi=this;setTimeout(function(){a.dequeue(bi,e)},bh)})},clearQueue:function(e){return this.queue(e||"fx",[])}});var aG=/[\n\t\r]/g,a7=/\s+/,aK=/\r/g,a6=/^(?:href|src|style)$/,f=/^(?:button|input)$/i,G=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,U=/^(?:radio|checkbox)$/i;a.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};a.fn.extend({attr:function(e,bh){return a.access(this,e,bh,true,a.attr)},removeAttr:function(e,bh){return this.each(function(){a.attr(this,e,"");if(this.nodeType===1){this.removeAttribute(e)}})},addClass:function(bn){if(a.isFunction(bn)){return this.each(function(bq){var bp=a(this);bp.addClass(bn.call(this,bq,bp.attr("class")))})}if(bn&&typeof bn==="string"){var e=(bn||"").split(a7);for(var bj=0,bi=this.length;bj<bi;bj++){var bh=this[bj];if(bh.nodeType===1){if(!bh.className){bh.className=bn}else{var bk=" "+bh.className+" ",bm=bh.className;for(var bl=0,bo=e.length;bl<bo;bl++){if(bk.indexOf(" "+e[bl]+" ")<0){bm+=" "+e[bl]}}bh.className=a.trim(bm)}}}}return this},removeClass:function(bl){if(a.isFunction(bl)){return this.each(function(bp){var bo=a(this);bo.removeClass(bl.call(this,bp,bo.attr("class")))})}if((bl&&typeof bl==="string")||bl===L){var bm=(bl||"").split(a7);for(var bi=0,bh=this.length;bi<bh;bi++){var bk=this[bi];if(bk.nodeType===1&&bk.className){if(bl){var bj=(" "+bk.className+" ").replace(aG," ");for(var bn=0,e=bm.length;bn<e;bn++){bj=bj.replace(" "+bm[bn]+" "," ")}bk.className=a.trim(bj)}else{bk.className=""}}}}return this},toggleClass:function(bj,bh){var bi=typeof bj,e=typeof bh==="boolean";if(a.isFunction(bj)){return this.each(function(bl){var bk=a(this);bk.toggleClass(bj.call(this,bl,bk.attr("class"),bh),bh)})}return this.each(function(){if(bi==="string"){var bm,bl=0,bk=a(this),bn=bh,bo=bj.split(a7);while((bm=bo[bl++])){bn=e?bn:!bk.hasClass(bm);bk[bn?"addClass":"removeClass"](bm)}}else{if(bi==="undefined"||bi==="boolean"){if(this.className){a._data(this,"__className__",this.className)}this.className=this.className||bj===false?"":a._data(this,"__className__")||""}}})},hasClass:function(e){var bj=" "+e+" ";for(var bi=0,bh=this.length;bi<bh;bi++){if((" "+this[bi].className+" ").replace(aG," ").indexOf(bj)>-1){return true}}return false},val:function(bo){if(!arguments.length){var bi=this[0];if(bi){if(a.nodeName(bi,"option")){var bh=bi.attributes.value;return !bh||bh.specified?bi.value:bi.text}if(a.nodeName(bi,"select")){var bm=bi.selectedIndex,bp=[],bq=bi.options,bl=bi.type==="select-one";if(bm<0){return null}for(var bj=bl?bm:0,bn=bl?bm+1:bq.length;bj<bn;bj++){var bk=bq[bj];if(bk.selected&&(a.support.optDisabled?!bk.disabled:bk.getAttribute("disabled")===null)&&(!bk.parentNode.disabled||!a.nodeName(bk.parentNode,"optgroup"))){bo=a(bk).val();if(bl){return bo}bp.push(bo)}}if(bl&&!bp.length&&bq.length){return a(bq[bm]).val()}return bp}if(U.test(bi.type)&&!a.support.checkOn){return bi.getAttribute("value")===null?"on":bi.value}return(bi.value||"").replace(aK,"")}return L}var e=a.isFunction(bo);return this.each(function(bt){var bs=a(this),bu=bo;if(this.nodeType!==1){return}if(e){bu=bo.call(this,bt,bs.val())}if(bu==null){bu=""}else{if(typeof bu==="number"){bu+=""}else{if(a.isArray(bu)){bu=a.map(bu,function(bv){return bv==null?"":bv+""})}}}if(a.isArray(bu)&&U.test(this.type)){this.checked=a.inArray(bs.val(),bu)>=0}else{if(a.nodeName(this,"select")){var br=a.makeArray(bu);a("option",this).each(function(){this.selected=a.inArray(a(this).val(),br)>=0});if(!br.length){this.selectedIndex=-1}}else{this.value=bu}}})}});a.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(bh,e,bm,bp){if(!bh||bh.nodeType===3||bh.nodeType===8||bh.nodeType===2){return L}if(bp&&e in a.attrFn){return a(bh)[e](bm)}var bi=bh.nodeType!==1||!a.isXMLDoc(bh),bl=bm!==L;e=bi&&a.props[e]||e;if(bh.nodeType===1){var bk=a6.test(e);if(e==="selected"&&!a.support.optSelected){var bn=bh.parentNode;if(bn){bn.selectedIndex;if(bn.parentNode){bn.parentNode.selectedIndex}}}if((e in bh||bh[e]!==L)&&bi&&!bk){if(bl){if(e==="type"&&f.test(bh.nodeName)&&bh.parentNode){a.error("type property can't be changed")}if(bm===null){if(bh.nodeType===1){bh.removeAttribute(e)}}else{bh[e]=bm}}if(a.nodeName(bh,"form")&&bh.getAttributeNode(e)){return bh.getAttributeNode(e).nodeValue}if(e==="tabIndex"){var bo=bh.getAttributeNode("tabIndex");return bo&&bo.specified?bo.value:G.test(bh.nodeName)||m.test(bh.nodeName)&&bh.href?0:L}return bh[e]}if(!a.support.style&&bi&&e==="style"){if(bl){bh.style.cssText=""+bm}return bh.style.cssText}if(bl){bh.setAttribute(e,""+bm)}if(!bh.attributes[e]&&(bh.hasAttribute&&!bh.hasAttribute(e))){return L}var bj=!a.support.hrefNormalized&&bi&&bk?bh.getAttribute(e,2):bh.getAttribute(e);return bj===null?L:bj}if(bl){bh[e]=bm}return bh[e]}});var aT=/\.(.*)$/,a4=/^(?:textarea|input|select)$/i,O=/\./g,ae=/ /g,aA=/[^\w\s.|`]/g,I=function(e){return e.replace(aA,"\\$&")};a.event={add:function(bk,bo,bv,bm){if(bk.nodeType===3||bk.nodeType===8){return}try{if(a.isWindow(bk)&&(bk!==a2&&!bk.frameElement)){bk=a2}}catch(bp){}if(bv===false){bv=a9}else{if(!bv){return}}var bi,bt;if(bv.handler){bi=bv;bv=bi.handler}if(!bv.guid){bv.guid=a.guid++}var bq=a._data(bk);if(!bq){return}var bu=bq.events,bn=bq.handle;if(!bu){bq.events=bu={}}if(!bn){bq.handle=bn=function(){return typeof a!=="undefined"&&!a.event.triggered?a.event.handle.apply(bn.elem,arguments):L}}bn.elem=bk;bo=bo.split(" ");var bs,bl=0,bh;while((bs=bo[bl++])){bt=bi?a.extend({},bi):{handler:bv,data:bm};if(bs.indexOf(".")>-1){bh=bs.split(".");bs=bh.shift();bt.namespace=bh.slice(0).sort().join(".")}else{bh=[];bt.namespace=""}bt.type=bs;if(!bt.guid){bt.guid=bv.guid}var bj=bu[bs],br=a.event.special[bs]||{};if(!bj){bj=bu[bs]=[];if(!br.setup||br.setup.call(bk,bm,bh,bn)===false){if(bk.addEventListener){bk.addEventListener(bs,bn,false)}else{if(bk.attachEvent){bk.attachEvent("on"+bs,bn)}}}}if(br.add){br.add.call(bk,bt);if(!bt.handler.guid){bt.handler.guid=bv.guid}}bj.push(bt);a.event.global[bs]=true}bk=null},global:{},remove:function(bv,bq,bi,bm){if(bv.nodeType===3||bv.nodeType===8){return}if(bi===false){bi=a9}var by,bl,bn,bs,bt=0,bj,bo,br,bk,bp,e,bx,bu=a.hasData(bv)&&a._data(bv),bh=bu&&bu.events;if(!bu||!bh){return}if(bq&&bq.type){bi=bq.handler;bq=bq.type}if(!bq||typeof bq==="string"&&bq.charAt(0)==="."){bq=bq||"";for(bl in bh){a.event.remove(bv,bl+bq)}return}bq=bq.split(" ");while((bl=bq[bt++])){bx=bl;e=null;bj=bl.indexOf(".")<0;bo=[];if(!bj){bo=bl.split(".");bl=bo.shift();br=new RegExp("(^|\\.)"+a.map(bo.slice(0).sort(),I).join("\\.(?:.*\\.)?")+"(\\.|$)")}bp=bh[bl];if(!bp){continue}if(!bi){for(bs=0;bs<bp.length;bs++){e=bp[bs];if(bj||br.test(e.namespace)){a.event.remove(bv,bx,e.handler,bs);bp.splice(bs--,1)}}continue}bk=a.event.special[bl]||{};for(bs=bm||0;bs<bp.length;bs++){e=bp[bs];if(bi.guid===e.guid){if(bj||br.test(e.namespace)){if(bm==null){bp.splice(bs--,1)}if(bk.remove){bk.remove.call(bv,e)}}if(bm!=null){break}}}if(bp.length===0||bm!=null&&bp.length===1){if(!bk.teardown||bk.teardown.call(bv,bo)===false){a.removeEvent(bv,bl,bu.handle)}by=null;delete bh[bl]}}if(a.isEmptyObject(bh)){var bw=bu.handle;if(bw){bw.elem=null}delete bu.events;delete bu.handle;if(a.isEmptyObject(bu)){a.removeData(bv,L,true)}}},trigger:function(bh,bm,bj){var bq=bh.type||bh,bl=arguments[3];if(!bl){bh=typeof bh==="object"?bh[a.expando]?bh:a.extend(a.Event(bq),bh):a.Event(bq);if(bq.indexOf("!")>=0){bh.type=bq=bq.slice(0,-1);bh.exclusive=true}if(!bj){bh.stopPropagation();if(a.event.global[bq]){a.each(a.cache,function(){var bv=a.expando,bu=this[bv];if(bu&&bu.events&&bu.events[bq]){a.event.trigger(bh,bm,bu.handle.elem)}})}}if(!bj||bj.nodeType===3||bj.nodeType===8){return L}bh.result=L;bh.target=bj;bm=a.makeArray(bm);bm.unshift(bh)}bh.currentTarget=bj;var bn=a._data(bj,"handle");if(bn){bn.apply(bj,bm)}var bs=bj.parentNode||bj.ownerDocument;try{if(!(bj&&bj.nodeName&&a.noData[bj.nodeName.toLowerCase()])){if(bj["on"+bq]&&bj["on"+bq].apply(bj,bm)===false){bh.result=false;bh.preventDefault()}}}catch(br){}if(!bh.isPropagationStopped()&&bs){a.event.trigger(bh,bm,bs,true)}else{if(!bh.isDefaultPrevented()){var bi,bo=bh.target,e=bq.replace(aT,""),bt=a.nodeName(bo,"a")&&e==="click",bp=a.event.special[e]||{};if((!bp._default||bp._default.call(bj,bh)===false)&&!bt&&!(bo&&bo.nodeName&&a.noData[bo.nodeName.toLowerCase()])){try{if(bo[e]){bi=bo["on"+e];if(bi){bo["on"+e]=null}a.event.triggered=true;bo[e]()}}catch(bk){}if(bi){bo["on"+e]=bi}a.event.triggered=false}}}},handle:function(e){var bp,bi,bh,br,bq,bl=[],bn=a.makeArray(arguments);e=bn[0]=a.event.fix(e||a2.event);e.currentTarget=this;bp=e.type.indexOf(".")<0&&!e.exclusive;if(!bp){bh=e.type.split(".");e.type=bh.shift();bl=bh.slice(0).sort();br=new RegExp("(^|\\.)"+bl.join("\\.(?:.*\\.)?")+"(\\.|$)")}e.namespace=e.namespace||bl.join(".");bq=a._data(this,"events");bi=(bq||{})[e.type];if(bq&&bi){bi=bi.slice(0);for(var bk=0,bj=bi.length;bk<bj;bk++){var bo=bi[bk];if(bp||br.test(bo.namespace)){e.handler=bo.handler;e.data=bo.data;e.handleObj=bo;var bm=bo.handler.apply(this,bn);if(bm!==L){e.result=bm;if(bm===false){e.preventDefault();e.stopPropagation()}}if(e.isImmediatePropagationStopped()){break}}}}return e.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bj){if(bj[a.expando]){return bj}var bh=bj;bj=a.Event(bh);for(var bi=this.props.length,bl;bi;){bl=this.props[--bi];bj[bl]=bh[bl]}if(!bj.target){bj.target=bj.srcElement||ap}if(bj.target.nodeType===3){bj.target=bj.target.parentNode}if(!bj.relatedTarget&&bj.fromElement){bj.relatedTarget=bj.fromElement===bj.target?bj.toElement:bj.fromElement}if(bj.pageX==null&&bj.clientX!=null){var bk=ap.documentElement,e=ap.body;bj.pageX=bj.clientX+(bk&&bk.scrollLeft||e&&e.scrollLeft||0)-(bk&&bk.clientLeft||e&&e.clientLeft||0);bj.pageY=bj.clientY+(bk&&bk.scrollTop||e&&e.scrollTop||0)-(bk&&bk.clientTop||e&&e.clientTop||0)}if(bj.which==null&&(bj.charCode!=null||bj.keyCode!=null)){bj.which=bj.charCode!=null?bj.charCode:bj.keyCode}if(!bj.metaKey&&bj.ctrlKey){bj.metaKey=bj.ctrlKey}if(!bj.which&&bj.button!==L){bj.which=(bj.button&1?1:(bj.button&2?3:(bj.button&4?2:0)))}return bj},guid:100000000,proxy:a.proxy,special:{ready:{setup:a.bindReady,teardown:a.noop},live:{add:function(e){a.event.add(this,p(e.origType,e.selector),a.extend({},e,{handler:aj,guid:e.handler.guid}))},remove:function(e){a.event.remove(this,p(e.origType,e.selector),e)}},beforeunload:{setup:function(bi,bh,e){if(a.isWindow(this)){this.onbeforeunload=e}},teardown:function(bh,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};a.removeEvent=ap.removeEventListener?function(bh,e,bi){if(bh.removeEventListener){bh.removeEventListener(e,bi,false)}}:function(bh,e,bi){if(bh.detachEvent){bh.detachEvent("on"+e,bi)}};a.Event=function(e){if(!this.preventDefault){return new a.Event(e)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=(e.defaultPrevented||e.returnValue===false||e.getPreventDefault&&e.getPreventDefault())?h:a9}else{this.type=e}this.timeStamp=a.now();this[a.expando]=true};function a9(){return false}function h(){return true}a.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var bh=this.originalEvent;if(!bh){return}if(bh.preventDefault){bh.preventDefault()}else{bh.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=h;var bh=this.originalEvent;if(!bh){return}if(bh.stopPropagation){bh.stopPropagation()}bh.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h;this.stopPropagation()},isDefaultPrevented:a9,isPropagationStopped:a9,isImmediatePropagationStopped:a9};var ad=function(bi){var bh=bi.relatedTarget;try{if(bh!==ap&&!bh.parentNode){return}while(bh&&bh!==this){bh=bh.parentNode}if(bh!==this){bi.type=bi.data;a.event.handle.apply(this,arguments)}}catch(bj){}},aO=function(e){e.type=e.data;a.event.handle.apply(this,arguments)};a.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bh,e){a.event.special[bh]={setup:function(bi){a.event.add(this,e,bi&&bi.selector?aO:ad,bh)},teardown:function(bi){a.event.remove(this,e,bi&&bi.selector?aO:ad)}}});if(!a.support.submitBubbles){a.event.special.submit={setup:function(bh,e){if(this.nodeName&&this.nodeName.toLowerCase()!=="form"){a.event.add(this,"click.specialSubmit",function(bk){var bj=bk.target,bi=bj.type;if((bi==="submit"||bi==="image")&&a(bj).closest("form").length){aR("submit",this,arguments)}});a.event.add(this,"keypress.specialSubmit",function(bk){var bj=bk.target,bi=bj.type;if((bi==="text"||bi==="password")&&a(bj).closest("form").length&&bk.keyCode===13){aR("submit",this,arguments)}})}else{return false}},teardown:function(e){a.event.remove(this,".specialSubmit")}}}if(!a.support.changeBubbles){var ba,l=function(bh){var e=bh.type,bi=bh.value;if(e==="radio"||e==="checkbox"){bi=bh.checked}else{if(e==="select-multiple"){bi=bh.selectedIndex>-1?a.map(bh.options,function(bj){return bj.selected}).join("-"):""}else{if(bh.nodeName.toLowerCase()==="select"){bi=bh.selectedIndex}}}return bi},ab=function ab(bj){var bh=bj.target,bi,bk;if(!a4.test(bh.nodeName)||bh.readOnly){return}bi=a._data(bh,"_change_data");bk=l(bh);if(bj.type!=="focusout"||bh.type!=="radio"){a._data(bh,"_change_data",bk)}if(bi===L||bk===bi){return}if(bi!=null||bk){bj.type="change";bj.liveFired=L;a.event.trigger(bj,arguments[1],bh)}};a.event.special.change={filters:{focusout:ab,beforedeactivate:ab,click:function(bj){var bi=bj.target,bh=bi.type;if(bh==="radio"||bh==="checkbox"||bi.nodeName.toLowerCase()==="select"){ab.call(this,bj)}},keydown:function(bj){var bi=bj.target,bh=bi.type;if((bj.keyCode===13&&bi.nodeName.toLowerCase()!=="textarea")||(bj.keyCode===32&&(bh==="checkbox"||bh==="radio"))||bh==="select-multiple"){ab.call(this,bj)}},beforeactivate:function(bi){var bh=bi.target;a._data(bh,"_change_data",l(bh))}},setup:function(bi,bh){if(this.type==="file"){return false}for(var e in ba){a.event.add(this,e+".specialChange",ba[e])}return a4.test(this.nodeName)},teardown:function(e){a.event.remove(this,".specialChange");return a4.test(this.nodeName)}};ba=a.event.special.change.filters;ba.focus=ba.beforeactivate}function aR(bh,bj,e){var bi=a.extend({},e[0]);bi.type=bh;bi.originalEvent={};bi.liveFired=L;a.event.handle.call(bj,bi);if(bi.isDefaultPrevented()){e[0].preventDefault()}}if(ap.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(bi,e){a.event.special[e]={setup:function(){this.addEventListener(bi,bh,true)},teardown:function(){this.removeEventListener(bi,bh,true)}};function bh(bj){bj=a.event.fix(bj);bj.type=e;return a.event.handle.call(this,bj)}})}a.each(["bind","one"],function(bh,e){a.fn[e]=function(bn,bo,bm){if(typeof bn==="object"){for(var bk in bn){this[e](bk,bo,bn[bk],bm)}return this}if(a.isFunction(bo)||bo===false){bm=bo;bo=L}var bl=e==="one"?a.proxy(bm,function(bp){a(this).unbind(bp,bl);return bm.apply(this,arguments)}):bm;if(bn==="unload"&&e!=="one"){this.one(bn,bo,bm)}else{for(var bj=0,bi=this.length;bj<bi;bj++){a.event.add(this[bj],bn,bl,bo)}}return this}});a.fn.extend({unbind:function(bk,bj){if(typeof bk==="object"&&!bk.preventDefault){for(var bi in bk){this.unbind(bi,bk[bi])}}else{for(var bh=0,e=this.length;bh<e;bh++){a.event.remove(this[bh],bk,bj)}}return this},delegate:function(e,bh,bj,bi){return this.live(bh,bj,bi,e)},undelegate:function(e,bh,bi){if(arguments.length===0){return this.unbind("live")}else{return this.die(bh,null,bi,e)}},trigger:function(e,bh){return this.each(function(){a.event.trigger(e,bh,this)})},triggerHandler:function(e,bi){if(this[0]){var bh=a.Event(e);bh.preventDefault();bh.stopPropagation();a.event.trigger(bh,bi,this[0]);return bh.result}},toggle:function(bi){var e=arguments,bh=1;while(bh<e.length){a.proxy(bi,e[bh++])}return this.click(a.proxy(bi,function(bj){var bk=(a._data(this,"lastToggle"+bi.guid)||0)%bh;a._data(this,"lastToggle"+bi.guid,bk+1);bj.preventDefault();return e[bk].apply(this,arguments)||false}))},hover:function(e,bh){return this.mouseenter(e).mouseleave(bh||e)}});var aL={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};a.each(["live","die"],function(bh,e){a.fn[e]=function(br,bo,bt,bk){var bs,bp=0,bq,bj,bv,bm=bk||this.selector,bi=bk?this:a(this.context);if(typeof br==="object"&&!br.preventDefault){for(var bu in br){bi[e](bu,bo,br[bu],bm)}return this}if(a.isFunction(bo)){bt=bo;bo=L}br=(br||"").split(" ");while((bs=br[bp++])!=null){bq=aT.exec(bs);bj="";if(bq){bj=bq[0];bs=bs.replace(aT,"")}if(bs==="hover"){br.push("mouseenter"+bj,"mouseleave"+bj);continue}bv=bs;if(bs==="focus"||bs==="blur"){br.push(aL[bs]+bj);bs=bs+bj}else{bs=(aL[bs]||bs)+bj}if(e==="live"){for(var bn=0,bl=bi.length;bn<bl;bn++){a.event.add(bi[bn],"live."+p(bs,bm),{data:bo,selector:bm,handler:bt,origType:bs,origHandler:bt,preType:bv})}}else{bi.unbind("live."+p(bs,bm),bt)}}return this}});function aj(br){var bo,bj,bx,bl,e,bt,bq,bs,bp,bw,bn,bm,bv,bu=[],bk=[],bh=a._data(this,"events");if(br.liveFired===this||!bh||!bh.live||br.target.disabled||br.button&&br.type==="click"){return}if(br.namespace){bm=new RegExp("(^|\\.)"+br.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}br.liveFired=this;var bi=bh.live.slice(0);for(bq=0;bq<bi.length;bq++){e=bi[bq];if(e.origType.replace(aT,"")===br.type){bk.push(e.selector)}else{bi.splice(bq--,1)}}bl=a(br.target).closest(bk,br.currentTarget);for(bs=0,bp=bl.length;bs<bp;bs++){bn=bl[bs];for(bq=0;bq<bi.length;bq++){e=bi[bq];if(bn.selector===e.selector&&(!bm||bm.test(e.namespace))&&!bn.elem.disabled){bt=bn.elem;bx=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){br.type=e.preType;bx=a(br.relatedTarget).closest(e.selector)[0]}if(!bx||bx!==bt){bu.push({elem:bt,handleObj:e,level:bn.level})}}}}for(bs=0,bp=bu.length;bs<bp;bs++){bl=bu[bs];if(bj&&bl.level>bj){break}br.currentTarget=bl.elem;br.data=bl.handleObj.data;br.handleObj=bl.handleObj;bv=bl.handleObj.origHandler.apply(bl.elem,arguments);if(bv===false||br.isPropagationStopped()){bj=bl.level;if(bv===false){bo=false}if(br.isImmediatePropagationStopped()){break}}}return bo}function p(bh,e){return(bh&&bh!=="*"?bh+".":"")+e.replace(O,"`").replace(ae,"&")}a.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(bh,e){a.fn[e]=function(bj,bi){if(bi==null){bi=bj;bj=null}return arguments.length>0?this.bind(e,bj,bi):this.trigger(e)};if(a.attrFn){a.attrFn[e]=true}});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var br=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bs=0,bv=Object.prototype.toString,bm=false,bl=true,bt=/\\/g,bz=/\W/;[0,0].sort(function(){bl=false;return 0});var bj=function(bE,e,bH,bI){bH=bH||[];e=e||ap;var bK=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bE||typeof bE!=="string"){return bH}var bB,bM,bP,bA,bL,bO,bN,bG,bD=true,bC=bj.isXML(e),bF=[],bJ=bE;do{br.exec("");bB=br.exec(bJ);if(bB){bJ=bB[3];bF.push(bB[1]);if(bB[2]){bA=bB[3];break}}}while(bB);if(bF.length>1&&bn.exec(bE)){if(bF.length===2&&bo.relative[bF[0]]){bM=bw(bF[0]+bF[1],e)}else{bM=bo.relative[bF[0]]?[e]:bj(bF.shift(),e);while(bF.length){bE=bF.shift();if(bo.relative[bE]){bE+=bF.shift()}bM=bw(bE,bM)}}}else{if(!bI&&bF.length>1&&e.nodeType===9&&!bC&&bo.match.ID.test(bF[0])&&!bo.match.ID.test(bF[bF.length-1])){bL=bj.find(bF.shift(),e,bC);e=bL.expr?bj.filter(bL.expr,bL.set)[0]:bL.set[0]}if(e){bL=bI?{expr:bF.pop(),set:bp(bI)}:bj.find(bF.pop(),bF.length===1&&(bF[0]==="~"||bF[0]==="+")&&e.parentNode?e.parentNode:e,bC);bM=bL.expr?bj.filter(bL.expr,bL.set):bL.set;if(bF.length>0){bP=bp(bM)}else{bD=false}while(bF.length){bO=bF.pop();bN=bO;if(!bo.relative[bO]){bO=""}else{bN=bF.pop()}if(bN==null){bN=e}bo.relative[bO](bP,bN,bC)}}else{bP=bF=[]}}if(!bP){bP=bM}if(!bP){bj.error(bO||bE)}if(bv.call(bP)==="[object Array]"){if(!bD){bH.push.apply(bH,bP)}else{if(e&&e.nodeType===1){for(bG=0;bP[bG]!=null;bG++){if(bP[bG]&&(bP[bG]===true||bP[bG].nodeType===1&&bj.contains(e,bP[bG]))){bH.push(bM[bG])}}}else{for(bG=0;bP[bG]!=null;bG++){if(bP[bG]&&bP[bG].nodeType===1){bH.push(bM[bG])}}}}}else{bp(bP,bH)}if(bA){bj(bA,bK,bH,bI);bj.uniqueSort(bH)}return bH};bj.uniqueSort=function(bA){if(bu){bm=bl;bA.sort(bu);if(bm){for(var e=1;e<bA.length;e++){if(bA[e]===bA[e-1]){bA.splice(e--,1)}}}}return bA};bj.matches=function(e,bA){return bj(e,null,null,bA)};bj.matchesSelector=function(e,bA){return bj(bA,null,null,[e]).length>0};bj.find=function(bG,e,bH){var bF;if(!bG){return[]}for(var bC=0,bB=bo.order.length;bC<bB;bC++){var bD,bE=bo.order[bC];if((bD=bo.leftMatch[bE].exec(bG))){var bA=bD[1];bD.splice(1,1);if(bA.substr(bA.length-1)!=="\\"){bD[1]=(bD[1]||"").replace(bt,"");bF=bo.find[bE](bD,e,bH);if(bF!=null){bG=bG.replace(bo.match[bE],"");break}}}}if(!bF){bF=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bF,expr:bG}};bj.filter=function(bK,bJ,bN,bD){var bF,e,bB=bK,bP=[],bH=bJ,bG=bJ&&bJ[0]&&bj.isXML(bJ[0]);while(bK&&bJ.length){for(var bI in bo.filter){if((bF=bo.leftMatch[bI].exec(bK))!=null&&bF[2]){var bO,bM,bA=bo.filter[bI],bC=bF[1];e=false;bF.splice(1,1);if(bC.substr(bC.length-1)==="\\"){continue}if(bH===bP){bP=[]}if(bo.preFilter[bI]){bF=bo.preFilter[bI](bF,bH,bN,bP,bD,bG);if(!bF){e=bO=true}else{if(bF===true){continue}}}if(bF){for(var bE=0;(bM=bH[bE])!=null;bE++){if(bM){bO=bA(bM,bF,bE,bH);var bL=bD^!!bO;if(bN&&bO!=null){if(bL){e=true}else{bH[bE]=false}}else{if(bL){bP.push(bM);e=true}}}}}if(bO!==L){if(!bN){bH=bP}bK=bK.replace(bo.match[bI],"");if(!e){return[]}break}}}if(bK===bB){if(e==null){bj.error(bK)}else{break}}bB=bK}return bH};bj.error=function(e){throw"Syntax error, unrecognized expression: "+e};var bo=bj.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bF,bA){var bC=typeof bA==="string",bE=bC&&!bz.test(bA),bG=bC&&!bE;if(bE){bA=bA.toLowerCase()}for(var bB=0,e=bF.length,bD;bB<e;bB++){if((bD=bF[bB])){while((bD=bD.previousSibling)&&bD.nodeType!==1){}bF[bB]=bG||bD&&bD.nodeName.toLowerCase()===bA?bD||false:bD===bA}}if(bG){bj.filter(bA,bF,true)}},">":function(bF,bA){var bE,bD=typeof bA==="string",bB=0,e=bF.length;if(bD&&!bz.test(bA)){bA=bA.toLowerCase();for(;bB<e;bB++){bE=bF[bB];if(bE){var bC=bE.parentNode;bF[bB]=bC.nodeName.toLowerCase()===bA?bC:false}}}else{for(;bB<e;bB++){bE=bF[bB];if(bE){bF[bB]=bD?bE.parentNode:bE.parentNode===bA}}if(bD){bj.filter(bA,bF,true)}}},"":function(bC,bA,bE){var bD,bB=bs++,e=bx;if(typeof bA==="string"&&!bz.test(bA)){bA=bA.toLowerCase();bD=bA;e=bh}e("parentNode",bA,bB,bC,bD,bE)},"~":function(bC,bA,bE){var bD,bB=bs++,e=bx;if(typeof bA==="string"&&!bz.test(bA)){bA=bA.toLowerCase();bD=bA;e=bh}e("previousSibling",bA,bB,bC,bD,bE)}},find:{ID:function(bA,bB,bC){if(typeof bB.getElementById!=="undefined"&&!bC){var e=bB.getElementById(bA[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bB,bE){if(typeof bE.getElementsByName!=="undefined"){var bA=[],bD=bE.getElementsByName(bB[1]);for(var bC=0,e=bD.length;bC<e;bC++){if(bD[bC].getAttribute("name")===bB[1]){bA.push(bD[bC])}}return bA.length===0?null:bA}},TAG:function(e,bA){if(typeof bA.getElementsByTagName!=="undefined"){return bA.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bC,bA,bB,e,bF,bG){bC=" "+bC[1].replace(bt,"")+" ";if(bG){return bC}for(var bD=0,bE;(bE=bA[bD])!=null;bD++){if(bE){if(bF^(bE.className&&(" "+bE.className+" ").replace(/[\t\n\r]/g," ").indexOf(bC)>=0)){if(!bB){e.push(bE)}}else{if(bB){bA[bD]=false}}}}return false},ID:function(e){return e[1].replace(bt,"")},TAG:function(bA,e){return bA[1].replace(bt,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bj.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bA=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bA[1]+(bA[2]||1))-0;e[3]=bA[3]-0}else{if(e[2]){bj.error(e[0])}}e[0]=bs++;return e},ATTR:function(bD,bA,bB,e,bE,bF){var bC=bD[1]=bD[1].replace(bt,"");if(!bF&&bo.attrMap[bC]){bD[1]=bo.attrMap[bC]}bD[4]=(bD[4]||bD[5]||"").replace(bt,"");if(bD[2]==="~="){bD[4]=" "+bD[4]+" "}return bD},PSEUDO:function(bD,bA,bB,e,bE){if(bD[1]==="not"){if((br.exec(bD[3])||"").length>1||/^\w/.test(bD[3])){bD[3]=bj(bD[3],null,null,bA)}else{var bC=bj.filter(bD[3],bA,bB,true^bE);if(!bB){e.push.apply(e,bC)}return false}}else{if(bo.match.POS.test(bD[0])||bo.match.CHILD.test(bD[0])){return true}}return bD},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bB,bA,e){return !!bj(e[3],bB).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(e){return"text"===e.getAttribute("type")},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toLowerCase()==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)}},setFilters:{first:function(bA,e){return e===0},last:function(bB,bA,e,bC){return bA===bC.length-1},even:function(bA,e){return e%2===0},odd:function(bA,e){return e%2===1},lt:function(bB,bA,e){return bA<e[3]-0},gt:function(bB,bA,e){return bA>e[3]-0},nth:function(bB,bA,e){return e[3]-0===bA},eq:function(bB,bA,e){return e[3]-0===bA}},filter:{PSEUDO:function(bB,bG,bF,bH){var e=bG[1],bA=bo.filters[e];if(bA){return bA(bB,bF,bG,bH)}else{if(e==="contains"){return(bB.textContent||bB.innerText||bj.getText([bB])||"").indexOf(bG[3])>=0}else{if(e==="not"){var bC=bG[3];for(var bE=0,bD=bC.length;bE<bD;bE++){if(bC[bE]===bB){return false}}return true}else{bj.error(e)}}}},CHILD:function(e,bC){var bF=bC[1],bA=e;switch(bF){case"only":case"first":while((bA=bA.previousSibling)){if(bA.nodeType===1){return false}}if(bF==="first"){return true}bA=e;case"last":while((bA=bA.nextSibling)){if(bA.nodeType===1){return false}}return true;case"nth":var bB=bC[2],bI=bC[3];if(bB===1&&bI===0){return true}var bE=bC[0],bH=e.parentNode;if(bH&&(bH.sizcache!==bE||!e.nodeIndex)){var bD=0;for(bA=bH.firstChild;bA;bA=bA.nextSibling){if(bA.nodeType===1){bA.nodeIndex=++bD}}bH.sizcache=bE}var bG=e.nodeIndex-bI;if(bB===0){return bG===0}else{return(bG%bB===0&&bG/bB>=0)}}},ID:function(bA,e){return bA.nodeType===1&&bA.getAttribute("id")===e},TAG:function(bA,e){return(e==="*"&&bA.nodeType===1)||bA.nodeName.toLowerCase()===e},CLASS:function(bA,e){return(" "+(bA.className||bA.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bE,bC){var bB=bC[1],e=bo.attrHandle[bB]?bo.attrHandle[bB](bE):bE[bB]!=null?bE[bB]:bE.getAttribute(bB),bF=e+"",bD=bC[2],bA=bC[4];return e==null?bD==="!=":bD==="="?bF===bA:bD==="*="?bF.indexOf(bA)>=0:bD==="~="?(" "+bF+" ").indexOf(bA)>=0:!bA?bF&&e!==false:bD==="!="?bF!==bA:bD==="^="?bF.indexOf(bA)===0:bD==="$="?bF.substr(bF.length-bA.length)===bA:bD==="|="?bF===bA||bF.substr(0,bA.length+1)===bA+"-":false},POS:function(bD,bA,bB,bE){var e=bA[2],bC=bo.setFilters[e];if(bC){return bC(bD,bB,bA,bE)}}}};var bn=bo.match.POS,bi=function(bA,e){return"\\"+(e-0+1)};for(var bk in bo.match){bo.match[bk]=new RegExp(bo.match[bk].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bo.leftMatch[bk]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bo.match[bk].source.replace(/\\(\d+)/g,bi))}var bp=function(bA,e){bA=Array.prototype.slice.call(bA,0);if(e){e.push.apply(e,bA);return e}return bA};try{Array.prototype.slice.call(ap.documentElement.childNodes,0)[0].nodeType}catch(by){bp=function(bD,bC){var bB=0,bA=bC||[];if(bv.call(bD)==="[object Array]"){Array.prototype.push.apply(bA,bD)}else{if(typeof bD.length==="number"){for(var e=bD.length;bB<e;bB++){bA.push(bD[bB])}}else{for(;bD[bB];bB++){bA.push(bD[bB])}}}return bA}}var bu,bq;if(ap.documentElement.compareDocumentPosition){bu=function(bA,e){if(bA===e){bm=true;return 0}if(!bA.compareDocumentPosition||!e.compareDocumentPosition){return bA.compareDocumentPosition?-1:1}return bA.compareDocumentPosition(e)&4?-1:1}}else{bu=function(bH,bG){var bE,bA,bB=[],e=[],bD=bH.parentNode,bF=bG.parentNode,bI=bD;if(bH===bG){bm=true;return 0}else{if(bD===bF){return bq(bH,bG)}else{if(!bD){return -1}else{if(!bF){return 1}}}}while(bI){bB.unshift(bI);bI=bI.parentNode}bI=bF;while(bI){e.unshift(bI);bI=bI.parentNode}bE=bB.length;bA=e.length;for(var bC=0;bC<bE&&bC<bA;bC++){if(bB[bC]!==e[bC]){return bq(bB[bC],e[bC])}}return bC===bE?bq(bH,e[bC],-1):bq(bB[bC],bG,1)};bq=function(bA,e,bB){if(bA===e){return bB}var bC=bA.nextSibling;while(bC){if(bC===e){return -1}bC=bC.nextSibling}return 1}}bj.getText=function(e){var bA="",bC;for(var bB=0;e[bB];bB++){bC=e[bB];if(bC.nodeType===3||bC.nodeType===4){bA+=bC.nodeValue}else{if(bC.nodeType!==8){bA+=bj.getText(bC.childNodes)}}}return bA};(function(){var bA=ap.createElement("div"),bB="script"+(new Date()).getTime(),e=ap.documentElement;bA.innerHTML="<a name='"+bB+"'/>";e.insertBefore(bA,e.firstChild);if(ap.getElementById(bB)){bo.find.ID=function(bD,bE,bF){if(typeof bE.getElementById!=="undefined"&&!bF){var bC=bE.getElementById(bD[1]);return bC?bC.id===bD[1]||typeof bC.getAttributeNode!=="undefined"&&bC.getAttributeNode("id").nodeValue===bD[1]?[bC]:L:[]}};bo.filter.ID=function(bE,bC){var bD=typeof bE.getAttributeNode!=="undefined"&&bE.getAttributeNode("id");return bE.nodeType===1&&bD&&bD.nodeValue===bC}}e.removeChild(bA);e=bA=null})();(function(){var e=ap.createElement("div");e.appendChild(ap.createComment(""));if(e.getElementsByTagName("*").length>0){bo.find.TAG=function(bA,bE){var bD=bE.getElementsByTagName(bA[1]);if(bA[1]==="*"){var bC=[];for(var bB=0;bD[bB];bB++){if(bD[bB].nodeType===1){bC.push(bD[bB])}}bD=bC}return bD}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bo.attrHandle.href=function(bA){return bA.getAttribute("href",2)}}e=null})();if(ap.querySelectorAll){(function(){var e=bj,bC=ap.createElement("div"),bB="__sizzle__";bC.innerHTML="<p class='TEST'></p>";if(bC.querySelectorAll&&bC.querySelectorAll(".TEST").length===0){return}bj=function(bN,bE,bI,bM){bE=bE||ap;if(!bM&&!bj.isXML(bE)){var bL=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bN);if(bL&&(bE.nodeType===1||bE.nodeType===9)){if(bL[1]){return bp(bE.getElementsByTagName(bN),bI)}else{if(bL[2]&&bo.find.CLASS&&bE.getElementsByClassName){return bp(bE.getElementsByClassName(bL[2]),bI)}}}if(bE.nodeType===9){if(bN==="body"&&bE.body){return bp([bE.body],bI)}else{if(bL&&bL[3]){var bH=bE.getElementById(bL[3]);if(bH&&bH.parentNode){if(bH.id===bL[3]){return bp([bH],bI)}}else{return bp([],bI)}}}try{return bp(bE.querySelectorAll(bN),bI)}catch(bJ){}}else{if(bE.nodeType===1&&bE.nodeName.toLowerCase()!=="object"){var bF=bE,bG=bE.getAttribute("id"),bD=bG||bB,bP=bE.parentNode,bO=/^\s*[+~]/.test(bN);if(!bG){bE.setAttribute("id",bD)}else{bD=bD.replace(/'/g,"\\$&")}if(bO&&bP){bE=bE.parentNode}try{if(!bO||bP){return bp(bE.querySelectorAll("[id='"+bD+"'] "+bN),bI)}}catch(bK){}finally{if(!bG){bF.removeAttribute("id")}}}}}return e(bN,bE,bI,bM)};for(var bA in e){bj[bA]=e[bA]}bC=null})()}(function(){var e=ap.documentElement,bB=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector,bA=false;try{bB.call(ap.documentElement,"[test!='']:sizzle")}catch(bC){bA=true}if(bB){bj.matchesSelector=function(bD,bF){bF=bF.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bj.isXML(bD)){try{if(bA||!bo.match.PSEUDO.test(bF)&&!/!=/.test(bF)){return bB.call(bD,bF)}}catch(bE){}}return bj(bF,null,null,[bD]).length>0}}})();(function(){var e=ap.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bo.order.splice(1,0,"CLASS");bo.find.CLASS=function(bA,bB,bC){if(typeof bB.getElementsByClassName!=="undefined"&&!bC){return bB.getElementsByClassName(bA[1])}};e=null})();function bh(bA,bF,bE,bI,bG,bH){for(var bC=0,bB=bI.length;bC<bB;bC++){var e=bI[bC];if(e){var bD=false;e=e[bA];while(e){if(e.sizcache===bE){bD=bI[e.sizset];break}if(e.nodeType===1&&!bH){e.sizcache=bE;e.sizset=bC}if(e.nodeName.toLowerCase()===bF){bD=e;break}e=e[bA]}bI[bC]=bD}}}function bx(bA,bF,bE,bI,bG,bH){for(var bC=0,bB=bI.length;bC<bB;bC++){var e=bI[bC];if(e){var bD=false;e=e[bA];while(e){if(e.sizcache===bE){bD=bI[e.sizset];break}if(e.nodeType===1){if(!bH){e.sizcache=bE;e.sizset=bC}if(typeof bF!=="string"){if(e===bF){bD=true;break}}else{if(bj.filter(bF,[e]).length>0){bD=e;break}}}e=e[bA]}bI[bC]=bD}}}if(ap.documentElement.contains){bj.contains=function(bA,e){return bA!==e&&(bA.contains?bA.contains(e):true)}}else{if(ap.documentElement.compareDocumentPosition){bj.contains=function(bA,e){return !!(bA.compareDocumentPosition(e)&16)}}else{bj.contains=function(){return false}}}bj.isXML=function(e){var bA=(e?e.ownerDocument||e:0).documentElement;return bA?bA.nodeName!=="HTML":false};var bw=function(e,bG){var bE,bC=[],bD="",bB=bG.nodeType?[bG]:bG;while((bE=bo.match.PSEUDO.exec(e))){bD+=bE[0];e=e.replace(bo.match.PSEUDO,"")}e=bo.relative[e]?e+"*":e;for(var bF=0,bA=bB.length;bF<bA;bF++){bj(e,bB[bF],bC)}return bj.filter(bD,bC)};a.find=bj;a.expr=bj.selectors;a.expr[":"]=a.expr.filters;a.unique=bj.uniqueSort;a.text=bj.getText;a.isXMLDoc=bj.isXML;a.contains=bj.contains})();var aa=/Until$/,am=/^(?:parents|prevUntil|prevAll)/,a0=/,/,bd=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,J=a.expr.match.POS,at={children:true,contents:true,next:true,prev:true};a.fn.extend({find:function(e){var bi=this.pushStack("","find",e),bl=0;for(var bj=0,bh=this.length;bj<bh;bj++){bl=bi.length;a.find(e,this[bj],bi);if(bj>0){for(var bm=bl;bm<bi.length;bm++){for(var bk=0;bk<bl;bk++){if(bi[bk]===bi[bm]){bi.splice(bm--,1);break}}}}}return bi},has:function(bh){var e=a(bh);return this.filter(function(){for(var bj=0,bi=e.length;bj<bi;bj++){if(a.contains(this,e[bj])){return true}}})},not:function(e){return this.pushStack(az(this,e,false),"not",e)},filter:function(e){return this.pushStack(az(this,e,true),"filter",e)},is:function(e){return !!e&&a.filter(e,this).length>0},closest:function(bq,bh){var bn=[],bk,bi,bp=this[0];if(a.isArray(bq)){var bm,bj,bl={},e=1;if(bp&&bq.length){for(bk=0,bi=bq.length;bk<bi;bk++){bj=bq[bk];if(!bl[bj]){bl[bj]=a.expr.match.POS.test(bj)?a(bj,bh||this.context):bj}}while(bp&&bp.ownerDocument&&bp!==bh){for(bj in bl){bm=bl[bj];if(bm.jquery?bm.index(bp)>-1:a(bp).is(bm)){bn.push({selector:bj,elem:bp,level:e})}}bp=bp.parentNode;e++}}return bn}var bo=J.test(bq)?a(bq,bh||this.context):null;for(bk=0,bi=this.length;bk<bi;bk++){bp=this[bk];while(bp){if(bo?bo.index(bp)>-1:a.find.matchesSelector(bp,bq)){bn.push(bp);break}else{bp=bp.parentNode;if(!bp||!bp.ownerDocument||bp===bh){break}}}}bn=bn.length>1?a.unique(bn):bn;return this.pushStack(bn,"closest",bq)},index:function(e){if(!e||typeof e==="string"){return a.inArray(this[0],e?a(e):this.parent().children())}return a.inArray(e.jquery?e[0]:e,this)},add:function(e,bh){var bj=typeof e==="string"?a(e,bh):a.makeArray(e),bi=a.merge(this.get(),bj);return this.pushStack(F(bj[0])||F(bi[0])?bi:a.unique(bi))},andSelf:function(){return this.add(this.prevObject)}});function F(e){return !e||!e.parentNode||e.parentNode.nodeType===11}a.each({parent:function(bh){var e=bh.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return a.dir(e,"parentNode")},parentsUntil:function(bh,e,bi){return a.dir(bh,"parentNode",bi)},next:function(e){return a.nth(e,2,"nextSibling")},prev:function(e){return a.nth(e,2,"previousSibling")},nextAll:function(e){return a.dir(e,"nextSibling")},prevAll:function(e){return a.dir(e,"previousSibling")},nextUntil:function(bh,e,bi){return a.dir(bh,"nextSibling",bi)},prevUntil:function(bh,e,bi){return a.dir(bh,"previousSibling",bi)},siblings:function(e){return a.sibling(e.parentNode.firstChild,e)},children:function(e){return a.sibling(e.firstChild)},contents:function(e){return a.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:a.makeArray(e.childNodes)}},function(e,bh){a.fn[e]=function(bl,bi){var bk=a.map(this,bh,bl),bj=Q.call(arguments);if(!aa.test(e)){bi=bl}if(bi&&typeof bi==="string"){bk=a.filter(bi,bk)}bk=this.length>1&&!at[e]?a.unique(bk):bk;if((this.length>1||a0.test(bi))&&am.test(e)){bk=bk.reverse()}return this.pushStack(bk,e,bj.join(","))}});a.extend({filter:function(bi,e,bh){if(bh){bi=":not("+bi+")"}return e.length===1?a.find.matchesSelector(e[0],bi)?[e[0]]:[]:a.find.matches(bi,e)},dir:function(bi,bh,bk){var e=[],bj=bi[bh];while(bj&&bj.nodeType!==9&&(bk===L||bj.nodeType!==1||!a(bj).is(bk))){if(bj.nodeType===1){e.push(bj)}bj=bj[bh]}return e},nth:function(bk,e,bi,bj){e=e||1;var bh=0;for(;bk;bk=bk[bi]){if(bk.nodeType===1&&++bh===e){break}}return bk},sibling:function(bi,bh){var e=[];for(;bi;bi=bi.nextSibling){if(bi.nodeType===1&&bi!==bh){e.push(bi)}}return e}});function az(bj,bi,e){if(a.isFunction(bi)){return a.grep(bj,function(bl,bk){var bm=!!bi.call(bl,bk,bl);return bm===e})}else{if(bi.nodeType){return a.grep(bj,function(bl,bk){return(bl===bi)===e})}else{if(typeof bi==="string"){var bh=a.grep(bj,function(bk){return bk.nodeType===1});if(bd.test(bi)){return a.filter(bi,bh,!e)}else{bi=a.filter(bi,bh)}}}}return a.grep(bj,function(bl,bk){return(a.inArray(bl,bi)>=0)===e})}var af=/ jQuery\d+="(?:\d+|null)"/g,an=/^\s+/,S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,z=/<tbody/i,X=/<|&#?\w+;/,P=/<(?:script|object|embed|option|style)/i,o=/checked\s*(?:[^=]|=\s*.checked.)/i,ar={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ar.optgroup=ar.option;ar.tbody=ar.tfoot=ar.colgroup=ar.caption=ar.thead;ar.th=ar.td;if(!a.support.htmlSerialize){ar._default=[1,"div<div>","</div>"]}a.fn.extend({text:function(e){if(a.isFunction(e)){return this.each(function(bi){var bh=a(this);bh.text(e.call(this,bi,bh.text()))})}if(typeof e!=="object"&&e!==L){return this.empty().append((this[0]&&this[0].ownerDocument||ap).createTextNode(e))}return a.text(this)},wrapAll:function(e){if(a.isFunction(e)){return this.each(function(bi){a(this).wrapAll(e.call(this,bi))})}if(this[0]){var bh=a(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bh.insertBefore(this[0])}bh.map(function(){var bi=this;while(bi.firstChild&&bi.firstChild.nodeType===1){bi=bi.firstChild}return bi}).append(this)}return this},wrapInner:function(e){if(a.isFunction(e)){return this.each(function(bh){a(this).wrapInner(e.call(this,bh))})}return this.each(function(){var bh=a(this),bi=bh.contents();if(bi.length){bi.wrapAll(e)}else{bh.append(e)}})},wrap:function(e){return this.each(function(){a(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!a.nodeName(this,"body")){a(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bh){this.parentNode.insertBefore(bh,this)})}else{if(arguments.length){var e=a(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bh){this.parentNode.insertBefore(bh,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,a(arguments[0]).toArray());return e}}},remove:function(e,bj){for(var bh=0,bi;(bi=this[bh])!=null;bh++){if(!e||a.filter(e,[bi]).length){if(!bj&&bi.nodeType===1){a.cleanData(bi.getElementsByTagName("*"));a.cleanData([bi])}if(bi.parentNode){bi.parentNode.removeChild(bi)}}}return this},empty:function(){for(var e=0,bh;(bh=this[e])!=null;e++){if(bh.nodeType===1){a.cleanData(bh.getElementsByTagName("*"))}while(bh.firstChild){bh.removeChild(bh.firstChild)}}return this},clone:function(bh,e){bh=bh==null?false:bh;e=e==null?bh:e;return this.map(function(){return a.clone(this,bh,e)})},html:function(bj){if(bj===L){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(af,""):null}else{if(typeof bj==="string"&&!P.test(bj)&&(a.support.leadingWhitespace||!an.test(bj))&&!ar[(c.exec(bj)||["",""])[1].toLowerCase()]){bj=bj.replace(S,"<$1></$2>");try{for(var bi=0,bh=this.length;bi<bh;bi++){if(this[bi].nodeType===1){a.cleanData(this[bi].getElementsByTagName("*"));this[bi].innerHTML=bj}}}catch(bk){this.empty().append(bj)}}else{if(a.isFunction(bj)){this.each(function(bl){var e=a(this);e.html(bj.call(this,bl,e.html()))})}else{this.empty().append(bj)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(a.isFunction(e)){return this.each(function(bj){var bi=a(this),bh=bi.html();bi.replaceWith(e.call(this,bj,bh))})}if(typeof e!=="string"){e=a(e).detach()}return this.each(function(){var bi=this.nextSibling,bh=this.parentNode;a(this).remove();if(bi){a(bi).before(e)}else{a(bh).append(e)}})}else{return this.pushStack(a(a.isFunction(e)?e():e),"replaceWith",e)}},detach:function(e){return this.remove(e,true)},domManip:function(bn,br,bq){var bj,bk,bm,bp,bo=bn[0],bh=[];if(!a.support.checkClone&&arguments.length===3&&typeof bo==="string"&&o.test(bo)){return this.each(function(){a(this).domManip(bn,br,bq,true)})}if(a.isFunction(bo)){return this.each(function(bt){var bs=a(this);bn[0]=bo.call(this,bt,br?bs.html():L);bs.domManip(bn,br,bq)})}if(this[0]){bp=bo&&bo.parentNode;if(a.support.parentNode&&bp&&bp.nodeType===11&&bp.childNodes.length===this.length){bj={fragment:bp}}else{bj=a.buildFragment(bn,this,bh)}bm=bj.fragment;if(bm.childNodes.length===1){bk=bm=bm.firstChild}else{bk=bm.firstChild}if(bk){br=br&&a.nodeName(bk,"tr");for(var bi=0,e=this.length,bl=e-1;bi<e;bi++){bq.call(br?a1(this[bi],bk):this[bi],bj.cacheable||(e>1&&bi<bl)?a.clone(bm,true,true):bm)}}if(bh.length){a.each(bh,bc)}}return this}});function a1(e,bh){return a.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function w(e,bn){if(bn.nodeType!==1||!a.hasData(e)){return}var bm=a.expando,bj=a.data(e),bk=a.data(bn,bj);if((bj=bj[bm])){var bo=bj.events;bk=bk[bm]=a.extend({},bj);if(bo){delete bk.handle;bk.events={};for(var bl in bo){for(var bi=0,bh=bo[bl].length;bi<bh;bi++){a.event.add(bn,bl+(bo[bl][bi].namespace?".":"")+bo[bl][bi].namespace,bo[bl][bi],bo[bl][bi].data)}}}}}function ag(bh,e){if(e.nodeType!==1){return}var bi=e.nodeName.toLowerCase();e.clearAttributes();e.mergeAttributes(bh);if(bi==="object"){e.outerHTML=bh.outerHTML}else{if(bi==="input"&&(bh.type==="checkbox"||bh.type==="radio")){if(bh.checked){e.defaultChecked=e.checked=bh.checked}if(e.value!==bh.value){e.value=bh.value}}else{if(bi==="option"){e.selected=bh.defaultSelected}else{if(bi==="input"||bi==="textarea"){e.defaultValue=bh.defaultValue}}}}e.removeAttribute(a.expando)}a.buildFragment=function(bl,bj,bh){var bk,e,bi,bm=(bj&&bj[0]?bj[0].ownerDocument||bj[0]:ap);if(bl.length===1&&typeof bl[0]==="string"&&bl[0].length<512&&bm===ap&&bl[0].charAt(0)==="<"&&!P.test(bl[0])&&(a.support.checkClone||!o.test(bl[0]))){e=true;bi=a.fragments[bl[0]];if(bi){if(bi!==1){bk=bi}}}if(!bk){bk=bm.createDocumentFragment();a.clean(bl,bm,bk,bh)}if(e){a.fragments[bl[0]]=bi?bk:1}return{fragment:bk,cacheable:e}};a.fragments={};a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bh){a.fn[e]=function(bi){var bl=[],bo=a(bi),bn=this.length===1&&this[0].parentNode;if(bn&&bn.nodeType===11&&bn.childNodes.length===1&&bo.length===1){bo[bh](this[0]);return this}else{for(var bm=0,bj=bo.length;bm<bj;bm++){var bk=(bm>0?this.clone(true):this).get();a(bo[bm])[bh](bk);bl=bl.concat(bk)}return this.pushStack(bl,e,bo.selector)}}});function a5(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}a.extend({clone:function(bk,bm,bi){var bl=bk.cloneNode(true),e,bh,bj;if((!a.support.noCloneEvent||!a.support.noCloneChecked)&&(bk.nodeType===1||bk.nodeType===11)&&!a.isXMLDoc(bk)){ag(bk,bl);e=a5(bk);bh=a5(bl);for(bj=0;e[bj];++bj){ag(e[bj],bh[bj])}}if(bm){w(bk,bl);if(bi){e=a5(bk);bh=a5(bl);for(bj=0;e[bj];++bj){w(e[bj],bh[bj])}}}return bl},clean:function(bi,bk,br,bm){bk=bk||ap;if(typeof bk.createElement==="undefined"){bk=bk.ownerDocument||bk[0]&&bk[0].ownerDocument||ap}var bs=[];for(var bq=0,bl;(bl=bi[bq])!=null;bq++){if(typeof bl==="number"){bl+=""}if(!bl){continue}if(typeof bl==="string"&&!X.test(bl)){bl=bk.createTextNode(bl)}else{if(typeof bl==="string"){bl=bl.replace(S,"<$1></$2>");var bt=(c.exec(bl)||["",""])[1].toLowerCase(),bj=ar[bt]||ar._default,bp=bj[0],bh=bk.createElement("div");bh.innerHTML=bj[1]+bl+bj[2];while(bp--){bh=bh.lastChild}if(!a.support.tbody){var e=z.test(bl),bo=bt==="table"&&!e?bh.firstChild&&bh.firstChild.childNodes:bj[1]==="<table>"&&!e?bh.childNodes:[];for(var bn=bo.length-1;bn>=0;--bn){if(a.nodeName(bo[bn],"tbody")&&!bo[bn].childNodes.length){bo[bn].parentNode.removeChild(bo[bn])}}}if(!a.support.leadingWhitespace&&an.test(bl)){bh.insertBefore(bk.createTextNode(an.exec(bl)[0]),bh.firstChild)}bl=bh.childNodes}}if(bl.nodeType){bs.push(bl)}else{bs=a.merge(bs,bl)}}if(br){for(bq=0;bs[bq];bq++){if(bm&&a.nodeName(bs[bq],"script")&&(!bs[bq].type||bs[bq].type.toLowerCase()==="text/javascript")){bm.push(bs[bq].parentNode?bs[bq].parentNode.removeChild(bs[bq]):bs[bq])}else{if(bs[bq].nodeType===1){bs.splice.apply(bs,[bq+1,0].concat(a.makeArray(bs[bq].getElementsByTagName("script"))))}br.appendChild(bs[bq])}}}return bs},cleanData:function(bh){var bk,bi,e=a.cache,bp=a.expando,bn=a.event.special,bm=a.support.deleteExpando;for(var bl=0,bj;(bj=bh[bl])!=null;bl++){if(bj.nodeName&&a.noData[bj.nodeName.toLowerCase()]){continue}bi=bj[a.expando];if(bi){bk=e[bi]&&e[bi][bp];if(bk&&bk.events){for(var bo in bk.events){if(bn[bo]){a.event.remove(bj,bo)}else{a.removeEvent(bj,bo,bk.handle)}}if(bk.handle){bk.handle.elem=null}}if(bm){delete bj[a.expando]}else{if(bj.removeAttribute){bj.removeAttribute(a.expando)}}delete e[bi]}}}});function bc(e,bh){if(bh.src){a.ajax({url:bh.src,async:false,dataType:"script"})}else{a.globalEval(bh.text||bh.textContent||bh.innerHTML||"")}if(bh.parentNode){bh.parentNode.removeChild(bh)}}var ai=/alpha\([^)]*\)/i,ao=/opacity=([^)]*)/,aQ=/-([a-z])/ig,C=/([A-Z])/g,a3=/^-?\d+(?:px)?$/i,bb=/^-?\d/,aZ={position:"absolute",visibility:"hidden",display:"block"},ak=["Left","Right"],aV=["Top","Bottom"],Y,aC,aP,n=function(e,bh){return bh.toUpperCase()};a.fn.css=function(e,bh){if(arguments.length===2&&bh===L){return this}return a.access(this,e,bh,true,function(bj,bi,bk){return bk!==L?a.style(bj,bi,bk):a.css(bj,bi)})};a.extend({cssHooks:{opacity:{get:function(bi,bh){if(bh){var e=Y(bi,"opacity","opacity");return e===""?"1":e}else{return bi.style.opacity}}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":a.support.cssFloat?"cssFloat":"styleFloat"},style:function(bj,bi,bo,bk){if(!bj||bj.nodeType===3||bj.nodeType===8||!bj.style){return}var bn,bl=a.camelCase(bi),bh=bj.style,bp=a.cssHooks[bl];bi=a.cssProps[bl]||bl;if(bo!==L){if(typeof bo==="number"&&isNaN(bo)||bo==null){return}if(typeof bo==="number"&&!a.cssNumber[bl]){bo+="px"}if(!bp||!("set" in bp)||(bo=bp.set(bj,bo))!==L){try{bh[bi]=bo}catch(bm){}}}else{if(bp&&"get" in bp&&(bn=bp.get(bj,false,bk))!==L){return bn}return bh[bi]}},css:function(bl,bk,bh){var bj,bi=a.camelCase(bk),e=a.cssHooks[bi];bk=a.cssProps[bi]||bi;if(e&&"get" in e&&(bj=e.get(bl,true,bh))!==L){return bj}else{if(Y){return Y(bl,bk,bi)}}},swap:function(bj,bi,bk){var e={};for(var bh in bi){e[bh]=bj.style[bh];bj.style[bh]=bi[bh]}bk.call(bj);for(bh in bi){bj.style[bh]=e[bh]}},camelCase:function(e){return e.replace(aQ,n)}});a.curCSS=a.css;a.each(["height","width"],function(bh,e){a.cssHooks[e]={get:function(bk,bj,bi){var bl;if(bj){if(bk.offsetWidth!==0){bl=q(bk,e,bi)}else{a.swap(bk,aZ,function(){bl=q(bk,e,bi)})}if(bl<=0){bl=Y(bk,e,e);if(bl==="0px"&&aP){bl=aP(bk,e,e)}if(bl!=null){return bl===""||bl==="auto"?"0px":bl}}if(bl<0||bl==null){bl=bk.style[e];return bl===""||bl==="auto"?"0px":bl}return typeof bl==="string"?bl:bl+"px"}},set:function(bi,bj){if(a3.test(bj)){bj=parseFloat(bj);if(bj>=0){return bj+"px"}}else{return bj}}}});if(!a.support.opacity){a.cssHooks.opacity={get:function(bh,e){return ao.test((e&&bh.currentStyle?bh.currentStyle.filter:bh.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bj,bk){var bi=bj.style;bi.zoom=1;var e=a.isNaN(bk)?"":"alpha(opacity="+bk*100+")",bh=bi.filter||"";bi.filter=ai.test(bh)?bh.replace(ai,e):bi.filter+" "+e}}}if(ap.defaultView&&ap.defaultView.getComputedStyle){aC=function(bl,e,bj){var bi,bk,bh;bj=bj.replace(C,"-$1").toLowerCase();if(!(bk=bl.ownerDocument.defaultView)){return L}if((bh=bk.getComputedStyle(bl,null))){bi=bh.getPropertyValue(bj);if(bi===""&&!a.contains(bl.ownerDocument.documentElement,bl)){bi=a.style(bl,bj)}}return bi}}if(ap.documentElement.currentStyle){aP=function(bk,bi){var bl,bh=bk.currentStyle&&bk.currentStyle[bi],e=bk.runtimeStyle&&bk.runtimeStyle[bi],bj=bk.style;if(!a3.test(bh)&&bb.test(bh)){bl=bj.left;if(e){bk.runtimeStyle.left=bk.currentStyle.left}bj.left=bi==="fontSize"?"1em":(bh||0);bh=bj.pixelLeft+"px";bj.left=bl;if(e){bk.runtimeStyle.left=e}}return bh===""?"auto":bh}}Y=aC||aP;function q(bi,bh,e){var bk=bh==="width"?ak:aV,bj=bh==="width"?bi.offsetWidth:bi.offsetHeight;if(e==="border"){return bj}a.each(bk,function(){if(!e){bj-=parseFloat(a.css(bi,"padding"+this))||0}if(e==="margin"){bj+=parseFloat(a.css(bi,"margin"+this))||0}else{bj-=parseFloat(a.css(bi,"border"+this+"Width"))||0}});return bj}if(a.expr&&a.expr.filters){a.expr.filters.hidden=function(bi){var bh=bi.offsetWidth,e=bi.offsetHeight;return(bh===0&&e===0)||(!a.support.reliableHiddenOffsets&&(bi.style.display||a.css(bi,"display"))==="none")};a.expr.filters.visible=function(e){return !a.expr.filters.hidden(e)}}var j=/%20/g,al=/\[\]$/,bg=/\r?\n/g,be=/#.*$/,aw=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aS=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aF=/(?:^file|^widget|\-extension):$/,aH=/^(?:GET|HEAD)$/,b=/^\/\//,M=/\?/,aY=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/^(?:select|textarea)/i,g=/\s+/,bf=/([?&])_=[^&]*/,V=/(^|\-)([a-z])/g,aN=function(bh,e,bi){return e+bi.toUpperCase()},K=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,D=a.fn.load,Z={},u={},ay,v;try{ay=ap.location.href}catch(aq){ay=ap.createElement("a");ay.href="";ay=ay.href}v=K.exec(ay.toLowerCase());function d(e){return function(bk,bm){if(typeof bk!=="string"){bm=bk;bk="*"}if(a.isFunction(bm)){var bj=bk.toLowerCase().split(g),bi=0,bl=bj.length,bh,bn,bo;for(;bi<bl;bi++){bh=bj[bi];bo=/^\+/.test(bh);if(bo){bh=bh.substr(1)||"*"}bn=e[bh]=e[bh]||[];bn[bo?"unshift":"push"](bm)}}}}function aM(bh,bq,bl,bp,bn,bj){bn=bn||bq.dataTypes[0];bj=bj||{};bj[bn]=true;var bm=bh[bn],bi=0,e=bm?bm.length:0,bk=(bh===Z),bo;for(;bi<e&&(bk||!bo);bi++){bo=bm[bi](bq,bl,bp);if(typeof bo==="string"){if(!bk||bj[bo]){bo=L}else{bq.dataTypes.unshift(bo);bo=aM(bh,bq,bl,bp,bo,bj)}}}if((bk||!bo)&&!bj["*"]){bo=aM(bh,bq,bl,bp,"*",bj)}return bo}a.fn.extend({load:function(bi,bl,bm){if(typeof bi!=="string"&&D){return D.apply(this,arguments)}else{if(!this.length){return this}}var bk=bi.indexOf(" ");if(bk>=0){var e=bi.slice(bk,bi.length);bi=bi.slice(0,bk)}var bj="GET";if(bl){if(a.isFunction(bl)){bm=bl;bl=L}else{if(typeof bl==="object"){bl=a.param(bl,a.ajaxSettings.traditional);bj="POST"}}}var bh=this;a.ajax({url:bi,type:bj,dataType:"html",data:bl,complete:function(bo,bn,bp){bp=bo.responseText;if(bo.isResolved()){bo.done(function(bq){bp=bq});bh.html(e?a("<div>").append(bp.replace(aY,"")).find(e):bp)}if(bm){bh.each(bm,[bp,bn,bo])}}});return this},serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?a.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||r.test(this.nodeName)||aS.test(this.type))}).map(function(e,bh){var bi=a(this).val();return bi==null?null:a.isArray(bi)?a.map(bi,function(bk,bj){return{name:bh.name,value:bk.replace(bg,"\r\n")}}):{name:bh.name,value:bi.replace(bg,"\r\n")}}).get()}});a.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bh){a.fn[bh]=function(bi){return this.bind(bh,bi)}});a.each(["get","post"],function(e,bh){a[bh]=function(bi,bk,bl,bj){if(a.isFunction(bk)){bj=bj||bl;bl=bk;bk=L}return a.ajax({type:bh,url:bi,data:bk,success:bl,dataType:bj})}});a.extend({getScript:function(e,bh){return a.get(e,L,bh,"script")},getJSON:function(e,bh,bi){return a.get(e,bh,bi,"json")},ajaxSetup:function(bi,e){if(!e){e=bi;bi=a.extend(true,a.ajaxSettings,e)}else{a.extend(true,bi,a.ajaxSettings,e)}for(var bh in {context:1,url:1}){if(bh in e){bi[bh]=e[bh]}else{if(bh in a.ajaxSettings){bi[bh]=a.ajaxSettings[bh]}}}return bi},ajaxSettings:{url:ay,isLocal:aF.test(v[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a2.String,"text html":true,"text json":a.parseJSON,"text xml":a.parseXML}},ajaxPrefilter:d(Z),ajaxTransport:d(u),ajax:function(bl,bj){if(typeof bl==="object"){bj=bl;bl=L}bj=bj||{};var bp=a.ajaxSetup({},bj),bD=bp.context||bp,bs=bD!==bp&&(bD.nodeType||bD instanceof a)?a(bD):a.event,bC=a.Deferred(),bz=a._Deferred(),bn=bp.statusCode||{},bo,bt={},bB,bk,bx,bq,bu,bm=0,bi,bw,bv={readyState:0,setRequestHeader:function(e,bE){if(!bm){bt[e.toLowerCase().replace(V,aN)]=bE}return this},getAllResponseHeaders:function(){return bm===2?bB:null},getResponseHeader:function(bE){var e;if(bm===2){if(!bk){bk={};while((e=aw.exec(bB))){bk[e[1].toLowerCase()]=e[2]}}e=bk[bE.toLowerCase()]}return e===L?null:e},overrideMimeType:function(e){if(!bm){bp.mimeType=e}return this},abort:function(e){e=e||"abort";if(bx){bx.abort(e)}br(0,e);return this}};function br(bJ,bH,bK,bG){if(bm===2){return}bm=2;if(bq){clearTimeout(bq)}bx=L;bB=bG||"";bv.readyState=bJ?4:0;var bE,bO,bN,bI=bK?a8(bp,bv,bK):L,bF,bM;if(bJ>=200&&bJ<300||bJ===304){if(bp.ifModified){if((bF=bv.getResponseHeader("Last-Modified"))){a.lastModified[bo]=bF}if((bM=bv.getResponseHeader("Etag"))){a.etag[bo]=bM}}if(bJ===304){bH="notmodified";bE=true}else{try{bO=H(bp,bI);bH="success";bE=true}catch(bL){bH="parsererror";bN=bL}}}else{bN=bH;if(!bH||bJ){bH="error";if(bJ<0){bJ=0}}}bv.status=bJ;bv.statusText=bH;if(bE){bC.resolveWith(bD,[bO,bH,bv])}else{bC.rejectWith(bD,[bv,bH,bN])}bv.statusCode(bn);bn=L;if(bi){bs.trigger("ajax"+(bE?"Success":"Error"),[bv,bp,bE?bO:bN])}bz.resolveWith(bD,[bv,bH]);if(bi){bs.trigger("ajaxComplete",[bv,bp]);if(!(--a.active)){a.event.trigger("ajaxStop")}}}bC.promise(bv);bv.success=bv.done;bv.error=bv.fail;bv.complete=bz.done;bv.statusCode=function(bE){if(bE){var e;if(bm<2){for(e in bE){bn[e]=[bn[e],bE[e]]}}else{e=bE[bv.status];bv.then(e,e)}}return this};bp.url=((bl||bp.url)+"").replace(be,"").replace(b,v[1]+"//");bp.dataTypes=a.trim(bp.dataType||"*").toLowerCase().split(g);if(!bp.crossDomain){bu=K.exec(bp.url.toLowerCase());bp.crossDomain=!!(bu&&(bu[1]!=v[1]||bu[2]!=v[2]||(bu[3]||(bu[1]==="http:"?80:443))!=(v[3]||(v[1]==="http:"?80:443))))}if(bp.data&&bp.processData&&typeof bp.data!=="string"){bp.data=a.param(bp.data,bp.traditional)}aM(Z,bp,bj,bv);if(bm===2){return false}bi=bp.global;bp.type=bp.type.toUpperCase();bp.hasContent=!aH.test(bp.type);if(bi&&a.active++===0){a.event.trigger("ajaxStart")}if(!bp.hasContent){if(bp.data){bp.url+=(M.test(bp.url)?"&":"?")+bp.data}bo=bp.url;if(bp.cache===false){var bh=a.now(),bA=bp.url.replace(bf,"$1_="+bh);bp.url=bA+((bA===bp.url)?(M.test(bp.url)?"&":"?")+"_="+bh:"")}}if(bp.data&&bp.hasContent&&bp.contentType!==false||bj.contentType){bt["Content-Type"]=bp.contentType}if(bp.ifModified){bo=bo||bp.url;if(a.lastModified[bo]){bt["If-Modified-Since"]=a.lastModified[bo]}if(a.etag[bo]){bt["If-None-Match"]=a.etag[bo]}}bt.Accept=bp.dataTypes[0]&&bp.accepts[bp.dataTypes[0]]?bp.accepts[bp.dataTypes[0]]+(bp.dataTypes[0]!=="*"?", */*; q=0.01":""):bp.accepts["*"];for(bw in bp.headers){bv.setRequestHeader(bw,bp.headers[bw])}if(bp.beforeSend&&(bp.beforeSend.call(bD,bv,bp)===false||bm===2)){bv.abort();return false}for(bw in {success:1,error:1,complete:1}){bv[bw](bp[bw])}bx=aM(u,bp,bj,bv);if(!bx){br(-1,"No Transport")}else{bv.readyState=1;if(bi){bs.trigger("ajaxSend",[bv,bp])}if(bp.async&&bp.timeout>0){bq=setTimeout(function(){bv.abort("timeout")},bp.timeout)}try{bm=1;bx.send(bt,br)}catch(by){if(status<2){br(-1,by)}else{a.error(by)}}}return bv},param:function(e,bi){var bh=[],bk=function(bl,bm){bm=a.isFunction(bm)?bm():bm;bh[bh.length]=encodeURIComponent(bl)+"="+encodeURIComponent(bm)};if(bi===L){bi=a.ajaxSettings.traditional}if(a.isArray(e)||(e.jquery&&!a.isPlainObject(e))){a.each(e,function(){bk(this.name,this.value)})}else{for(var bj in e){y(bj,e[bj],bi,bk)}}return bh.join("&").replace(j,"+")}});function y(bi,bk,bh,bj){if(a.isArray(bk)&&bk.length){a.each(bk,function(bm,bl){if(bh||al.test(bi)){bj(bi,bl)}else{y(bi+"["+(typeof bl==="object"||a.isArray(bl)?bm:"")+"]",bl,bh,bj)}})}else{if(!bh&&bk!=null&&typeof bk==="object"){if(a.isArray(bk)||a.isEmptyObject(bk)){bj(bi,"")}else{for(var e in bk){y(bi+"["+e+"]",bk[e],bh,bj)}}}else{bj(bi,bk)}}}a.extend({active:0,lastModified:{},etag:{}});function a8(bp,bo,bl){var bh=bp.contents,bn=bp.dataTypes,bi=bp.responseFields,bk,bm,bj,e;for(bm in bi){if(bm in bl){bo[bi[bm]]=bl[bm]}}while(bn[0]==="*"){bn.shift();if(bk===L){bk=bp.mimeType||bo.getResponseHeader("content-type")}}if(bk){for(bm in bh){if(bh[bm]&&bh[bm].test(bk)){bn.unshift(bm);break}}}if(bn[0] in bl){bj=bn[0]}else{for(bm in bl){if(!bn[0]||bp.converters[bm+" "+bn[0]]){bj=bm;break}if(!e){e=bm}}bj=bj||e}if(bj){if(bj!==bn[0]){bn.unshift(bj)}return bl[bj]}}function H(bt,bl){if(bt.dataFilter){bl=bt.dataFilter(bl,bt.dataType)}var bp=bt.dataTypes,bs={},bm,bq,bi=bp.length,bn,bo=bp[0],bj,bk,br,bh,e;for(bm=1;bm<bi;bm++){if(bm===1){for(bq in bt.converters){if(typeof bq==="string"){bs[bq.toLowerCase()]=bt.converters[bq]}}}bj=bo;bo=bp[bm];if(bo==="*"){bo=bj}else{if(bj!=="*"&&bj!==bo){bk=bj+" "+bo;br=bs[bk]||bs["* "+bo];if(!br){e=L;for(bh in bs){bn=bh.split(" ");if(bn[0]===bj||bn[0]==="*"){e=bs[bn[1]+" "+bo];if(e){bh=bs[bh];if(bh===true){br=e}else{if(e===true){br=bh}}break}}}}if(!(br||e)){a.error("No conversion from "+bk.replace(" "," to "))}if(br!==true){bl=br?br(bl):e(bh(bl))}}}}return bl}var av=a.now(),x=/(\=)\?(&|$)|()\?\?()/i;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return a.expando+"_"+(av++)}});a.ajaxPrefilter("json jsonp",function(bq,bm,bp){var bo=(typeof bq.data==="string");if(bq.dataTypes[0]==="jsonp"||bm.jsonpCallback||bm.jsonp!=null||bq.jsonp!==false&&(x.test(bq.url)||bo&&x.test(bq.data))){var bn,bi=bq.jsonpCallback=a.isFunction(bq.jsonpCallback)?bq.jsonpCallback():bq.jsonpCallback,bl=a2[bi],e=bq.url,bk=bq.data,bh="$1"+bi+"$2",bj=function(){a2[bi]=bl;if(bn&&a.isFunction(bl)){a2[bi](bn[0])}};if(bq.jsonp!==false){e=e.replace(x,bh);if(bq.url===e){if(bo){bk=bk.replace(x,bh)}if(bq.data===bk){e+=(/\?/.test(e)?"&":"?")+bq.jsonp+"="+bi}}}bq.url=e;bq.data=bk;a2[bi]=function(br){bn=[br]};bp.then(bj,bj);bq.converters["script json"]=function(){if(!bn){a.error(bi+" was not called")}return bn[0]};bq.dataTypes[0]="json";return"script"}});a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){a.globalEval(e);return e}}});a.ajaxPrefilter("script",function(e){if(e.cache===L){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});a.ajaxTransport("script",function(bi){if(bi.crossDomain){var e,bh=ap.head||ap.getElementsByTagName("head")[0]||ap.documentElement;return{send:function(bj,bk){e=ap.createElement("script");e.async="async";if(bi.scriptCharset){e.charset=bi.scriptCharset}e.src=bi.url;e.onload=e.onreadystatechange=function(bm,bl){if(!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bh&&e.parentNode){bh.removeChild(e)}e=L;if(!bl){bk(200,"success")}}};bh.insertBefore(e,bh.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var B=a.now(),N,ax;function E(){a(a2).unload(function(){for(var e in N){N[e](0,1)}})}function aE(){try{return new a2.XMLHttpRequest()}catch(bh){}}function ah(){try{return new a2.ActiveXObject("Microsoft.XMLHTTP")}catch(bh){}}a.ajaxSettings.xhr=a2.ActiveXObject?function(){return !this.isLocal&&aE()||ah()}:aE;ax=a.ajaxSettings.xhr();a.support.ajax=!!ax;a.support.cors=ax&&("withCredentials" in ax);ax=L;if(a.support.ajax){a.ajaxTransport(function(e){if(!e.crossDomain||a.support.cors){var bh;return{send:function(bn,bi){var bm=e.xhr(),bl,bk;if(e.username){bm.open(e.type,e.url,e.async,e.username,e.password)}else{bm.open(e.type,e.url,e.async)}if(e.xhrFields){for(bk in e.xhrFields){bm[bk]=e.xhrFields[bk]}}if(e.mimeType&&bm.overrideMimeType){bm.overrideMimeType(e.mimeType)}if(!(e.crossDomain&&!e.hasContent)&&!bn["X-Requested-With"]){bn["X-Requested-With"]="XMLHttpRequest"}try{for(bk in bn){bm.setRequestHeader(bk,bn[bk])}}catch(bj){}bm.send((e.hasContent&&e.data)||null);bh=function(bw,bq){var br,bp,bo,bu,bt;try{if(bh&&(bq||bm.readyState===4)){bh=L;if(bl){bm.onreadystatechange=a.noop;delete N[bl]}if(bq){if(bm.readyState!==4){bm.abort()}}else{br=bm.status;bo=bm.getAllResponseHeaders();bu={};bt=bm.responseXML;if(bt&&bt.documentElement){bu.xml=bt}bu.text=bm.responseText;try{bp=bm.statusText}catch(bv){bp=""}if(!br&&e.isLocal&&!e.crossDomain){br=bu.text?200:404}else{if(br===1223){br=204}}}}}catch(bs){if(!bq){bi(-1,bs)}}if(bu){bi(br,bp,bu,bo)}};if(!e.async||bm.readyState===4){bh()}else{if(!N){N={};E()}bl=B++;bm.onreadystatechange=N[bl]=bh}},abort:function(){if(bh){bh(0,1)}}}}})}var R={},au=/^(?:toggle|show|hide)$/,aJ=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,aW,aB=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];a.fn.extend({show:function(bj,bm,bl){var bi,bk;if(bj||bj===0){return this.animate(aU("show",3),bj,bm,bl)}else{for(var bh=0,e=this.length;bh<e;bh++){bi=this[bh];bk=bi.style.display;if(!a._data(bi,"olddisplay")&&bk==="none"){bk=bi.style.display=""}if(bk===""&&a.css(bi,"display")==="none"){a._data(bi,"olddisplay",A(bi.nodeName))}}for(bh=0;bh<e;bh++){bi=this[bh];bk=bi.style.display;if(bk===""||bk==="none"){bi.style.display=a._data(bi,"olddisplay")||""}}return this}},hide:function(bi,bl,bk){if(bi||bi===0){return this.animate(aU("hide",3),bi,bl,bk)}else{for(var bh=0,e=this.length;bh<e;bh++){var bj=a.css(this[bh],"display");if(bj!=="none"&&!a._data(this[bh],"olddisplay")){a._data(this[bh],"olddisplay",bj)}}for(bh=0;bh<e;bh++){this[bh].style.display="none"}return this}},_toggle:a.fn.toggle,toggle:function(bi,bh,bj){var e=typeof bi==="boolean";if(a.isFunction(bi)&&a.isFunction(bh)){this._toggle.apply(this,arguments)}else{if(bi==null||e){this.each(function(){var bk=e?bi:a(this).is(":hidden");a(this)[bk?"show":"hide"]()})}else{this.animate(aU("toggle",3),bi,bh,bj)}}return this},fadeTo:function(e,bj,bi,bh){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bj},e,bi,bh)},animate:function(bk,bh,bj,bi){var e=a.speed(bh,bj,bi);if(a.isEmptyObject(bk)){return this.each(e.complete)}return this[e.queue===false?"each":"queue"](function(){var bn=a.extend({},e),br,bo=this.nodeType===1,bp=bo&&a(this).is(":hidden"),bl=this;for(br in bk){var bm=a.camelCase(br);if(br!==bm){bk[bm]=bk[br];delete bk[br];br=bm}if(bk[br]==="hide"&&bp||bk[br]==="show"&&!bp){return bn.complete.call(this)}if(bo&&(br==="height"||br==="width")){bn.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(a.css(this,"display")==="inline"&&a.css(this,"float")==="none"){if(!a.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{var bq=A(this.nodeName);if(bq==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}if(a.isArray(bk[br])){(bn.specialEasing=bn.specialEasing||{})[br]=bk[br][1];bk[br]=bk[br][0]}}if(bn.overflow!=null){this.style.overflow="hidden"}bn.curAnim=a.extend({},bk);a.each(bk,function(bt,bx){var bw=new a.fx(bl,bn,bt);if(au.test(bx)){bw[bx==="toggle"?bp?"show":"hide":bx](bk)}else{var bv=aJ.exec(bx),by=bw.cur();if(bv){var bs=parseFloat(bv[2]),bu=bv[3]||(a.cssNumber[bt]?"":"px");if(bu!=="px"){a.style(bl,bt,(bs||1)+bu);by=((bs||1)/bw.cur())*by;a.style(bl,bt,by+bu)}if(bv[1]){bs=((bv[1]==="-="?-1:1)*bs)+by}bw.custom(by,bs,bu)}else{bw.custom(by,bx,"")}}});return true})},stop:function(bh,e){var bi=a.timers;if(bh){this.queue([])}this.each(function(){for(var bj=bi.length-1;bj>=0;bj--){if(bi[bj].elem===this){if(e){bi[bj](true)}bi.splice(bj,1)}}});if(!e){this.dequeue()}return this}});function aU(bh,e){var bi={};a.each(aB.concat.apply([],aB.slice(0,e)),function(){bi[this]=bh});return bi}a.each({slideDown:aU("show",1),slideUp:aU("hide",1),slideToggle:aU("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bh){a.fn[e]=function(bi,bk,bj){return this.animate(bh,bi,bk,bj)}});a.extend({speed:function(bi,bj,bh){var e=bi&&typeof bi==="object"?a.extend({},bi):{complete:bh||!bh&&bj||a.isFunction(bi)&&bi,duration:bi,easing:bh&&bj||bj&&!a.isFunction(bj)&&bj};e.duration=a.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in a.fx.speeds?a.fx.speeds[e.duration]:a.fx.speeds._default;e.old=e.complete;e.complete=function(){if(e.queue!==false){a(this).dequeue()}if(a.isFunction(e.old)){e.old.call(this)}};return e},easing:{linear:function(bi,bj,e,bh){return e+bh*bi},swing:function(bi,bj,e,bh){return((-Math.cos(bi*Math.PI)/2)+0.5)*bh+e}},timers:[],fx:function(bh,e,bi){this.options=e;this.elem=bh;this.prop=bi;if(!e.orig){e.orig={}}}});a.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(a.fx.step[this.prop]||a.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bh=a.css(this.elem,this.prop);return isNaN(e=parseFloat(bh))?!bh||bh==="auto"?0:bh:e},custom:function(bl,bk,bj){var e=this,bi=a.fx;this.startTime=a.now();this.start=bl;this.end=bk;this.unit=bj||this.unit||(a.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function bh(bm){return e.step(bm)}bh.elem=this.elem;if(bh()&&a.timers.push(bh)&&!aW){aW=setInterval(bi.tick,bi.interval)}},show:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());a(this.elem).show()},hide:function(){this.options.orig[this.prop]=a.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bj){var bo=a.now(),bk=true;if(bj||bo>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var bl in this.options.curAnim){if(this.options.curAnim[bl]!==true){bk=false}}if(bk){if(this.options.overflow!=null&&!a.support.shrinkWrapBlocks){var bi=this.elem,bp=this.options;a.each(["","X","Y"],function(bq,br){bi.style["overflow"+br]=bp.overflow[bq]})}if(this.options.hide){a(this.elem).hide()}if(this.options.hide||this.options.show){for(var e in this.options.curAnim){a.style(this.elem,e,this.options.orig[e])}}this.options.complete.call(this.elem)}return false}else{var bh=bo-this.startTime;this.state=bh/this.options.duration;var bm=this.options.specialEasing&&this.options.specialEasing[this.prop];var bn=this.options.easing||(a.easing.swing?"swing":"linear");this.pos=a.easing[bm||bn](this.state,bh,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};a.extend(a.fx,{tick:function(){var bh=a.timers;for(var e=0;e<bh.length;e++){if(!bh[e]()){bh.splice(e--,1)}}if(!bh.length){a.fx.stop()}},interval:13,stop:function(){clearInterval(aW);aW=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){a.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(a.expr&&a.expr.filters){a.expr.filters.animated=function(e){return a.grep(a.timers,function(bh){return e===bh.elem}).length}}function A(bi){if(!R[bi]){var e=a("<"+bi+">").appendTo("body"),bh=e.css("display");e.remove();if(bh==="none"||bh===""){bh="block"}R[bi]=bh}return R[bi]}var W=/^t(?:able|d|h)$/i,ac=/^(?:body|html)$/i;if("getBoundingClientRect" in ap.documentElement){a.fn.offset=function(bu){var bk=this[0],bn;if(bu){return this.each(function(e){a.offset.setOffset(this,bu,e)})}if(!bk||!bk.ownerDocument){return null}if(bk===bk.ownerDocument.body){return a.offset.bodyOffset(bk)}try{bn=bk.getBoundingClientRect()}catch(br){}var bt=bk.ownerDocument,bi=bt.documentElement;if(!bn||!a.contains(bi,bk)){return bn?{top:bn.top,left:bn.left}:{top:0,left:0}}var bo=bt.body,bp=aD(bt),bm=bi.clientTop||bo.clientTop||0,bq=bi.clientLeft||bo.clientLeft||0,bh=(bp.pageYOffset||a.support.boxModel&&bi.scrollTop||bo.scrollTop),bl=(bp.pageXOffset||a.support.boxModel&&bi.scrollLeft||bo.scrollLeft),bs=bn.top+bh-bm,bj=bn.left+bl-bq;return{top:bs,left:bj}}}else{a.fn.offset=function(br){var bl=this[0];if(br){return this.each(function(bs){a.offset.setOffset(this,br,bs)})}if(!bl||!bl.ownerDocument){return null}if(bl===bl.ownerDocument.body){return a.offset.bodyOffset(bl)}a.offset.initialize();var bo,bi=bl.offsetParent,bh=bl,bq=bl.ownerDocument,bj=bq.documentElement,bm=bq.body,bn=bq.defaultView,e=bn?bn.getComputedStyle(bl,null):bl.currentStyle,bp=bl.offsetTop,bk=bl.offsetLeft;while((bl=bl.parentNode)&&bl!==bm&&bl!==bj){if(a.offset.supportsFixedPosition&&e.position==="fixed"){break}bo=bn?bn.getComputedStyle(bl,null):bl.currentStyle;bp-=bl.scrollTop;bk-=bl.scrollLeft;if(bl===bi){bp+=bl.offsetTop;bk+=bl.offsetLeft;if(a.offset.doesNotAddBorder&&!(a.offset.doesAddBorderForTableAndCells&&W.test(bl.nodeName))){bp+=parseFloat(bo.borderTopWidth)||0;bk+=parseFloat(bo.borderLeftWidth)||0}bh=bi;bi=bl.offsetParent}if(a.offset.subtractsBorderForOverflowNotVisible&&bo.overflow!=="visible"){bp+=parseFloat(bo.borderTopWidth)||0;bk+=parseFloat(bo.borderLeftWidth)||0}e=bo}if(e.position==="relative"||e.position==="static"){bp+=bm.offsetTop;bk+=bm.offsetLeft}if(a.offset.supportsFixedPosition&&e.position==="fixed"){bp+=Math.max(bj.scrollTop,bm.scrollTop);bk+=Math.max(bj.scrollLeft,bm.scrollLeft)}return{top:bp,left:bk}}}a.offset={initialize:function(){var e=ap.body,bh=ap.createElement("div"),bk,bm,bl,bn,bi=parseFloat(a.css(e,"marginTop"))||0,bj="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.extend(bh.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});bh.innerHTML=bj;e.insertBefore(bh,e.firstChild);bk=bh.firstChild;bm=bk.firstChild;bn=bk.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(bm.offsetTop!==5);this.doesAddBorderForTableAndCells=(bn.offsetTop===5);bm.style.position="fixed";bm.style.top="20px";this.supportsFixedPosition=(bm.offsetTop===20||bm.offsetTop===15);bm.style.position=bm.style.top="";bk.style.overflow="hidden";bk.style.position="relative";this.subtractsBorderForOverflowNotVisible=(bm.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bi);e.removeChild(bh);e=bh=bk=bm=bl=bn=null;a.offset.initialize=a.noop},bodyOffset:function(e){var bi=e.offsetTop,bh=e.offsetLeft;a.offset.initialize();if(a.offset.doesNotIncludeMarginInBodyOffset){bi+=parseFloat(a.css(e,"marginTop"))||0;bh+=parseFloat(a.css(e,"marginLeft"))||0}return{top:bi,left:bh}},setOffset:function(bj,bs,bm){var bn=a.css(bj,"position");if(bn==="static"){bj.style.position="relative"}var bl=a(bj),bh=bl.offset(),e=a.css(bj,"top"),bq=a.css(bj,"left"),br=(bn==="absolute"&&a.inArray("auto",[e,bq])>-1),bp={},bo={},bi,bk;if(br){bo=bl.position()}bi=br?bo.top:parseInt(e,10)||0;bk=br?bo.left:parseInt(bq,10)||0;if(a.isFunction(bs)){bs=bs.call(bj,bm,bh)}if(bs.top!=null){bp.top=(bs.top-bh.top)+bi}if(bs.left!=null){bp.left=(bs.left-bh.left)+bk}if("using" in bs){bs.using.call(bj,bp)}else{bl.css(bp)}}};a.fn.extend({position:function(){if(!this[0]){return null}var bi=this[0],bh=this.offsetParent(),bj=this.offset(),e=ac.test(bh[0].nodeName)?{top:0,left:0}:bh.offset();bj.top-=parseFloat(a.css(bi,"marginTop"))||0;bj.left-=parseFloat(a.css(bi,"marginLeft"))||0;e.top+=parseFloat(a.css(bh[0],"borderTopWidth"))||0;e.left+=parseFloat(a.css(bh[0],"borderLeftWidth"))||0;return{top:bj.top-e.top,left:bj.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||ap.body;while(e&&(!ac.test(e.nodeName)&&a.css(e,"position")==="static")){e=e.offsetParent}return e})}});a.each(["Left","Top"],function(bh,e){var bi="scroll"+e;a.fn[bi]=function(bl){var bj=this[0],bk;if(!bj){return null}if(bl!==L){return this.each(function(){bk=aD(this);if(bk){bk.scrollTo(!bh?bl:a(bk).scrollLeft(),bh?bl:a(bk).scrollTop())}else{this[bi]=bl}})}else{bk=aD(bj);return bk?("pageXOffset" in bk)?bk[bh?"pageYOffset":"pageXOffset"]:a.support.boxModel&&bk.document.documentElement[bi]||bk.document.body[bi]:bj[bi]}}});function aD(e){return a.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}a.each(["Height","Width"],function(bh,e){var bi=e.toLowerCase();a.fn["inner"+e]=function(){return this[0]?parseFloat(a.css(this[0],bi,"padding")):null};a.fn["outer"+e]=function(bj){return this[0]?parseFloat(a.css(this[0],bi,bj?"margin":"border")):null};a.fn[bi]=function(bk){var bl=this[0];if(!bl){return bk==null?null:this}if(a.isFunction(bk)){return this.each(function(bp){var bo=a(this);bo[bi](bk.call(this,bp,bo[bi]()))})}if(a.isWindow(bl)){var bm=bl.document.documentElement["client"+e];return bl.document.compatMode==="CSS1Compat"&&bm||bl.document.body["client"+e]||bm}else{if(bl.nodeType===9){return Math.max(bl.documentElement["client"+e],bl.body["scroll"+e],bl.documentElement["scroll"+e],bl.body["offset"+e],bl.documentElement["offset"+e])}else{if(bk===L){var bn=a.css(bl,bi),bj=parseFloat(bn);return a.isNaN(bj)?bn:bj}else{return this.css(bi,typeof bk==="string"?bk:bk+"px")}}}}});a2.jQuery=a2.$=a})(window);
/*
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.02 (12-NOV-2009)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(c){var a=navigator.userAgent;var f=c.browser.mozilla&&/gecko/i.test(a);var h=c.browser.safari&&/Safari\/[5-9]/.test(a);var g=c.browser.msie&&(function(){var m=document.createElement("div");try{m.style.setExpression("width","0+0")}catch(l){return false}return true})();function e(l,m){return parseInt(c.css(l,m))||0}function j(l){var l=parseInt(l).toString(16);return(l.length<2)?"0"+l:l}function b(n){for(;n&&n.nodeName.toLowerCase()!="html";n=n.parentNode){var l=c.css(n,"backgroundColor");if(l=="rgba(0, 0, 0, 0)"){continue}if(l.indexOf("rgb")>=0){var m=l.match(/\d+/g);return"#"+j(m[0])+j(m[1])+j(m[2])}if(l&&l!="transparent"){return l}}return"#ffffff"}function d(n,l,m){switch(n){case"round":return Math.round(m*(1-Math.cos(Math.asin(l/m))));case"cool":return Math.round(m*(1+Math.cos(Math.asin(l/m))));case"sharp":return Math.round(m*(1-Math.cos(Math.acos(l/m))));case"bite":return Math.round(m*(Math.cos(Math.asin((m-l-1)/m))));case"slide":return Math.round(m*(Math.atan2(l,m/l)));case"jut":return Math.round(m*(Math.atan2(m,(m-l-1))));case"curl":return Math.round(m*(Math.atan(l)));case"tear":return Math.round(m*(Math.cos(l)));case"wicked":return Math.round(m*(Math.tan(l)));case"long":return Math.round(m*(Math.sqrt(l)));case"sculpt":return Math.round(m*(Math.log((m-l-1),m)));case"dog":return(l&1)?(l+1):m;case"dog2":return(l&2)?(l+1):m;case"dog3":return(l&3)?(l+1):m;case"fray":return(l%2)*m;case"notch":return m;case"bevel":return l+1}}c.fn.corner=function(l){if(this.length==0){if(!c.isReady&&this.selector){var m=this.selector,n=this.context;c(function(){c(m,n).corner(l)})}return this}return this.each(function(v){var u=c(this);var C=[l||"",u.attr(c.fn.corner.defaults.metaAttr)||""].join(" ").toLowerCase();var J=/keep/.test(C);var B=((C.match(/cc:(#[0-9a-f]+)/)||[])[1]);var p=((C.match(/sc:(#[0-9a-f]+)/)||[])[1]);var F=parseInt((C.match(/(\d+)px/)||[])[1])||10;var D=/round|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dog/;var r=((C.match(D)||["round"])[0]);var q={T:0,B:1};var z={TL:/top|tl|left/.test(C),TR:/top|tr|right/.test(C),BL:/bottom|bl|left/.test(C),BR:/bottom|br|right/.test(C)};if(!z.TL&&!z.TR&&!z.BL&&!z.BR){z={TL:1,TR:1,BL:1,BR:1}}if(c.fn.corner.defaults.useNative&&r=="round"&&(f||h)&&!B&&!p){if(z.TL){u.css(f?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",F+"px")}if(z.TR){u.css(f?"-moz-border-radius-topright":"-webkit-border-top-right-radius",F+"px")}if(z.BL){u.css(f?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",F+"px")}if(z.BR){u.css(f?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",F+"px")}return}var G=document.createElement("div");G.style.overflow="hidden";G.style.height="1px";G.style.backgroundColor=p||"transparent";G.style.borderStyle="solid";var M={T:parseInt(c.css(this,"paddingTop"))||0,R:parseInt(c.css(this,"paddingRight"))||0,B:parseInt(c.css(this,"paddingBottom"))||0,L:parseInt(c.css(this,"paddingLeft"))||0};if(typeof this.style.zoom!=undefined){this.style.zoom=1}if(!J){this.style.border="none"}G.style.borderColor=B||b(this.parentNode);var E=c.curCSS(this,"height");for(var H in q){var y=q[H];if((y&&(z.BL||z.BR))||(!y&&(z.TL||z.TR))){G.style.borderStyle="none "+(z[H+"R"]?"solid":"none")+" none "+(z[H+"L"]?"solid":"none");var N=document.createElement("div");c(N).addClass("jquery-corner");var A=N.style;y?this.appendChild(N):this.insertBefore(N,this.firstChild);if(y&&E!="auto"){if(c.css(this,"position")=="static"){this.style.position="relative"}A.position="absolute";A.bottom=A.left=A.padding=A.margin="0";if(g){A.setExpression("width","this.parentNode.offsetWidth")}else{A.width="100%"}}else{if(!y&&c.browser.msie){if(c.css(this,"position")=="static"){this.style.position="relative"}A.position="absolute";A.top=A.left=A.right=A.padding=A.margin="0";if(g){var K=e(this,"borderLeftWidth")+e(this,"borderRightWidth");A.setExpression("width","this.parentNode.offsetWidth - "+K+'+ "px"')}else{A.width="100%"}}else{A.position="relative";A.margin=!y?"-"+M.T+"px -"+M.R+"px "+(M.T-F)+"px -"+M.L+"px":(M.B-F)+"px -"+M.R+"px -"+M.B+"px -"+M.L+"px"}}for(var I=0;I<F;I++){var x=Math.max(0,d(r,I,F));var L=G.cloneNode(false);L.style.borderWidth="0 "+(z[H+"R"]?x:0)+"px 0 "+(z[H+"L"]?x:0)+"px";y?N.appendChild(L):N.insertBefore(L,N.firstChild)}}}})};c.fn.uncorner=function(){if(f||h){this.css(f?"-moz-border-radius":"-webkit-border-radius",0)}c("div.jquery-corner",this).remove();return this};c.fn.corner.defaults={useNative:true,metaAttr:"data-corner"}})(jQuery);
/*
 * jQuery UI 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(a,c){a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.10",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(d,e){return typeof d==="number"?this.each(function(){var f=this;setTimeout(function(){a(f).focus();if(e){e.call(f)}},d)}):this._focus.apply(this,arguments)},scrollParent:function(){var d;if((a.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){d=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{d=this.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!d.length?a(document):d},zIndex:function(g){if(g!==c){return this.css("zIndex",g)}if(this.length){var e=a(this[0]),d,f;while(e.length&&e[0]!==document){d=e.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){f=parseInt(e.css("zIndex"),10);if(!isNaN(f)&&f!==0){return f}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(d){d.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(f,d){var e=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),j={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function h(n,m,l,o){a.each(e,function(){m-=parseFloat(a.curCSS(n,"padding"+this,true))||0;if(l){m-=parseFloat(a.curCSS(n,"border"+this+"Width",true))||0}if(o){m-=parseFloat(a.curCSS(n,"margin"+this,true))||0}});return m}a.fn["inner"+d]=function(l){if(l===c){return j["inner"+d].call(this)}return this.each(function(){a(this).css(g,h(this,l)+"px")})};a.fn["outer"+d]=function(l,m){if(typeof l!=="number"){return j["outer"+d].call(this,l)}return this.each(function(){a(this).css(g,h(this,l,true,m)+"px")})}});function b(d){return !a(d).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{data:function(f,e,d){return !!a.data(f,d[3])},focusable:function(f){var j=f.nodeName.toLowerCase(),d=a.attr(f,"tabindex");if("area"===j){var h=f.parentNode,g=h.name,e;if(!f.href||!g||h.nodeName.toLowerCase()!=="map"){return false}e=a("img[usemap=#"+g+"]")[0];return !!e&&b(e)}return(/input|select|textarea|button|object/.test(j)?!f.disabled:"a"==j?f.href||!isNaN(d):!isNaN(d))&&b(f)},tabbable:function(e){var d=a.attr(e,"tabindex");return(isNaN(d)||d>=0)&&a(e).is(":focusable")}});a(function(){var d=document.body,e=d.appendChild(e=document.createElement("div"));a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=e.offsetHeight===100;a.support.selectstart="onselectstart" in e;d.removeChild(e).style.display="none"});a.extend(a.ui,{plugin:{add:function(e,f,h){var g=a.ui[e].prototype;for(var d in h){g.plugins[d]=g.plugins[d]||[];g.plugins[d].push([f,h[d]])}},call:function(d,f,e){var h=d.plugins[f];if(!h||!d.element[0].parentNode){return}for(var g=0;g<h.length;g++){if(d.options[h[g][0]]){h[g][1].apply(d.element,e)}}}},contains:function(e,d){return document.compareDocumentPosition?e.compareDocumentPosition(d)&16:e!==d&&e.contains(d)},hasScroll:function(g,e){if(a(g).css("overflow")==="hidden"){return false}var d=(e&&e==="left")?"scrollLeft":"scrollTop",f=false;if(g[d]>0){return true}g[d]=1;f=(g[d]>0);g[d]=0;return f},isOverAxis:function(e,d,f){return(e>d)&&(e<(d+f))},isOver:function(j,e,h,g,d,f){return a.ui.isOverAxis(j,h,d)&&a.ui.isOverAxis(e,g,f)}})})(jQuery);
/*
 * jQuery UI Widget 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,d){if(b.cleanData){var c=b.cleanData;b.cleanData=function(e){for(var f=0,g;(g=e[f])!=null;f++){b(g).triggerHandler("remove")}c(e)}}else{var a=b.fn.remove;b.fn.remove=function(e,f){return this.each(function(){if(!f){if(!e||b.filter(e,[this]).length){b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")})}}return a.call(b(this),e,f)})}}b.widget=function(f,h,e){var g=f.split(".")[0],l;f=f.split(".")[1];l=g+"-"+f;if(!e){e=h;h=b.Widget}b.expr[":"][l]=function(m){return !!b.data(m,f)};b[g]=b[g]||{};b[g][f]=function(m,n){if(arguments.length){this._createWidget(m,n)}};var j=new h();j.options=b.extend(true,{},j.options);b[g][f].prototype=b.extend(true,j,{namespace:g,widgetName:f,widgetEventPrefix:b[g][f].prototype.widgetEventPrefix||f,widgetBaseClass:l},e);b.widget.bridge(f,b[g][f])};b.widget.bridge=function(f,e){b.fn[f]=function(j){var g=typeof j==="string",h=Array.prototype.slice.call(arguments,1),l=this;j=!g&&h.length?b.extend.apply(null,[true,j].concat(h)):j;if(g&&j.charAt(0)==="_"){return l}if(g){this.each(function(){var m=b.data(this,f),n=m&&b.isFunction(m[j])?m[j].apply(m,h):m;if(n!==m&&n!==d){l=n;return false}})}else{this.each(function(){var m=b.data(this,f);if(m){m.option(j||{})._init()}else{b.data(this,f,new e(j,this))}})}return l}};b.Widget=function(e,f){if(arguments.length){this._createWidget(e,f)}};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(f,g){b.data(g,this.widgetName,this);this.element=b(g);this.options=b.extend(true,{},this.options,this._getCreateOptions(),f);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(f,g){var e=f;if(arguments.length===0){return b.extend({},this.options)}if(typeof f==="string"){if(g===d){return this.options[f]}e={};e[f]=g}this._setOptions(e);return this},_setOptions:function(f){var e=this;b.each(f,function(g,h){e._setOption(g,h)});return this},_setOption:function(e,f){this.options[e]=f;if(e==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var l=this.options[f];g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();h=h||{};if(g.originalEvent){for(var e=b.event.props.length,j;e;){j=b.event.props[--e];g[j]=g.originalEvent[j]}}this.element.trigger(g,h);return !(b.isFunction(l)&&l.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.10
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a,b){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===a.data(d.target,c.widgetName+".preventClickEvent")){a.removeData(d.target,c.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(e){e.originalEvent=e.originalEvent||{};if(e.originalEvent.mouseHandled){return}(this._mouseStarted&&this._mouseUp(e));this._mouseDownEvent=e;var d=this,f=(e.which==1),c=(typeof this.options.cancel=="string"?a(e.target).parents().add(e.target).filter(this.options.cancel).length:false);if(!f||c||!this._mouseCapture(e)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(e)!==false);if(!this._mouseStarted){e.preventDefault();return true}}this._mouseMoveDelegate=function(g){return d._mouseMove(g)};this._mouseUpDelegate=function(g){return d._mouseUp(g)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();e.originalEvent.mouseHandled=true;return true},_mouseMove:function(c){if(a.browser.msie&&!(document.documentMode>=9)&&!c.button){return this._mouseUp(c)}if(this._mouseStarted){this._mouseDrag(c);return c.preventDefault()}if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,c)!==false);(this._mouseStarted?this._mouseDrag(c):this._mouseUp(c))}return !this._mouseStarted},_mouseUp:function(c){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(c.target==this._mouseDownEvent.target){a.data(c.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(c)}return false},_mouseDistanceMet:function(c){return(Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance)},_mouseDelayMet:function(c){return this.mouseDelayMet},_mouseStart:function(c){},_mouseDrag:function(c){},_mouseStop:function(c){},_mouseCapture:function(c){return true}})})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this.helper.addClass("ui-draggable-dragging");this._mouseDrag(c,true);return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(d){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){e=a.ui.ddmanager.drop(this,d)}if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if((this.options.revert=="invalid"&&!e)||(this.options.revert=="valid"&&e)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e))){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",d)!==false){c._clear()}})}else{if(this._trigger("stop",d)!==false){this._clear()}}return false},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone():this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[(f.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(f.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(f.containment=="document"?0:a(window).scrollLeft())+a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment=="document"?0:a(window).scrollTop())+(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var d=a(f.containment)[0];if(!d){return}var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(g,j){if(!j){j=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var j=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(c[0].tagName);var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(j.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/j.grid[1])*j.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-j.grid[1]:h+j.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/j.grid[0])*j.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-j.grid[0]:g+j.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(l?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:c.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.10"});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h._refreshItems();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,g){var f=a(this).data("draggable"),c=this;var e=function(l){var r=this.offset.click.top,q=this.offset.click.left;var h=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,p=l.width;var u=l.top,j=l.left;return a.ui.isOver(h+r,n+q,u,j,m,p)};a.each(f.sortables,function(h){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",d);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}f._trigger("fromSortable",d);f.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(d,e){var c=a("body"),f=a(this).data("draggable").options;if(c.css("cursor")){f._cursor=c.css("cursor")}c.css("cursor",f.cursor)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(c,d){var e=a(this).data("draggable").options;a(e.iframeFix===true?"iframe":e.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(c,d){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(d,e){var c=a(this).data("draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e,f){var d=a(this).data("draggable"),g=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!g.axis||g.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+g.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<g.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-g.scrollSpeed}}}if(!g.axis||g.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+g.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<g.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-g.scrollSpeed}}}}else{if(!g.axis||g.axis!="x"){if(e.pageY-a(document).scrollTop()<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<g.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)}}}if(!g.axis||g.axis!="y"){if(e.pageX-a(document).scrollLeft()<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<g.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(d,e){var c=a(this).data("draggable"),f=c.options;c.snapElements=[];a(f.snap.constructor!=String?(f.snap.items||":data(draggable)"):f.snap).each(function(){var h=a(this);var g=h.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:g.top,left:g.left})}})},drag:function(w,q){var g=a(this).data("draggable"),u=g.options;var A=u.snapTolerance;var z=q.offset.left,y=z+g.helperProportions.width,f=q.offset.top,e=f+g.helperProportions.height;for(var x=g.snapElements.length-1;x>=0;x--){var v=g.snapElements[x].left,p=v+g.snapElements[x].width,n=g.snapElements[x].top,C=n+g.snapElements[x].height;if(!((v-A<z&&z<p+A&&n-A<f&&f<C+A)||(v-A<z&&z<p+A&&n-A<e&&e<C+A)||(v-A<y&&y<p+A&&n-A<f&&f<C+A)||(v-A<y&&y<p+A&&n-A<e&&e<C+A))){if(g.snapElements[x].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=false;continue}if(u.snapMode!="inner"){var c=Math.abs(n-e)<=A;var B=Math.abs(C-f)<=A;var j=Math.abs(v-y)<=A;var m=Math.abs(p-z)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:n-g.helperProportions.height,left:0}).top-g.margins.top}if(B){q.position.top=g._convertPositionTo("relative",{top:C,left:0}).top-g.margins.top}if(j){q.position.left=g._convertPositionTo("relative",{top:0,left:v-g.helperProportions.width}).left-g.margins.left}if(m){q.position.left=g._convertPositionTo("relative",{top:0,left:p}).left-g.margins.left}}var h=(c||B||j||m);if(u.snapMode!="outer"){var c=Math.abs(n-f)<=A;var B=Math.abs(C-e)<=A;var j=Math.abs(v-z)<=A;var m=Math.abs(p-y)<=A;if(c){q.position.top=g._convertPositionTo("relative",{top:n,left:0}).top-g.margins.top}if(B){q.position.top=g._convertPositionTo("relative",{top:C-g.helperProportions.height,left:0}).top-g.margins.top}if(j){q.position.left=g._convertPositionTo("relative",{top:0,left:v}).left-g.margins.left}if(m){q.position.left=g._convertPositionTo("relative",{top:0,left:p-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[x].snapping&&(c||B||j||m||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,w,a.extend(g._uiHash(),{snapItem:g.snapElements[x].item})))}g.snapElements[x].snapping=(c||B||j||m||h)}}});a.ui.plugin.add("draggable","stack",{start:function(d,e){var g=a(this).data("draggable").options;var f=a.makeArray(a(g.stack)).sort(function(j,h){return(parseInt(a(j).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(!f.length){return}var c=parseInt(f[0].style.zIndex)||0;a(f).each(function(h){this.style.zIndex=c+h});this[0].style.zIndex=c+f.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(e){return e.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);(d.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var c=a.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<c.length;d++){if(c[d]==this){c.splice(d,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(c,d){if(c=="accept"){this.accept=a.isFunction(d)?d:function(e){return e.is(d)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(c&&this._trigger("activate",d,this.ui(c)))},_deactivate:function(d){var c=a.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(c&&this._trigger("deactivate",d,this.ui(c)))},_over:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",d,this.ui(c))}},_out:function(d){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",d,this.ui(c))}},_drop:function(d,e){var c=e||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return false}var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=a.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],(c.currentItem||c.element))&&a.ui.intersect(c,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f){return false}if(this.accept.call(this.element[0],(c.currentItem||c.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",d,this.ui(c));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.10"});a.ui.intersect=function(v,m,q){if(!m.offset){return false}var e=(v.positionAbs||v.position.absolute).left,d=e+v.helperProportions.width,p=(v.positionAbs||v.position.absolute).top,o=p+v.helperProportions.height;var g=m.offset.left,c=g+m.proportions.width,u=m.offset.top,n=u+m.proportions.height;switch(q){case"fit":return(g<=e&&d<=c&&u<=p&&o<=n);break;case"intersect":return(g<e+(v.helperProportions.width/2)&&d-(v.helperProportions.width/2)<c&&u<p+(v.helperProportions.height/2)&&o-(v.helperProportions.height/2)<n);break;case"pointer":var h=((v.positionAbs||v.position.absolute).left+(v.clickOffset||v.offset.click).left),j=((v.positionAbs||v.position.absolute).top+(v.clickOffset||v.offset.click).top),f=a.ui.isOver(j,h,u,g,m.proportions.height,m.proportions.width);return f;break;case"touch":return((p>=u&&p<=n)||(o>=u&&o<=n)||(p<u&&o>n))&&((e>=g&&e<=c)||(d>=g&&d<=c)||(e<g&&d>c));break;default:return false;break}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,h){var c=a.ui.ddmanager.droppables[f.options.scope]||[];var g=h?h.type:null;var l=(f.currentItem||f.element).find(":data(droppable)").andSelf();droppablesLoop:for(var e=0;e<c.length;e++){if(c[e].options.disabled||(f&&!c[e].accept.call(c[e].element[0],(f.currentItem||f.element)))){continue}for(var d=0;d<l.length;d++){if(l[d]==c[e].element[0]){c[e].proportions.height=0;continue droppablesLoop}}c[e].visible=c[e].element.css("display")!="none";if(!c[e].visible){continue}c[e].offset=c[e].element.offset();c[e].proportions={width:c[e].element[0].offsetWidth,height:c[e].element[0].offsetHeight};if(g=="mousedown"){c[e]._activate.call(c[e],h)}}},drop:function(c,d){var e=false;a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&a.ui.intersect(c,this,this.options.tolerance)){e=e||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(c.currentItem||c.element))){this.isout=1;this.isover=0;this._deactivate.call(this,d)}});return e},drag:function(c,d){if(c.options.refreshPositions){a.ui.ddmanager.prepareOffsets(c,d)}a.each(a.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var f=a.ui.intersect(c,this,this.options.tolerance);var h=!f&&this.isover==1?"isout":(f&&this.isover==0?"isover":null);if(!h){return}var g;if(this.options.greedy){var e=this.element.parents(":data(droppable):eq(0)");if(e.length){g=a.data(e[0],"droppable");g.greedyChild=(h=="isover"?1:0)}}if(g&&h=="isover"){g.isover=0;g.isout=1;g._out.call(g,d)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,d);if(g&&h=="isout"){g.isout=0;g.isover=1;g._over.call(g,d)}})}}})(jQuery);(function(c,d){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var f=this,l=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(l.aspectRatio),aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){if(/relative/.test(this.element.css("position"))&&c.browser.opera){this.element.css({position:"relative",top:"auto",left:"auto"})}this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=l.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var m=this.handles.split(",");this.handles={};for(var g=0;g<m.length;g++){var j=c.trim(m[g]),e="ui-resizable-"+j;var h=c('<div class="ui-resizable-handle '+e+'"></div>');if(/sw|se|ne|nw/.test(j)){h.css({zIndex:++l.zIndex})}if("se"==j){h.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(h)}}this._renderAxis=function(r){r=r||this.element;for(var o in this.handles){if(this.handles[o].constructor==String){this.handles[o]=c(this.handles[o],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var p=c(this.handles[o],this.element),q=0;q=/sw|ne|nw|se|n|s/.test(o)?p.outerHeight():p.outerWidth();var n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join("");r.css(n,q);this._proportionallyResize()}if(!c(this.handles[o]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!f.resizing){if(this.className){var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}f.axis=n&&n[1]?n[1]:"se"}});if(l.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide");f._handles.show()},function(){if(!f.resizing){c(this).addClass("ui-resizable-autohide");f._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;f.after(this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(f){var g=false;for(var e in this.handles){if(c(this.handles[e])[0]==f.target){g=true}}return !this.options.disabled&&g},_mouseStart:function(g){var l=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left})}if(c.browser.opera&&(/relative/).test(e.css("position"))){e.css({position:"relative",top:"auto",left:"auto"})}this._renderProxy();var m=b(this.helper.css("left")),h=b(this.helper.css("top"));if(l.containment){m+=c(l.containment).scrollLeft()||0;h+=c(l.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:m,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:m,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof l.aspectRatio=="number")?l.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var j=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",j=="auto"?this.axis+"-resize":j);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var h=this.helper,g=this.options,p={},u=this,l=this.originalMousePosition,q=this.axis;var v=(e.pageX-l.left)||0,r=(e.pageY-l.top)||0;var j=this._change[q];if(!j){return false}var n=j.apply(this,[e,v,r]),m=c.browser.msie&&c.browser.version<7,f=this.sizeDiff;if(this._aspectRatio||e.shiftKey){n=this._updateRatio(n,e)}n=this._respectSize(n,e);this._propagate("resize",e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(n);this._trigger("resize",e,this.ui());return false},_mouseStop:function(h){this.resizing=false;var j=this.options,p=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:p.sizeDiff.height,m=e?0:p.sizeDiff.width;var q={width:(p.helper.width()-m),height:(p.helper.height()-f)},l=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,n=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;if(!j.animate){this.element.css(c.extend(q,{top:n,left:l}))}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!j.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateCache:function(e){var f=this.options;this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(h,g){var j=this.options,l=this.position,f=this.size,e=this.axis;if(h.height){h.width=(f.height*this.aspectRatio)}else{if(h.width){h.height=(f.width/this.aspectRatio)}}if(e=="sw"){h.left=l.left+(f.width-h.width);h.top=null}if(e=="nw"){h.top=l.top+(f.height-h.height);h.left=l.left+(f.width-h.width)}return h},_respectSize:function(n,g){var l=this.helper,j=this.options,v=this._aspectRatio||g.shiftKey,u=this.axis,x=a(n.width)&&j.maxWidth&&(j.maxWidth<n.width),p=a(n.height)&&j.maxHeight&&(j.maxHeight<n.height),h=a(n.width)&&j.minWidth&&(j.minWidth>n.width),w=a(n.height)&&j.minHeight&&(j.minHeight>n.height);if(h){n.width=j.minWidth}if(w){n.height=j.minHeight}if(x){n.width=j.maxWidth}if(p){n.height=j.maxHeight}var f=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height;var m=/sw|nw|w/.test(u),e=/nw|ne|n/.test(u);if(h&&m){n.left=f-j.minWidth}if(x&&m){n.left=f-j.maxWidth}if(w&&e){n.top=r-j.minHeight}if(p&&e){n.top=r-j.maxHeight}var q=!n.width&&!n.height;if(q&&!n.left&&n.top){n.top=null}else{if(q&&!n.top&&n.left){n.left=null}}return n},_proportionallyResize:function(){var l=this.options;if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],j=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(m,o){var n=parseInt(m,10)||0,p=parseInt(j[o],10)||0;return n+p})}if(c.browser.msie&&!(!(c(g).is(":hidden")||c(g).parents(":hidden").length))){continue}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var f=this.element,j=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,g=(e?1:0),h=(e?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++j.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(g,f,e){return{width:this.originalSize.width+f}},w:function(h,f,e){var l=this.options,g=this.originalSize,j=this.originalPosition;return{left:j.left+f,width:g.width-f}},n:function(h,f,e){var l=this.options,g=this.originalSize,j=this.originalPosition;return{top:j.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.10"});c.ui.plugin.add("resizable","alsoResize",{start:function(f,g){var e=c(this).data("resizable"),j=e.options;var h=function(l){c(l).each(function(){var m=c(this);m.data("resizable-alsoresize",{width:parseInt(m.width(),10),height:parseInt(m.height(),10),left:parseInt(m.css("left"),10),top:parseInt(m.css("top"),10),position:m.css("position")})})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.parentNode){if(j.alsoResize.length){j.alsoResize=j.alsoResize[0];h(j.alsoResize)}else{c.each(j.alsoResize,function(l){h(l)})}}else{h(j.alsoResize)}},resize:function(g,j){var f=c(this).data("resizable"),l=f.options,h=f.originalSize,n=f.originalPosition;var m={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-n.top)||0,left:(f.position.left-n.left)||0},e=function(o,p){c(o).each(function(){var u=c(this),v=c(this).data("resizable-alsoresize"),r={},q=p&&p.length?p:u.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(q,function(w,y){var x=(v[y]||0)+(m[y]||0);if(x&&x>=0){r[y]=x||null}});if(c.browser.opera&&/relative/.test(u.css("position"))){f._revertToRelativePosition=true;u.css({position:"absolute",top:"auto",left:"auto"})}u.css(r)})};if(typeof(l.alsoResize)=="object"&&!l.alsoResize.nodeType){c.each(l.alsoResize,function(o,p){e(o,p)})}else{e(l.alsoResize)}},stop:function(g,h){var f=c(this).data("resizable"),j=f.options;var e=function(l){c(l).each(function(){var m=c(this);m.css({position:m.data("resizable-alsoresize").position})})};if(f._revertToRelativePosition){f._revertToRelativePosition=false;if(typeof(j.alsoResize)=="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(l){e(l)})}else{e(j.alsoResize)}}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(j,q){var r=c(this).data("resizable"),l=r.options;var h=r._proportionallyResizeElements,e=h.length&&(/textarea/i).test(h[0].nodeName),f=e&&c.ui.hasScroll(h[0],"left")?0:r.sizeDiff.height,n=e?0:r.sizeDiff.width;var g={width:(r.size.width-n),height:(r.size.height-f)},m=(parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left))||null,p=(parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top))||null;r.element.animate(c.extend(g,p&&m?{top:p,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};if(h&&h.length){c(h[0]).css({width:o.width,height:o.height})}r._updateCache(o);r._propagate("resize",j)}})}});c.ui.plugin.add("resizable","containment",{start:function(f,v){var x=c(this).data("resizable"),l=x.options,n=x.element;var g=l.containment,m=(g instanceof c)?g.get(0):(/parent/.test(g))?n.parent().get(0):g;if(!m){return}x.containerElement=c(m);if(/document/.test(g)||g==document){x.containerOffset={left:0,top:0};x.containerPosition={left:0,top:0};x.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var r=c(m),j=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){j[p]=b(r.css("padding"+o))});x.containerOffset=r.offset();x.containerPosition=r.position();x.containerSize={height:(r.innerHeight()-j[3]),width:(r.innerWidth()-j[1])};var u=x.containerOffset,e=x.containerSize.height,q=x.containerSize.width,h=(c.ui.hasScroll(m,"left")?m.scrollWidth:q),w=(c.ui.hasScroll(m)?m.scrollHeight:e);x.parentData={element:m,left:u.left,top:u.top,width:h,height:w}}},resize:function(g,u){var x=c(this).data("resizable"),j=x.options,f=x.containerSize,r=x.containerOffset,p=x.size,q=x.position,v=x._aspectRatio||g.shiftKey,e={top:0,left:0},h=x.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=r}if(q.left<(x._helper?r.left:0)){x.size.width=x.size.width+(x._helper?(x.position.left-r.left):(x.position.left-e.left));if(v){x.size.height=x.size.width/j.aspectRatio}x.position.left=j.helper?r.left:0}if(q.top<(x._helper?r.top:0)){x.size.height=x.size.height+(x._helper?(x.position.top-r.top):x.position.top);if(v){x.size.width=x.size.height*j.aspectRatio}x.position.top=x._helper?r.top:0}x.offset.left=x.parentData.left+x.position.left;x.offset.top=x.parentData.top+x.position.top;var n=Math.abs((x._helper?x.offset.left-e.left:(x.offset.left-e.left))+x.sizeDiff.width),w=Math.abs((x._helper?x.offset.top-e.top:(x.offset.top-r.top))+x.sizeDiff.height);var m=x.containerElement.get(0)==x.element.parent().get(0),l=/relative|absolute/.test(x.containerElement.css("position"));if(m&&l){n-=x.parentData.left}if(n+x.size.width>=x.parentData.width){x.size.width=x.parentData.width-n;if(v){x.size.height=x.size.width/x.aspectRatio}}if(w+x.size.height>=x.parentData.height){x.size.height=x.parentData.height-w;if(v){x.size.width=x.size.height*x.aspectRatio}}},stop:function(f,q){var u=c(this).data("resizable"),g=u.options,n=u.position,p=u.containerOffset,e=u.containerPosition,j=u.containerElement;var l=c(u.helper),v=l.offset(),r=l.outerWidth()-u.sizeDiff.width,m=l.outerHeight()-u.sizeDiff.height;if(u._helper&&!g.animate&&(/relative/).test(j.css("position"))){c(this).css({left:v.left-e.left-p.left,width:r,height:m})}if(u._helper&&!g.animate&&(/static/).test(j.css("position"))){c(this).css({left:v.left-e.left-p.left,width:r,height:m})}}});c.ui.plugin.add("resizable","ghost",{start:function(g,h){var e=c(this).data("resizable"),j=e.options,f=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof j.ghost=="string"?j.ghost:"");e.ghost.appendTo(e.helper)},resize:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(f,g){var e=c(this).data("resizable"),h=e.options;if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(e,p){var r=c(this).data("resizable"),h=r.options,m=r.size,j=r.originalSize,l=r.originalPosition,q=r.axis,n=h._aspectRatio||e.shiftKey;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var g=Math.round((m.width-j.width)/(h.grid[0]||1))*(h.grid[0]||1),f=Math.round((m.height-j.height)/(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(q)){r.size.width=j.width+g;r.size.height=j.height+f}else{if(/^(ne)$/.test(q)){r.size.width=j.width+g;r.size.height=j.height+f;r.position.top=l.top-f}else{if(/^(sw)$/.test(q)){r.size.width=j.width+g;r.size.height=j.height+f;r.position.left=l.left-g}else{r.size.width=j.width+g;r.size.height=j.height+f;r.position.top=l.top-f;r.position.left=l.left-g}}}}});var b=function(e){return parseInt(e,10)||0};var a=function(e){return !isNaN(parseInt(e,10))}})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var d;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.each(function(){var e=a(this);var f=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(e){var c=this;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}var d=this.options;this.selectees=a(d.filter,this.element[0]);this._trigger("start",e);a(d.appendTo).append(this.helper);this.helper.css({left:e.clientX,top:e.clientY,width:0,height:0});if(d.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=true;if(!e.metaKey){f.$element.removeClass("ui-selected");f.selected=false;f.$element.addClass("ui-unselecting");f.unselecting=true;c._trigger("unselecting",e,{unselecting:f.element})}});a(e.target).parents().andSelf().each(function(){var g=a.data(this,"selectable-item");if(g){var f=!e.metaKey||!g.$element.hasClass("ui-selected");g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");g.unselecting=!f;g.selecting=f;g.selected=f;if(f){c._trigger("selecting",e,{selecting:g.element})}else{c._trigger("unselecting",e,{unselecting:g.element})}return false}})},_mouseDrag:function(l){var d=this;this.dragged=true;if(this.options.disabled){return}var f=this.options;var e=this.opos[0],j=this.opos[1],c=l.pageX,h=l.pageY;if(e>c){var g=c;c=e;e=g}if(j>h){var g=h;h=j;j=g}this.helper.css({left:e,top:j,width:c-e,height:h-j});this.selectees.each(function(){var m=a.data(this,"selectable-item");if(!m||m.element==d.element[0]){return}var n=false;if(f.tolerance=="touch"){n=(!(m.left>c||m.right<e||m.top>h||m.bottom<j))}else{if(f.tolerance=="fit"){n=(m.left>e&&m.right<c&&m.top>j&&m.bottom<h)}}if(n){if(m.selected){m.$element.removeClass("ui-selected");m.selected=false}if(m.unselecting){m.$element.removeClass("ui-unselecting");m.unselecting=false}if(!m.selecting){m.$element.addClass("ui-selecting");m.selecting=true;d._trigger("selecting",l,{selecting:m.element})}}else{if(m.selecting){if(l.metaKey&&m.startselected){m.$element.removeClass("ui-selecting");m.selecting=false;m.$element.addClass("ui-selected");m.selected=true}else{m.$element.removeClass("ui-selecting");m.selecting=false;if(m.startselected){m.$element.addClass("ui-unselecting");m.unselecting=true}d._trigger("unselecting",l,{unselecting:m.element})}}if(m.selected){if(!l.metaKey&&!m.startselected){m.$element.removeClass("ui-selected");m.selected=false;m.$element.addClass("ui-unselecting");m.unselecting=true;d._trigger("unselecting",l,{unselecting:m.element})}}}});return false},_mouseStop:function(e){var c=this;this.dragged=false;var d=this.options;a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-unselecting");f.unselecting=false;f.startselected=false;c._trigger("unselected",e,{unselected:f.element})});a(".ui-selecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=false;f.selected=true;f.startselected=true;c._trigger("selected",e,{selected:f.element})});this._trigger("stop",e);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.10"})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData("sortable-item")}return this},_setOption:function(c,d){if(c==="disabled"){this.options[c]=d;this.widget()[d?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(f,g){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(f);var e=null,d=this,c=a(f.target).parents().each(function(){if(a.data(this,"sortable-item")==d){e=a(this);return false}});if(a.data(f.target,"sortable-item")==d){e=a(f.target)}if(!e){return false}if(this.options.handle&&!g){var h=false;a(this.options.handle,e).find("*").andSelf().each(function(){if(this==f.target){h=true}});if(!h){return false}}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(f,g,c){var h=this.options,d=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;(h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(h.containment){this._setContainment()}if(h.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",h.cursor)}if(h.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",h.opacity)}if(h.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",h.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!c){for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("activate",f,d._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,f)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var h=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-g.pageY<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+h.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-h.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-g.pageX<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-h.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}if(c!==false&&a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,g)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],d=f.item[0],j=this._intersectsWithPointer(f);if(!j){continue}if(d!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=d&&!a.ui.contains(this.placeholder[0],d)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],d):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f)){this._rearrange(g,f)}else{break}this._trigger("change",g,this._uiHash());break}}this._contactContainers(g);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,g)}this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(!d){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,d)}if(this.options.revert){var c=this;var f=c.placeholder.offset();c.reverting=true;a(this.helper).animate({left:f.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(d)})}else{this._clear(d,e)}return false},cancel:function(){var c=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,c._uiHash(this));if(this.containers[d].containerCache.over){this.containers[d]._trigger("out",null,c._uiHash(this));this.containers[d].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[-=_](.+)/));if(f){d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}});if(!d.length&&e.key){d.push(e.key+"=")}return d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")});return d},_intersectsWith:function(o){var e=this.positionAbs.left,d=e+this.helperProportions.width,n=this.positionAbs.top,m=n+this.helperProportions.height;var f=o.left,c=f+o.width,p=o.top,j=p+o.height;var q=this.offset.click.top,h=this.offset.click.left;var g=(n+q)>p&&(n+q)<j&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>o[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&p<n+(this.helperProportions.height/2)&&m-(this.helperProportions.height/2)<j)}},_intersectsWithPointer:function(e){var f=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),h=f&&d,c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((g&&g=="right")||c=="down")?2:1):(c&&(c=="down"?2:1))},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+(f.height/2),f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width),c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&e)||(g=="left"&&!e))}else{return c&&((c=="down"&&d)||(c=="up"&&!d))}},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(c){var n=this;var h=[];var f=[];var l=this._connectWith();if(l&&c){for(var e=l.length-1;e>=0;e--){var m=a(l[e]);for(var d=m.length-1;d>=0;d--){var g=a.data(m[d],"sortable");if(g&&g!=this&&!g.options.disabled){f.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g])}}}}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var e=f.length-1;e>=0;e--){f[e][0].each(function(){h.push(this)})}return a(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data(sortable-item)");for(var d=0;d<this.items.length;d++){for(var c=0;c<e.length;c++){if(e[c]==this.items[d].item[0]){this.items.splice(d,1)}}}},_refreshItems:function(c){this.items=[];this.containers=[this];var l=this.items;var r=this;var g=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,this.element),this]];var n=this._connectWith();if(n){for(var f=n.length-1;f>=0;f--){var o=a(n[f]);for(var e=o.length-1;e>=0;e--){var h=a.data(o[e],"sortable");if(h&&h!=this&&!h.options.disabled){g.push([a.isFunction(h.options.items)?h.options.items.call(h.element[0],c,{item:this.currentItem}):a(h.options.items,h.element),h]);this.containers.push(h)}}}}for(var f=g.length-1;f>=0;f--){var m=g[f][1];var d=g[f][0];for(var e=0,p=d.length;e<p;e++){var q=a(d[e]);q.data("sortable-item",m);l.push({item:q,instance:m,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];var d=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!c){f.width=d.outerWidth();f.height=d.outerHeight()}var g=d.offset();f.left=g.left;f.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var e=this.containers.length-1;e>=0;e--){var g=this.containers[e].element.offset();this.containers[e].containerCache.left=g.left;this.containers[e].containerCache.top=g.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}}return this},_createPlaceholder:function(e){var c=e||this,f=c.options;if(!f.placeholder||f.placeholder.constructor==String){var d=f.placeholder;f.placeholder={element:function(){var g=a(document.createElement(c.currentItem[0].nodeName)).addClass(d||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!d){g.style.visibility="hidden"}return g},update:function(g,h){if(d&&!f.forcePlaceholderSize){return}if(!h.height()){h.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10))}if(!h.width()){h.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}}c.placeholder=a(f.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);f.placeholder.update(c,c.placeholder)},_contactContainers:function(c){var e=null,m=null;for(var g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.currentItem[0],this.containers[g].element[0])){continue}if(this._intersectsWith(this.containers[g].containerCache)){if(e&&a.ui.contains(this.containers[g].element[0],e.element[0])){continue}e=this.containers[g];m=g}else{if(this.containers[g].containerCache.over){this.containers[g]._trigger("out",c,this._uiHash(this));this.containers[g].containerCache.over=0}}}if(!e){return}if(this.containers.length===1){this.containers[m]._trigger("over",c,this._uiHash(this));this.containers[m].containerCache.over=1}else{if(this.currentContainer!=this.containers[m]){var l=10000;var h=null;var d=this.positionAbs[this.containers[m].floating?"left":"top"];for(var f=this.items.length-1;f>=0;f--){if(!a.ui.contains(this.containers[m].element[0],this.items[f].item[0])){continue}var n=this.items[f][this.containers[m].floating?"left":"top"];if(Math.abs(n-d)<l){l=Math.abs(n-d);h=this.items[f]}}if(!h&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[m];h?this._rearrange(c,h,null,true):this._rearrange(c,null,this.containers[m].element,true);this._trigger("change",c,this._uiHash());this.containers[m]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[m]._trigger("over",c,this._uiHash(this));this.containers[m].containerCache.over=1}}},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!c.parents("body").length){a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0])}if(c[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(c[0].style.width==""||e.forceHelperSize){c.width(this.currentItem.width())}if(c[0].style.height==""||e.forceHelperSize){c.height(this.currentItem.height())}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)){var d=a(f.containment)[0];var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,j){if(!j){j=this.position}var e=g=="absolute"?1:-1;var f=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(c[0].tagName);return{top:(j.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(h?0:c.scrollTop()))*e)),left:(j.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())*e))}},_generatePosition:function(f){var j=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(j.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/j.grid[1])*j.grid[1];d=this.containment?(!(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h:(!(h-this.offset.click.top<this.containment[1])?h-j.grid[1]:h+j.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/j.grid[0])*j.grid[0];e=this.containment?(!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?g:(!(g-this.offset.click.left<this.containment[0])?g-j.grid[0]:g+j.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(l?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:c.scrollLeft())))}},_rearrange:function(h,g,d,f){d?d[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?g.item[0]:g.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var e=this,c=this.counter;window.setTimeout(function(){if(c==e.counter){e.refreshPositions(!f)}},0)},_clear:function(e,f){this.reverting=false;var g=[],c=this;if(!this._noFinalSort&&this.currentItem[0].parentNode){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS){if(this._storedCSS[d]=="auto"||this._storedCSS[d]=="static"){this._storedCSS[d]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!f){g.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f){g.push(function(h){this._trigger("update",h,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){if(!f){g.push(function(h){this._trigger("remove",h,this._uiHash())})}for(var d=this.containers.length-1;d>=0;d--){if(a.ui.contains(this.containers[d].element[0],this.currentItem[0])&&!f){g.push((function(h){return function(j){h._trigger("receive",j,this._uiHash(this))}}).call(this,this.containers[d]));g.push((function(h){return function(j){h._trigger("update",j,this._uiHash(this))}}).call(this,this.containers[d]))}}}for(var d=this.containers.length-1;d>=0;d--){if(!f){g.push((function(h){return function(j){h._trigger("deactivate",j,this._uiHash(this))}}).call(this,this.containers[d]))}if(this.containers[d].containerCache.over){g.push((function(h){return function(j){h._trigger("out",j,this._uiHash(this))}}).call(this,this.containers[d]));this.containers[d].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",e,this._uiHash());for(var d=0;d<g.length;d++){g[d].call(this,e)}this._trigger("stop",e,this._uiHash())}return false}if(!f){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!f){for(var d=0;d<g.length;d++){g[d].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.10"})})(jQuery);jQuery.effects||(function(h,e){h.effects={};h.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(p,o){h.fx.step[o]=function(q){if(!q.colorInit){q.start=n(q.elem,o);q.end=l(q.end);q.colorInit=true}q.elem.style[o]="rgb("+Math.max(Math.min(parseInt((q.pos*(q.end[0]-q.start[0]))+q.start[0],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[1]-q.start[1]))+q.start[1],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[2]-q.start[2]))+q.start[2],10),255),0)+")"}});function l(p){var o;if(p&&p.constructor==Array&&p.length==3){return p}if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(p)){return[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10)]}if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(p)){return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55]}if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(p)){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(p)){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}if(o=/rgba\(0, 0, 0, 0\)/.exec(p)){return a.transparent}return a[h.trim(p).toLowerCase()]}function n(q,o){var p;do{p=h.curCSS(q,o);if(p!=""&&p!="transparent"||h.nodeName(q,"body")){break}o="backgroundColor"}while(q=q.parentNode);return l(p)}var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var f=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function g(){var r=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,u={},p,q;if(r&&r.length&&r[0]&&r[r[0]]){var o=r.length;while(o--){p=r[o];if(typeof r[p]=="string"){q=p.replace(/\-(\w)/g,function(v,w){return w.toUpperCase()});u[q]=r[p]}}}else{for(p in r){if(typeof r[p]==="string"){u[p]=r[p]}}}return u}function b(p){var o,q;for(o in p){q=p[o];if(q==null||h.isFunction(q)||o in c||(/scrollbar/).test(o)||(!(/color/i).test(o)&&isNaN(parseFloat(q)))){delete p[o]}}return p}function j(o,q){var r={_:0},p;for(p in q){if(o[p]!=q[p]){r[p]=q[p]}}return r}h.effects.animateClass=function(o,p,r,q){if(h.isFunction(r)){q=r;r=null}return this.queue("fx",function(){var y=h(this),v=y.attr("style")||" ",A=b(g.call(this)),x,w=y.attr("className");h.each(f,function(B,C){if(o[C]){y[C+"Class"](o[C])}});x=b(g.call(this));y.attr("className",w);y.animate(j(A,x),p,r,function(){h.each(f,function(B,C){if(o[C]){y[C+"Class"](o[C])}});if(typeof y.attr("style")=="object"){y.attr("style").cssText="";y.attr("style").cssText=v}else{y.attr("style",v)}if(q){q.apply(this,arguments)}});var u=h.queue(this),z=u.splice(u.length-1,1)[0];u.splice(1,0,z);h.dequeue(this)})};h.fn.extend({_addClass:h.fn.addClass,addClass:function(p,o,r,q){return o?h.effects.animateClass.apply(this,[{add:p},o,r,q]):this._addClass(p)},_removeClass:h.fn.removeClass,removeClass:function(p,o,r,q){return o?h.effects.animateClass.apply(this,[{remove:p},o,r,q]):this._removeClass(p)},_toggleClass:h.fn.toggleClass,toggleClass:function(q,p,o,u,r){if(typeof p=="boolean"||p===e){if(!o){return this._toggleClass(q,p)}else{return h.effects.animateClass.apply(this,[(p?{add:q}:{remove:q}),o,u,r])}}else{return h.effects.animateClass.apply(this,[{toggle:q},p,o,u])}},switchClass:function(o,q,p,u,r){return h.effects.animateClass.apply(this,[{add:q,remove:o},p,u,r])}});h.extend(h.effects,{version:"1.8.10",save:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.data("ec.storage."+q[o],p[0].style[q[o]])}}},restore:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.css(q[o],p.data("ec.storage."+q[o]))}}},setMode:function(o,p){if(p=="toggle"){p=o.is(":hidden")?"show":"hide"}return p},getBaseline:function(p,q){var r,o;switch(p[0]){case"top":r=0;break;case"middle":r=0.5;break;case"bottom":r=1;break;default:r=p[0]/q.height}switch(p[1]){case"left":o=0;break;case"center":o=0.5;break;case"right":o=1;break;default:o=p[1]/q.width}return{x:o,y:r}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent()}var p={width:o.outerWidth(true),height:o.outerHeight(true),"float":o.css("float")},q=h("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});o.wrap(q);q=o.parent();if(o.css("position")=="static"){q.css({position:"relative"});o.css({position:"relative"})}else{h.extend(p,{position:o.css("position"),zIndex:o.css("z-index")});h.each(["top","left","bottom","right"],function(r,u){p[u]=o.css(u);if(isNaN(parseInt(p[u],10))){p[u]="auto"}});o.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return q.css(p).show()},removeWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent().replaceWith(o)}return o},setTransition:function(p,r,o,q){q=q||{};h.each(r,function(v,u){unit=p.cssUnit(u);if(unit[0]>0){q[u]=unit[0]*o+unit[1]}});return q}});function d(p,o,q,r){if(typeof p=="object"){r=o;q=null;o=p;p=o.effect}if(h.isFunction(o)){r=o;q=null;o={}}if(typeof o=="number"||h.fx.speeds[o]){r=q;q=o;o={}}if(h.isFunction(q)){r=q;q=null}o=o||{};q=q||o.duration;q=h.fx.off?0:typeof q=="number"?q:q in h.fx.speeds?h.fx.speeds[q]:h.fx.speeds._default;r=r||o.complete;return[p,o,q,r]}function m(o){if(!o||typeof o==="number"||h.fx.speeds[o]){return true}if(typeof o==="string"&&!h.effects[o]){return true}return false}h.fn.extend({effect:function(r,q,v,x){var p=d.apply(this,arguments),u={options:p[1],duration:p[2],callback:p[3]},w=u.options.mode,o=h.effects[r];if(h.fx.off||!o){if(w){return this[w](u.duration,u.callback)}else{return this.each(function(){if(u.callback){u.callback.call(this)}})}}return o.call(this,u)},_show:h.fn.show,show:function(p){if(m(p)){return this._show.apply(this,arguments)}else{var o=d.apply(this,arguments);o[1].mode="show";return this.effect.apply(this,o)}},_hide:h.fn.hide,hide:function(p){if(m(p)){return this._hide.apply(this,arguments)}else{var o=d.apply(this,arguments);o[1].mode="hide";return this.effect.apply(this,o)}},__toggle:h.fn.toggle,toggle:function(p){if(m(p)||typeof p==="boolean"||h.isFunction(p)){return this.__toggle.apply(this,arguments)}else{var o=d.apply(this,arguments);o[1].mode="toggle";return this.effect.apply(this,o)}},cssUnit:function(o){var p=this.css(o),q=[];h.each(["em","px","%","pt"],function(r,u){if(p.indexOf(u)>0){q=[parseFloat(p),u]}});return q}});h.easing.jswing=h.easing.swing;h.extend(h.easing,{def:"easeOutQuad",swing:function(p,q,o,u,r){return h.easing[h.easing.def](p,q,o,u,r)},easeInQuad:function(p,q,o,u,r){return u*(q/=r)*q+o},easeOutQuad:function(p,q,o,u,r){return -u*(q/=r)*(q-2)+o},easeInOutQuad:function(p,q,o,u,r){if((q/=r/2)<1){return u/2*q*q+o}return -u/2*((--q)*(q-2)-1)+o},easeInCubic:function(p,q,o,u,r){return u*(q/=r)*q*q+o},easeOutCubic:function(p,q,o,u,r){return u*((q=q/r-1)*q*q+1)+o},easeInOutCubic:function(p,q,o,u,r){if((q/=r/2)<1){return u/2*q*q*q+o}return u/2*((q-=2)*q*q+2)+o},easeInQuart:function(p,q,o,u,r){return u*(q/=r)*q*q*q+o},easeOutQuart:function(p,q,o,u,r){return -u*((q=q/r-1)*q*q*q-1)+o},easeInOutQuart:function(p,q,o,u,r){if((q/=r/2)<1){return u/2*q*q*q*q+o}return -u/2*((q-=2)*q*q*q-2)+o},easeInQuint:function(p,q,o,u,r){return u*(q/=r)*q*q*q*q+o},easeOutQuint:function(p,q,o,u,r){return u*((q=q/r-1)*q*q*q*q+1)+o},easeInOutQuint:function(p,q,o,u,r){if((q/=r/2)<1){return u/2*q*q*q*q*q+o}return u/2*((q-=2)*q*q*q*q+2)+o},easeInSine:function(p,q,o,u,r){return -u*Math.cos(q/r*(Math.PI/2))+u+o},easeOutSine:function(p,q,o,u,r){return u*Math.sin(q/r*(Math.PI/2))+o},easeInOutSine:function(p,q,o,u,r){return -u/2*(Math.cos(Math.PI*q/r)-1)+o},easeInExpo:function(p,q,o,u,r){return(q==0)?o:u*Math.pow(2,10*(q/r-1))+o},easeOutExpo:function(p,q,o,u,r){return(q==r)?o+u:u*(-Math.pow(2,-10*q/r)+1)+o},easeInOutExpo:function(p,q,o,u,r){if(q==0){return o}if(q==r){return o+u}if((q/=r/2)<1){return u/2*Math.pow(2,10*(q-1))+o}return u/2*(-Math.pow(2,-10*--q)+2)+o},easeInCirc:function(p,q,o,u,r){return -u*(Math.sqrt(1-(q/=r)*q)-1)+o},easeOutCirc:function(p,q,o,u,r){return u*Math.sqrt(1-(q=q/r-1)*q)+o},easeInOutCirc:function(p,q,o,u,r){if((q/=r/2)<1){return -u/2*(Math.sqrt(1-q*q)-1)+o}return u/2*(Math.sqrt(1-(q-=2)*q)+1)+o},easeInElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return -(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o},easeOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return r*Math.pow(2,-10*u)*Math.sin((u*y-v)*(2*Math.PI)/w)+z+o},easeInOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y/2)==2){return o+z}if(!w){w=y*(0.3*1.5)}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}if(u<1){return -0.5*(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o}return r*Math.pow(2,-10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w)*0.5+z+o},easeInBack:function(p,q,o,v,u,r){if(r==e){r=1.70158}return v*(q/=u)*q*((r+1)*q-r)+o},easeOutBack:function(p,q,o,v,u,r){if(r==e){r=1.70158}return v*((q=q/u-1)*q*((r+1)*q+r)+1)+o},easeInOutBack:function(p,q,o,v,u,r){if(r==e){r=1.70158}if((q/=u/2)<1){return v/2*(q*q*(((r*=(1.525))+1)*q-r))+o}return v/2*((q-=2)*q*(((r*=(1.525))+1)*q+r)+2)+o},easeInBounce:function(p,q,o,u,r){return u-h.easing.easeOutBounce(p,r-q,0,u,r)+o},easeOutBounce:function(p,q,o,u,r){if((q/=r)<(1/2.75)){return u*(7.5625*q*q)+o}else{if(q<(2/2.75)){return u*(7.5625*(q-=(1.5/2.75))*q+0.75)+o}else{if(q<(2.5/2.75)){return u*(7.5625*(q-=(2.25/2.75))*q+0.9375)+o}else{return u*(7.5625*(q-=(2.625/2.75))*q+0.984375)+o}}}},easeInOutBounce:function(p,q,o,u,r){if(q<r/2){return h.easing.easeInBounce(p,q*2,0,u,r)*0.5+o}return h.easing.easeOutBounce(p,q*2-r,0,u,r)*0.5+u*0.5+o}})})(jQuery);(function(a,b){a.effects.blind=function(c){return this.queue(function(){var e=a(this),d=["position","top","bottom","left","right"];var j=a.effects.setMode(e,c.options.mode||"hide");var h=c.options.direction||"vertical";a.effects.save(e,d);e.show();var m=a.effects.createWrapper(e).css({overflow:"hidden"});var f=(h=="vertical")?"height":"width";var l=(h=="vertical")?m.height():m.width();if(j=="show"){m.css(f,0)}var g={};g[f]=j=="show"?l:0;m.animate(g,c.duration,c.options.easing,function(){if(j=="hide"){e.hide()}a.effects.restore(e,d);a.effects.removeWrapper(e);if(c.callback){c.callback.apply(e[0],arguments)}e.dequeue()})})}})(jQuery);(function(a,b){a.effects.bounce=function(c){return this.queue(function(){var f=a(this),n=["position","top","bottom","left","right"];var m=a.effects.setMode(f,c.options.mode||"effect");var p=c.options.direction||"up";var d=c.options.distance||20;var e=c.options.times||5;var h=c.duration||250;if(/show|hide/.test(m)){n.push("opacity")}a.effects.save(f,n);f.show();a.effects.createWrapper(f);var g=(p=="up"||p=="down")?"top":"left";var r=(p=="up"||p=="left")?"pos":"neg";var d=c.options.distance||(g=="top"?f.outerHeight({margin:true})/3:f.outerWidth({margin:true})/3);if(m=="show"){f.css("opacity",0).css(g,r=="pos"?-d:d)}if(m=="hide"){d=d/(e*2)}if(m!="hide"){e--}if(m=="show"){var j={opacity:1};j[g]=(r=="pos"?"+=":"-=")+d;f.animate(j,h/2,c.options.easing);d=d/2;e--}for(var l=0;l<e;l++){var q={},o={};q[g]=(r=="pos"?"-=":"+=")+d;o[g]=(r=="pos"?"+=":"-=")+d;f.animate(q,h/2,c.options.easing).animate(o,h/2,c.options.easing);d=(m=="hide")?d*2:d/2}if(m=="hide"){var j={opacity:0};j[g]=(r=="pos"?"-=":"+=")+d;f.animate(j,h/2,c.options.easing,function(){f.hide();a.effects.restore(f,n);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(this,arguments)}})}else{var q={},o={};q[g]=(r=="pos"?"-=":"+=")+d;o[g]=(r=="pos"?"+=":"-=")+d;f.animate(q,h/2,c.options.easing).animate(o,h/2,c.options.easing,function(){a.effects.restore(f,n);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(this,arguments)}})}f.queue("fx",function(){f.dequeue()});f.dequeue()})}})(jQuery);(function(a,b){a.effects.clip=function(c){return this.queue(function(){var g=a(this),m=["position","top","bottom","left","right","height","width"];var l=a.effects.setMode(g,c.options.mode||"hide");var n=c.options.direction||"vertical";a.effects.save(g,m);g.show();var d=a.effects.createWrapper(g).css({overflow:"hidden"});var f=g[0].tagName=="IMG"?d:g;var h={size:(n=="vertical")?"height":"width",position:(n=="vertical")?"top":"left"};var e=(n=="vertical")?f.height():f.width();if(l=="show"){f.css(h.size,0);f.css(h.position,e/2)}var j={};j[h.size]=l=="show"?e:0;j[h.position]=l=="show"?0:e/2;f.animate(j,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){if(l=="hide"){g.hide()}a.effects.restore(g,m);a.effects.removeWrapper(g);if(c.callback){c.callback.apply(g[0],arguments)}g.dequeue()}})})}})(jQuery);(function(a,b){a.effects.drop=function(c){return this.queue(function(){var f=a(this),e=["position","top","bottom","left","right","opacity"];var l=a.effects.setMode(f,c.options.mode||"hide");var j=c.options.direction||"left";a.effects.save(f,e);f.show();a.effects.createWrapper(f);var g=(j=="up"||j=="down")?"top":"left";var d=(j=="up"||j=="left")?"pos":"neg";var m=c.options.distance||(g=="top"?f.outerHeight({margin:true})/2:f.outerWidth({margin:true})/2);if(l=="show"){f.css("opacity",0).css(g,d=="pos"?-m:m)}var h={opacity:l=="show"?1:0};h[g]=(l=="show"?(d=="pos"?"+=":"-="):(d=="pos"?"-=":"+="))+m;f.animate(h,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){if(l=="hide"){f.hide()}a.effects.restore(f,e);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(this,arguments)}f.dequeue()}})})}})(jQuery);(function(a,b){a.effects.explode=function(c){return this.queue(function(){var m=c.options.pieces?Math.round(Math.sqrt(c.options.pieces)):3;var f=c.options.pieces?Math.round(Math.sqrt(c.options.pieces)):3;c.options.mode=c.options.mode=="toggle"?(a(this).is(":visible")?"hide":"show"):c.options.mode;var l=a(this).show().css("visibility","hidden");var n=l.offset();n.top-=parseInt(l.css("marginTop"),10)||0;n.left-=parseInt(l.css("marginLeft"),10)||0;var h=l.outerWidth(true);var d=l.outerHeight(true);for(var g=0;g<m;g++){for(var e=0;e<f;e++){l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-e*(h/f),top:-g*(d/m)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/f,height:d/m,left:n.left+e*(h/f)+(c.options.mode=="show"?(e-Math.floor(f/2))*(h/f):0),top:n.top+g*(d/m)+(c.options.mode=="show"?(g-Math.floor(m/2))*(d/m):0),opacity:c.options.mode=="show"?0:1}).animate({left:n.left+e*(h/f)+(c.options.mode=="show"?0:(e-Math.floor(f/2))*(h/f)),top:n.top+g*(d/m)+(c.options.mode=="show"?0:(g-Math.floor(m/2))*(d/m)),opacity:c.options.mode=="show"?1:0},c.duration||500)}}setTimeout(function(){c.options.mode=="show"?l.css({visibility:"visible"}):l.css({visibility:"visible"}).hide();if(c.callback){c.callback.apply(l[0])}l.dequeue();a("div.ui-effects-explode").remove()},c.duration||500)})}})(jQuery);(function(a,b){a.effects.fade=function(c){return this.queue(function(){var d=a(this),e=a.effects.setMode(d,c.options.mode||"hide");d.animate({opacity:e},{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){(c.callback&&c.callback.apply(this,arguments));d.dequeue()}})})}})(jQuery);(function(a,b){a.effects.fold=function(c){return this.queue(function(){var f=a(this),n=["position","top","bottom","left","right"];var j=a.effects.setMode(f,c.options.mode||"hide");var r=c.options.size||15;var q=!(!c.options.horizFirst);var h=c.duration?c.duration/2:a.fx.speeds._default/2;a.effects.save(f,n);f.show();var e=a.effects.createWrapper(f).css({overflow:"hidden"});var l=((j=="show")!=q);var g=l?["width","height"]:["height","width"];var d=l?[e.width(),e.height()]:[e.height(),e.width()];var m=/([0-9]+)%/.exec(r);if(m){r=parseInt(m[1],10)/100*d[j=="hide"?0:1]}if(j=="show"){e.css(q?{height:0,width:r}:{height:r,width:0})}var p={},o={};p[g[0]]=j=="show"?d[0]:r;o[g[1]]=j=="show"?d[1]:0;e.animate(p,h,c.options.easing).animate(o,h,c.options.easing,function(){if(j=="hide"){f.hide()}a.effects.restore(f,n);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(f[0],arguments)}f.dequeue()})})}})(jQuery);(function(a,b){a.effects.highlight=function(c){return this.queue(function(){var e=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(e,c.options.mode||"show"),f={backgroundColor:e.css("backgroundColor")};if(g=="hide"){f.opacity=0}a.effects.save(e,d);e.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){(g=="hide"&&e.hide());a.effects.restore(e,d);(g=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"));(c.callback&&c.callback.apply(this,arguments));e.dequeue()}})})}})(jQuery);(function(a,b){a.effects.pulsate=function(c){return this.queue(function(){var e=a(this),f=a.effects.setMode(e,c.options.mode||"show");times=((c.options.times||5)*2)-1;duration=c.duration?c.duration/2:a.fx.speeds._default/2,isVisible=e.is(":visible"),animateTo=0;if(!isVisible){e.css("opacity",0).show();animateTo=1}if((f=="hide"&&isVisible)||(f=="show"&&!isVisible)){times--}for(var d=0;d<times;d++){e.animate({opacity:animateTo},duration,c.options.easing);animateTo=(animateTo+1)%2}e.animate({opacity:animateTo},duration,c.options.easing,function(){if(animateTo==0){e.hide()}(c.callback&&c.callback.apply(this,arguments))});e.queue("fx",function(){e.dequeue()}).dequeue()})}})(jQuery);(function(a,b){a.effects.puff=function(c){return this.queue(function(){var g=a(this),h=a.effects.setMode(g,c.options.mode||"hide"),f=parseInt(c.options.percent,10)||150,e=f/100,d={height:g.height(),width:g.width()};a.extend(c.options,{fade:true,mode:h,percent:h=="hide"?f:100,from:h=="hide"?d:{height:d.height*e,width:d.width*e}});g.effect("scale",c.options,c.duration,c.callback);g.dequeue()})};a.effects.scale=function(c){return this.queue(function(){var h=a(this);var e=a.extend(true,{},c.options);var m=a.effects.setMode(h,c.options.mode||"effect");var j=parseInt(c.options.percent,10)||(parseInt(c.options.percent,10)==0?0:(m=="hide"?0:100));var l=c.options.direction||"both";var d=c.options.origin;if(m!="effect"){e.origin=d||["middle","center"];e.restore=true}var g={height:h.height(),width:h.width()};h.from=c.options.from||(m=="show"?{height:0,width:0}:g);var f={y:l!="horizontal"?(j/100):1,x:l!="vertical"?(j/100):1};h.to={height:g.height*f.y,width:g.width*f.x};if(c.options.fade){if(m=="show"){h.from.opacity=0;h.to.opacity=1}if(m=="hide"){h.from.opacity=1;h.to.opacity=0}}e.from=h.from;e.to=h.to;e.mode=m;h.effect("size",e,c.duration,c.callback);h.dequeue()})};a.effects.size=function(c){return this.queue(function(){var d=a(this),q=["position","top","bottom","left","right","width","height","overflow","opacity"];var p=["position","top","bottom","left","right","overflow","opacity"];var m=["width","height","overflow"];var u=["fontSize"];var n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];var h=a.effects.setMode(d,c.options.mode||"effect");var l=c.options.restore||false;var f=c.options.scale||"both";var r=c.options.origin;var e={height:d.height(),width:d.width()};d.from=c.options.from||e;d.to=c.options.to||e;if(r){var j=a.effects.getBaseline(r,e);d.from.top=(e.height-d.from.height)*j.y;d.from.left=(e.width-d.from.width)*j.x;d.to.top=(e.height-d.to.height)*j.y;d.to.left=(e.width-d.to.width)*j.x}var o={from:{y:d.from.height/e.height,x:d.from.width/e.width},to:{y:d.to.height/e.height,x:d.to.width/e.width}};if(f=="box"||f=="both"){if(o.from.y!=o.to.y){q=q.concat(n);d.from=a.effects.setTransition(d,n,o.from.y,d.from);d.to=a.effects.setTransition(d,n,o.to.y,d.to)}if(o.from.x!=o.to.x){q=q.concat(g);d.from=a.effects.setTransition(d,g,o.from.x,d.from);d.to=a.effects.setTransition(d,g,o.to.x,d.to)}}if(f=="content"||f=="both"){if(o.from.y!=o.to.y){q=q.concat(u);d.from=a.effects.setTransition(d,u,o.from.y,d.from);d.to=a.effects.setTransition(d,u,o.to.y,d.to)}}a.effects.save(d,l?q:p);d.show();a.effects.createWrapper(d);d.css("overflow","hidden").css(d.from);if(f=="content"||f=="both"){n=n.concat(["marginTop","marginBottom"]).concat(u);g=g.concat(["marginLeft","marginRight"]);m=q.concat(n).concat(g);d.find("*[width]").each(function(){child=a(this);if(l){a.effects.save(child,m)}var v={height:child.height(),width:child.width()};child.from={height:v.height*o.from.y,width:v.width*o.from.x};child.to={height:v.height*o.to.y,width:v.width*o.to.x};if(o.from.y!=o.to.y){child.from=a.effects.setTransition(child,n,o.from.y,child.from);child.to=a.effects.setTransition(child,n,o.to.y,child.to)}if(o.from.x!=o.to.x){child.from=a.effects.setTransition(child,g,o.from.x,child.from);child.to=a.effects.setTransition(child,g,o.to.x,child.to)}child.css(child.from);child.animate(child.to,c.duration,c.options.easing,function(){if(l){a.effects.restore(child,m)}})})}d.animate(d.to,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){if(d.to.opacity===0){d.css("opacity",d.from.opacity)}if(h=="hide"){d.hide()}a.effects.restore(d,l?q:p);a.effects.removeWrapper(d);if(c.callback){c.callback.apply(this,arguments)}d.dequeue()}})})}})(jQuery);(function(a,b){a.effects.shake=function(c){return this.queue(function(){var f=a(this),n=["position","top","bottom","left","right"];var m=a.effects.setMode(f,c.options.mode||"effect");var p=c.options.direction||"left";var d=c.options.distance||20;var e=c.options.times||3;var h=c.duration||c.options.duration||140;a.effects.save(f,n);f.show();a.effects.createWrapper(f);var g=(p=="up"||p=="down")?"top":"left";var r=(p=="up"||p=="left")?"pos":"neg";var j={},q={},o={};j[g]=(r=="pos"?"-=":"+=")+d;q[g]=(r=="pos"?"+=":"-=")+d*2;o[g]=(r=="pos"?"-=":"+=")+d*2;f.animate(j,h,c.options.easing);for(var l=1;l<e;l++){f.animate(q,h,c.options.easing).animate(o,h,c.options.easing)}f.animate(q,h,c.options.easing).animate(j,h/2,c.options.easing,function(){a.effects.restore(f,n);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(this,arguments)}});f.queue("fx",function(){f.dequeue()});f.dequeue()})}})(jQuery);(function(a,b){a.effects.slide=function(c){return this.queue(function(){var f=a(this),e=["position","top","bottom","left","right"];var l=a.effects.setMode(f,c.options.mode||"show");var j=c.options.direction||"left";a.effects.save(f,e);f.show();a.effects.createWrapper(f).css({overflow:"hidden"});var g=(j=="up"||j=="down")?"top":"left";var d=(j=="up"||j=="left")?"pos":"neg";var m=c.options.distance||(g=="top"?f.outerHeight({margin:true}):f.outerWidth({margin:true}));if(l=="show"){f.css(g,d=="pos"?(isNaN(m)?"-"+m:-m):m)}var h={};h[g]=(l=="show"?(d=="pos"?"+=":"-="):(d=="pos"?"-=":"+="))+m;f.animate(h,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){if(l=="hide"){f.hide()}a.effects.restore(f,e);a.effects.removeWrapper(f);if(c.callback){c.callback.apply(this,arguments)}f.dequeue()}})})}})(jQuery);(function(a,b){a.effects.transfer=function(c){return this.queue(function(){var g=a(this),j=a(c.options.to),f=j.offset(),h={top:f.top,left:f.left,height:j.innerHeight(),width:j.innerWidth()},e=g.offset(),d=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(c.options.className).css({top:e.top,left:e.left,height:g.innerHeight(),width:g.innerWidth(),position:"absolute"}).animate(h,c.duration,c.options.easing,function(){d.remove();(c.callback&&c.callback.apply(g[0],arguments));g.dequeue()})})}})(jQuery);(function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var c=this,d=c.options;c.running=0;c.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");c.headers=c.element.find(d.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(d.disabled){return}a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(d.disabled){return}a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(d.disabled){return}a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(d.disabled){return}a(this).removeClass("ui-state-focus")});c.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(d.navigation){var e=c.element.find("a").filter(d.navigationFilter).eq(0);if(e.length){var f=e.closest(".ui-accordion-header");if(f.length){c.active=f}else{c.active=e.closest(".ui-accordion-content").prev()}}}c.active=c._findActive(c.active||d.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");c.active.next().addClass("ui-accordion-content-active");c._createIcons();c.resize();c.element.attr("role","tablist");c.headers.attr("role","tab").bind("keydown.accordion",function(g){return c._keydown(g)}).next().attr("role","tabpanel");c.headers.not(c.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();if(!c.active.length){c.headers.eq(0).attr("tabIndex",0)}else{c.active.attr({"aria-expanded":"true",tabIndex:0})}if(!a.browser.safari){c.headers.find("a").attr("tabIndex",-1)}if(d.event){c.headers.bind(d.event.split(" ").join(".accordion ")+".accordion",function(g){c._clickHandler.call(c,g,this);g.preventDefault()})}},_createIcons:function(){var c=this.options;if(c.icons){a("<span></span>").addClass("ui-icon "+c.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(c.icons.header).toggleClass(c.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var c=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var d=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(c.autoHeight||c.fillHeight){d.css("height","")}return a.Widget.prototype.destroy.call(this)},_setOption:function(c,d){a.Widget.prototype._setOption.apply(this,arguments);if(c=="active"){this.activate(d)}if(c=="icons"){this._destroyIcons();if(d){this._createIcons()}}if(c=="disabled"){this.headers.add(this.headers.next())[d?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")}},_keydown:function(f){if(this.options.disabled||f.altKey||f.ctrlKey){return}var g=a.ui.keyCode,e=this.headers.length,c=this.headers.index(f.target),d=false;switch(f.keyCode){case g.RIGHT:case g.DOWN:d=this.headers[(c+1)%e];break;case g.LEFT:case g.UP:d=this.headers[(c-1+e)%e];break;case g.SPACE:case g.ENTER:this._clickHandler({target:f.target},f.target);f.preventDefault()}if(d){a(f.target).attr("tabIndex",-1);a(d).attr("tabIndex",0);d.focus();return false}return true},resize:function(){var c=this.options,e;if(c.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}e=this.element.parent().height();if(a.browser.msie){this.element.parent().css("overflow",d)}this.headers.each(function(){e-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else{if(c.autoHeight){e=0;this.headers.next().each(function(){e=Math.max(e,a(this).height("").height())}).height(e)}}return this},activate:function(c){this.options.active=c;var d=this._findActive(c)[0];this._clickHandler({target:d},d);return this},_findActive:function(c){return c?typeof c==="number"?this.headers.filter(":eq("+c+")"):this.headers.not(this.headers.not(c)):c===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(c,g){var n=this.options;if(n.disabled){return}if(!c.target){if(!n.collapsible){return}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header);this.active.next().addClass("ui-accordion-content-active");var j=this.active.next(),f={options:n,newHeader:a([]),oldHeader:n.active,newContent:a([]),oldContent:j},d=(this.active=a([]));this._toggle(d,j,f);return}var h=a(c.currentTarget||g),l=h[0]===this.active[0];n.active=n.collapsible&&l?false:this.headers.index(h);if(this.running||(!n.collapsible&&l)){return}var e=this.active,d=h.next(),j=this.active.next(),f={options:n,newHeader:l&&n.collapsible?a([]):h,oldHeader:this.active,newContent:l&&n.collapsible?a([]):d,oldContent:j},m=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=l?a([]):h;this._toggle(d,j,f,l,m);e.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header);if(!l){h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected);h.next().addClass("ui-accordion-content-active")}return},_toggle:function(c,j,g,l,m){var o=this,p=o.options;o.toShow=c;o.toHide=j;o.data=g;var d=function(){if(!o){return}return o._completed.apply(o,arguments)};o._trigger("changestart",null,o.data);o.running=j.size()===0?c.size():j.size();if(p.animated){var f={};if(p.collapsible&&l){f={toShow:a([]),toHide:j,complete:d,down:m,autoHeight:p.autoHeight||p.fillSpace}}else{f={toShow:c,toHide:j,complete:d,down:m,autoHeight:p.autoHeight||p.fillSpace}}if(!p.proxied){p.proxied=p.animated}if(!p.proxiedDuration){p.proxiedDuration=p.duration}p.animated=a.isFunction(p.proxied)?p.proxied(f):p.proxied;p.duration=a.isFunction(p.proxiedDuration)?p.proxiedDuration(f):p.proxiedDuration;var n=a.ui.accordion.animations,e=p.duration,h=p.animated;if(h&&!n[h]&&!a.easing[h]){h="slide"}if(!n[h]){n[h]=function(q){this.slide(q,{easing:h,duration:e||700})}}n[h](f)}else{if(p.collapsible&&l){c.toggle()}else{j.hide();c.show()}d(true)}j.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();c.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(c){this.running=c?0:--this.running;if(this.running){return}if(this.options.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""})}this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length){this.toHide.parent()[0].className=this.toHide.parent()[0].className}this._trigger("change",null,this.data)}});a.extend(a.ui.accordion,{version:"1.8.10",animations:{slide:function(m,j){m=a.extend({easing:"swing",duration:300},m,j);if(!m.toHide.size()){m.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},m);return}if(!m.toShow.size()){m.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},m);return}var d=m.toShow.css("overflow"),h=0,e={},g={},f=["height","paddingTop","paddingBottom"],c;var l=m.toShow;c=l[0].style.width;l.width(parseInt(l.parent().width(),10)-parseInt(l.css("paddingLeft"),10)-parseInt(l.css("paddingRight"),10)-(parseInt(l.css("borderLeftWidth"),10)||0)-(parseInt(l.css("borderRightWidth"),10)||0));a.each(f,function(n,p){g[p]="hide";var o=(""+a.css(m.toShow[0],p)).match(/^([\d+-.]+)(.*)$/);e[p]={value:o[1],unit:o[2]||"px"}});m.toShow.css({height:0,overflow:"hidden"}).show();m.toHide.filter(":hidden").each(m.complete).end().filter(":visible").animate(g,{step:function(n,o){if(o.prop=="height"){h=(o.end-o.start===0)?0:(o.now-o.start)/(o.end-o.start)}m.toShow[0].style[o.prop]=(h*e[o.prop].value)+e[o.prop].unit},duration:m.duration,easing:m.easing,complete:function(){if(!m.autoHeight){m.toShow.css("height","")}m.toShow.css({width:c,overflow:d});m.complete()}})},bounceslide:function(c){this.slide(c,{easing:c.down?"easeOutBounce":"swing",duration:c.down?1000:200})}}})})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var d=this,f=this.element[0].ownerDocument,e;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(g){if(d.options.disabled||d.element.attr("readonly")){return}e=false;var h=a.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:d._move("previousPage",g);break;case h.PAGE_DOWN:d._move("nextPage",g);break;case h.UP:d._move("previous",g);g.preventDefault();break;case h.DOWN:d._move("next",g);g.preventDefault();break;case h.ENTER:case h.NUMPAD_ENTER:if(d.menu.active){e=true;g.preventDefault()}case h.TAB:if(!d.menu.active){return}d.menu.select(g);break;case h.ESCAPE:d.element.val(d.term);d.close(g);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,g)}},d.options.delay);break}}).bind("keypress.autocomplete",function(g){if(e){e=false;g.preventDefault()}}).bind("focus.autocomplete",function(){if(d.options.disabled){return}d.selectedItem=null;d.previous=d.element.val()}).bind("blur.autocomplete",function(g){if(d.options.disabled){return}clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(g);d._change(g)},150)});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",f)[0]).mousedown(function(g){var h=d.menu.element[0];if(!a(g.target).closest(".ui-menu-item").length){setTimeout(function(){a(document).one("mousedown",function(j){if(j.target!==d.element[0]&&j.target!==h&&!a.ui.contains(h,j.target)){d.close()}})},1)}setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(h,j){var g=j.item.data("item.autocomplete");if(false!==d._trigger("focus",h,{item:g})){if(/^key/.test(h.originalEvent.type)){d.element.val(g.value)}}},selected:function(j,l){var h=l.item.data("item.autocomplete"),g=d.previous;if(d.element[0]!==f.activeElement){d.element.focus();d.previous=g;setTimeout(function(){d.previous=g;d.selectedItem=h},1)}if(false!==d._trigger("select",j,{item:h})){d.element.val(h.value)}d.term=d.element.val();d.close(j);d.selectedItem=h},blur:function(g,h){if(d.menu.element.is(":visible")&&(d.element.val()!==d.term)){d.element.val(d.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(a.fn.bgiframe){this.menu.element.bgiframe()}},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,e){a.Widget.prototype._setOption.apply(this,arguments);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(a(e||"body",this.element[0].ownerDocument)[0])}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_initSource:function(){var d=this,f,e;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){e=this.options.source;this.source=function(h,g){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:e,data:h,dataType:"json",autocompleteRequest:++c,success:function(l,j){if(this.autocompleteRequest===c){g(l)}},error:function(){if(this.autocompleteRequest===c){g([])}}})}}else{this.source=this.options.source}}},search:function(e,d){e=e!=null?e:this.element.val();this.term=this.element.val();if(e.length<this.options.minLength){return this.close(d)}clearTimeout(this.closing);if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:d},this.response)},_response:function(d){if(!this.options.disabled&&d&&d.length){d=this._normalize(d);this._suggest(d);this._trigger("open")}else{this.close()}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},close:function(d){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",d)}},_change:function(d){if(this.previous!==this.element.val()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d);this.menu.deactivate();this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position))},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(f,e){var d=this;a.each(e,function(g,h){d._renderItem(f,h)})},_renderItem:function(d,e){return a("<li></li>").data("item.autocomplete",e).append(a("<a></a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)){this.element.val(this.term);this.menu.deactivate();return}this.menu[e](d)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}})}(jQuery));(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return}c.preventDefault();b.select(c)});this.refresh()},refresh:function(){var c=this;var b=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");b.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(d){c.activate(d,a(this).parent())}).mouseleave(function(){c.deactivate()})},activate:function(e,d){this.deactivate();if(this.hasScroll()){var f=d.offset().top-this.element.offset().top,b=this.element.attr("scrollTop"),c=this.element.height();if(f<0){this.element.attr("scrollTop",b+f)}else{if(f>=c){this.element.attr("scrollTop",b+f-c+d.height())}}}this.active=d.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:d})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,d,c){if(!this.active){this.activate(c,this.element.children(d));return}var b=this.active[e+"All"](".ui-menu-item").eq(0);if(b.length){this.activate(c,b)}else{this.activate(c,this.element.children(d))}},nextPage:function(d){if(this.hasScroll()){if(!this.active||this.last()){this.activate(d,this.element.children(".ui-menu-item:first"));return}var e=this.active.offset().top,c=this.element.height(),b=this.element.children(".ui-menu-item").filter(function(){var f=a(this).offset().top-e-c+a(this).height();return f<10&&f>-10});if(!b.length){b=this.element.children(".ui-menu-item:last")}this.activate(d,b)}else{this.activate(d,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(c){if(this.hasScroll()){if(!this.active||this.first()){this.activate(c,this.element.children(".ui-menu-item:last"));return}var d=this.active.offset().top,b=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var e=a(this).offset().top-d+b-a(this).height();return e<10&&e>-10});if(!result.length){result=this.element.children(".ui-menu-item:first")}this.activate(c,result)}else{this.activate(c,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})}(jQuery));(function(e,h){var c,b="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(j){e(":ui-button",j.target.form).each(function(){var l=e(this).data("button");setTimeout(function(){l.refresh()},1)})},a=function(l){var j=l.name,m=l.form,n=e([]);if(j){if(m){n=e(m).find("[name='"+j+"']")}else{n=e("[name='"+j+"']",l.ownerDocument).filter(function(){return !this.form})}}return n};e.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",d);if(typeof this.options.disabled!=="boolean"){this.options.disabled=this.element.attr("disabled")}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var j=this,m=this.options,n=this.type==="checkbox"||this.type==="radio",o="ui-state-hover"+(!n?" ui-state-active":""),l="ui-state-focus";if(m.label===null){m.label=this.buttonElement.html()}if(this.element.is(":disabled")){m.disabled=true}this.buttonElement.addClass(b).attr("role","button").bind("mouseenter.button",function(){if(m.disabled){return}e(this).addClass("ui-state-hover");if(this===c){e(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){if(m.disabled){return}e(this).removeClass(o)}).bind("focus.button",function(){e(this).addClass(l)}).bind("blur.button",function(){e(this).removeClass(l)});if(n){this.element.bind("change.button",function(){j.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(m.disabled){return false}e(this).toggleClass("ui-state-active");j.buttonElement.attr("aria-pressed",j.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(m.disabled){return false}e(this).addClass("ui-state-active");j.buttonElement.attr("aria-pressed",true);var p=j.element[0];a(p).not(p).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)})}else{this.buttonElement.bind("mousedown.button",function(){if(m.disabled){return false}e(this).addClass("ui-state-active");c=this;e(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(m.disabled){return false}e(this).removeClass("ui-state-active")}).bind("keydown.button",function(p){if(m.disabled){return false}if(p.keyCode==e.ui.keyCode.SPACE||p.keyCode==e.ui.keyCode.ENTER){e(this).addClass("ui-state-active")}}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(p){if(p.keyCode===e.ui.keyCode.SPACE){e(this).click()}})}}}this._setOption("disabled",m.disabled)},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox"}else{if(this.element.is(":radio")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var j=this.element.is(":checked");if(j){this.buttonElement.addClass("ui-state-active")}this.buttonElement.attr("aria-pressed",j)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(b+" "+g+" "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}e.Widget.prototype.destroy.call(this)},_setOption:function(j,l){e.Widget.prototype._setOption.apply(this,arguments);if(j==="disabled"){if(l){this.element.attr("disabled",true)}else{this.element.removeAttr("disabled")}}this._resetButton()},refresh:function(){var j=this.element.is(":disabled");if(j!==this.options.disabled){this._setOption("disabled",j)}if(this.type==="radio"){a(this.element[0]).each(function(){if(e(this).is(":checked")){e(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true)}else{e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true)}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var o=this.buttonElement.removeClass(f),m=e("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(o.empty()).text(),l=this.options.icons,j=l.primary&&l.secondary,n=[];if(l.primary||l.secondary){n.push("ui-button-text-icon"+(j?"s":(l.primary?"-primary":"-secondary")));if(l.primary){o.prepend("<span class='ui-button-icon-primary ui-icon "+l.primary+"'></span>")}if(l.secondary){o.append("<span class='ui-button-icon-secondary ui-icon "+l.secondary+"'></span>")}if(!this.options.text){n.push(j?"ui-button-icons-only":"ui-button-icon-only");o.removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");if(!this.hasTitle){o.attr("title",m)}}}else{n.push("ui-button-text-only")}o.addClass(n.join(" "))}});e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(j,l){if(j==="disabled"){this.buttons.button("option",j,l)}e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");e.Widget.prototype.destroy.call(this)}})}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.10"}});var PROP_NAME="datepicker";var dpuuid=new Date().getTime();function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=$('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:$('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst)},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]){$.datepicker._hideDatepicker()}else{$.datepicker._showDatepicker(input[0])}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);inst.dpDiv.show()},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker()}var date=this._getDateDatepicker(target,true);extendRemove(inst.settings,settings);this._attachments($(target),inst);this._autoSize(inst);this._setDateDatepicker(target,date);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}else{$.datepicker._hideDatepicker()}return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(event){$.datepicker.log(event)}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true)}var beforeShow=$.datepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){$.datepicker._datepickerShowing=true;var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1);if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var self=this;var borders=$.datepicker._getBorders(inst.dpDiv);inst.dpDiv.empty().append(this._generateHTML(inst));var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}inst.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).removeClass("ui-datepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledDatepicker(inst.inline?inst.dpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!=-1){$(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!=-1){$(this).addClass("ui-datepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}else{inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement){inst.input.focus()}if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+$(document).scrollLeft();var viewHeight=document.documentElement.clientHeight+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst);this._curInst=null};if($.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target);if($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst._selectingMonthYear=false;inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_clickMonthYear:function(id){var target=$(id);var inst=this._getInst(target[0]);if(inst.input&&inst._selectingMonthYear){setTimeout(function(){inst.input.focus()},0)}inst._selectingMonthYear=!inst._selectingMonthYear},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=="@"?14:(match=="!"?20:(match=="y"&&isDoubled?4:(match=="o"?3:2))));var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=(lookAhead(match)?longNames:shortNames);for(var i=0;i<names.length;i++){if(value.substr(iValue,names[i].length).toLowerCase()==names[i].toLowerCase()){iValue+=names[i].length;return i+1}}throw"Unknown name at position "+iValue};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",(date.getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000,3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return}var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=(date==null||date===""?defaultDate:(typeof date=="string"?offsetString(date):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', -"+stepMonths+", 'M');\" title=\""+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+inst.id+"', +"+stepMonths+", 'M');\" title=\""+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+inst.id+"');\">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var numRows=(isMultiMonth?6:Math.ceil((leadDays+daysInMonth)/7));var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=(!showWeek?"":'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+inst.id+"',"+printDate.getMonth()+","+printDate.getFullYear()+', this);return false;"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'M');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}inst.yearshtml="";if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+dpuuid+".datepicker._clickMonthYear('#"+inst.id+"');\">";for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}inst.yearshtml+="</select>";if(!$.browser.mozilla){html+=inst.yearshtml;inst.yearshtml=null}else{html+='<select class="ui-datepicker-year"><option value="'+drawYear+'" selected="selected">'+drawYear+"</option></select>"}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.8.10";window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var p=this,q=p.options,n=q.title||"&#160;",g=d.ui.dialog.getTitleId(p.element),o=(p.uiDialog=d("<div></div>")).appendTo(document.body).hide().addClass(b+q.dialogClass).css({zIndex:q.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){if(q.closeOnEscape&&r.keyCode&&r.keyCode===d.ui.keyCode.ESCAPE){p.close(r);r.preventDefault()}}).attr({role:"dialog","aria-labelledby":g}).mousedown(function(r){p.moveToTop(false,r)}),j=p.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),h=(p.uiDialogTitlebar=d("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),m=d('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){m.addClass("ui-state-hover")},function(){m.removeClass("ui-state-hover")}).focus(function(){m.addClass("ui-state-focus")}).blur(function(){m.removeClass("ui-state-focus")}).click(function(r){p.close(r);return false}).appendTo(h),l=(p.uiDialogTitlebarCloseText=d("<span></span>")).addClass("ui-icon ui-icon-closethick").text(q.closeText).appendTo(m),f=d("<span></span>").addClass("ui-dialog-title").attr("id",g).html(n).prependTo(h);if(d.isFunction(q.beforeclose)&&!d.isFunction(q.beforeClose)){q.beforeClose=q.beforeclose}h.find("*").add(h).disableSelection();if(q.draggable&&d.fn.draggable){p._makeDraggable()}if(q.resizable&&d.fn.resizable){p._makeResizable()}p._createButtons(q.buttons);p._isOpen=false;if(d.fn.bgiframe){o.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var f=this;if(f.overlay){f.overlay.destroy()}f.uiDialog.hide();f.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");f.uiDialog.remove();if(f.originalTitle){f.element.attr("title",f.originalTitle)}return f},widget:function(){return this.uiDialog},close:function(j){var f=this,h,g;if(false===f._trigger("beforeClose",j)){return}if(f.overlay){f.overlay.destroy()}f.uiDialog.unbind("keypress.ui-dialog");f._isOpen=false;if(f.options.hide){f.uiDialog.hide(f.options.hide,function(){f._trigger("close",j)})}else{f.uiDialog.hide();f._trigger("close",j)}d.ui.dialog.overlay.resize();if(f.options.modal){h=0;d(".ui-dialog").each(function(){if(this!==f.uiDialog[0]){g=d(this).css("z-index");if(!isNaN(g)){h=Math.max(h,g)}}});d.ui.dialog.maxZ=h}return f},isOpen:function(){return this._isOpen},moveToTop:function(l,j){var f=this,h=f.options,g;if((h.modal&&!l)||(!h.stack&&!h.modal)){return f._trigger("focus",j)}if(h.zIndex>d.ui.dialog.maxZ){d.ui.dialog.maxZ=h.zIndex}if(f.overlay){d.ui.dialog.maxZ+=1;f.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ)}g={scrollTop:f.element.attr("scrollTop"),scrollLeft:f.element.attr("scrollLeft")};d.ui.dialog.maxZ+=1;f.uiDialog.css("z-index",d.ui.dialog.maxZ);f.element.attr(g);f._trigger("focus",j);return f},open:function(){if(this._isOpen){return}var g=this,h=g.options,f=g.uiDialog;g.overlay=h.modal?new d.ui.dialog.overlay(g):null;g._size();g._position(h.position);f.show(h.show);g.moveToTop(true);if(h.modal){f.bind("keypress.ui-dialog",function(m){if(m.keyCode!==d.ui.keyCode.TAB){return}var l=d(":tabbable",this),n=l.filter(":first"),j=l.filter(":last");if(m.target===j[0]&&!m.shiftKey){n.focus(1);return false}else{if(m.target===n[0]&&m.shiftKey){j.focus(1);return false}}})}d(g.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();g._isOpen=true;g._trigger("open");return g},_createButtons:function(j){var h=this,f=false,g=d("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),l=d("<div></div>").addClass("ui-dialog-buttonset").appendTo(g);h.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof j==="object"&&j!==null){d.each(j,function(){return !(f=true)})}if(f){d.each(j,function(m,o){o=d.isFunction(o)?{click:o,text:m}:o;var n=d('<button type="button"></button>').attr(o,true).unbind("click").click(function(){o.click.apply(h.element[0],arguments)}).appendTo(l);if(d.fn.button){n.button()}});g.appendTo(h.uiDialog)}},_makeDraggable:function(){var f=this,j=f.options,l=d(document),h;function g(m){return{position:m.position,offset:m.offset}}f.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,n){h=j.height==="auto"?"auto":d(this).height();d(this).height(d(this).height()).addClass("ui-dialog-dragging");f._trigger("dragStart",m,g(n))},drag:function(m,n){f._trigger("drag",m,g(n))},stop:function(m,n){j.position=[n.position.left-l.scrollLeft(),n.position.top-l.scrollTop()];d(this).removeClass("ui-dialog-dragging").height(h);f._trigger("dragStop",m,g(n));d.ui.dialog.overlay.resize()}})},_makeResizable:function(m){m=(m===e?this.options.resizable:m);var g=this,l=g.options,f=g.uiDialog.css("position"),j=(typeof m==="string"?m:"n,e,s,w,se,sw,ne,nw");function h(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:g._minHeight(),handles:j,start:function(n,o){d(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",n,h(o))},resize:function(n,o){g._trigger("resize",n,h(o))},stop:function(n,o){d(this).removeClass("ui-dialog-resizing");l.height=d(this).height();l.width=d(this).width();g._trigger("resizeStop",n,h(o));d.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight}else{return Math.min(f.minHeight,f.height)}},_position:function(g){var h=[],j=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0]}d.each(["left","top"],function(m,l){if(+h[m]===h[m]){j[m]=h[m];h[m]=l}});g={my:h.join(" "),at:h.join(" "),offset:j.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(d.extend({of:window},g));if(!f){this.uiDialog.hide()}},_setOptions:function(j){var g=this,f={},h=false;d.each(j,function(l,m){g._setOption(l,m);if(l in a){h=true}if(l in c){f[l]=m}});if(h){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",f)}},_setOption:function(j,l){var g=this,f=g.uiDialog;switch(j){case"beforeclose":j="beforeClose";break;case"buttons":g._createButtons(l);break;case"closeText":g.uiDialogTitlebarCloseText.text(""+l);break;case"dialogClass":f.removeClass(g.options.dialogClass).addClass(b+l);break;case"disabled":if(l){f.addClass("ui-dialog-disabled")}else{f.removeClass("ui-dialog-disabled")}break;case"draggable":var h=f.is(":data(draggable)");if(h&&!l){f.draggable("destroy")}if(!h&&l){g._makeDraggable()}break;case"position":g._position(l);break;case"resizable":var m=f.is(":data(resizable)");if(m&&!l){f.resizable("destroy")}if(m&&typeof l==="string"){f.resizable("option","handles",l)}if(!m&&l!==false){g._makeResizable(l)}break;case"title":d(".ui-dialog-title",g.uiDialogTitlebar).html(""+(l||"&#160;"));break}d.Widget.prototype._setOption.apply(g,arguments)},_size:function(){var l=this.options,g,j,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(l.minWidth>l.width){l.width=l.minWidth}g=this.uiDialog.css({height:"auto",width:l.width}).height();j=Math.max(0,l.minHeight-g);if(l.height==="auto"){if(d.support.minHeight){this.element.css({minHeight:j,height:"auto"})}else{this.uiDialog.show();var h=this.element.css("height","auto").height();if(!f){this.uiDialog.hide()}this.element.height(Math.max(h,j))}}else{this.element.height(Math.max(l.height-g,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});d.extend(d.ui.dialog,{version:"1.8.10",uuid:0,maxZ:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid}return"ui-dialog-title-"+g},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f)}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(f){return f+".dialog-overlay"}).join(" "),create:function(g){if(this.instances.length===0){setTimeout(function(){if(d.ui.dialog.overlay.instances.length){d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return false}})}},1);d(document).bind("keydown.dialog-overlay",function(h){if(g.options.closeOnEscape&&h.keyCode&&h.keyCode===d.ui.keyCode.ESCAPE){g.close(h);h.preventDefault()}});d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize)}var f=(this.oldInstances.pop()||d("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(d.fn.bgiframe){f.bgiframe()}this.instances.push(f);return f},destroy:function(f){var g=d.inArray(f,this.instances);if(g!=-1){this.oldInstances.push(this.instances.splice(g,1)[0])}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}f.remove();var h=0;d.each(this.instances,function(){h=Math.max(h,this.css("z-index"))});this.maxZ=h},height:function(){var g,f;if(d.browser.msie&&d.browser.version<7){g=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(g<f){return d(window).height()+"px"}else{return g+"px"}}else{return d(document).height()+"px"}},width:function(){var f,g;if(d.browser.msie&&d.browser.version<7){f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(f<g){return d(window).width()+"px"}else{return f+"px"}}else{return d(document).width()+"px"}},resize:function(){var f=d([]);d.each(d.ui.dialog.overlay.instances,function(){f=f.add(this)});f.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(f,g){f.ui=f.ui||{};var d=/left|center|right/,e=/top|center|bottom/,a="center",b=f.fn.position,c=f.fn.offset;f.fn.position=function(j){if(!j||!j.of){return b.apply(this,arguments)}j=f.extend({},j);var o=f(j.of),n=o[0],q=(j.collision||"flip").split(" "),p=j.offset?j.offset.split(" "):[0,0],m,h,l;if(n.nodeType===9){m=o.width();h=o.height();l={top:0,left:0}}else{if(n.setTimeout){m=o.width();h=o.height();l={top:o.scrollTop(),left:o.scrollLeft()}}else{if(n.preventDefault){j.at="left top";m=h=0;l={top:j.of.pageY,left:j.of.pageX}}else{m=o.outerWidth();h=o.outerHeight();l=o.offset()}}}f.each(["my","at"],function(){var r=(j[this]||"").split(" ");if(r.length===1){r=d.test(r[0])?r.concat([a]):e.test(r[0])?[a].concat(r):[a,a]}r[0]=d.test(r[0])?r[0]:a;r[1]=e.test(r[1])?r[1]:a;j[this]=r});if(q.length===1){q[1]=q[0]}p[0]=parseInt(p[0],10)||0;if(p.length===1){p[1]=p[0]}p[1]=parseInt(p[1],10)||0;if(j.at[0]==="right"){l.left+=m}else{if(j.at[0]===a){l.left+=m/2}}if(j.at[1]==="bottom"){l.top+=h}else{if(j.at[1]===a){l.top+=h/2}}l.left+=p[0];l.top+=p[1];return this.each(function(){var w=f(this),y=w.outerWidth(),v=w.outerHeight(),x=parseInt(f.curCSS(this,"marginLeft",true))||0,u=parseInt(f.curCSS(this,"marginTop",true))||0,A=y+x+(parseInt(f.curCSS(this,"marginRight",true))||0),B=v+u+(parseInt(f.curCSS(this,"marginBottom",true))||0),z=f.extend({},l),r;if(j.my[0]==="right"){z.left-=y}else{if(j.my[0]===a){z.left-=y/2}}if(j.my[1]==="bottom"){z.top-=v}else{if(j.my[1]===a){z.top-=v/2}}z.left=Math.round(z.left);z.top=Math.round(z.top);r={left:z.left-x,top:z.top-u};f.each(["left","top"],function(D,C){if(f.ui.position[q[D]]){f.ui.position[q[D]][C](z,{targetWidth:m,targetHeight:h,elemWidth:y,elemHeight:v,collisionPosition:r,collisionWidth:A,collisionHeight:B,offset:p,my:j.my,at:j.at})}});if(f.fn.bgiframe){w.bgiframe()}w.offset(f.extend(z,{using:j.using}))})};f.ui.position={fit:{left:function(h,j){var m=f(window),l=j.collisionPosition.left+j.collisionWidth-m.width()-m.scrollLeft();h.left=l>0?h.left-l:Math.max(h.left-j.collisionPosition.left,h.left)},top:function(h,j){var m=f(window),l=j.collisionPosition.top+j.collisionHeight-m.height()-m.scrollTop();h.top=l>0?h.top-l:Math.max(h.top-j.collisionPosition.top,h.top)}},flip:{left:function(j,m){if(m.at[0]===a){return}var o=f(window),n=m.collisionPosition.left+m.collisionWidth-o.width()-o.scrollLeft(),h=m.my[0]==="left"?-m.elemWidth:m.my[0]==="right"?m.elemWidth:0,l=m.at[0]==="left"?m.targetWidth:-m.targetWidth,p=-2*m.offset[0];j.left+=m.collisionPosition.left<0?h+l+p:n>0?h+l+p:0},top:function(j,m){if(m.at[1]===a){return}var o=f(window),n=m.collisionPosition.top+m.collisionHeight-o.height()-o.scrollTop(),h=m.my[1]==="top"?-m.elemHeight:m.my[1]==="bottom"?m.elemHeight:0,l=m.at[1]==="top"?m.targetHeight:-m.targetHeight,p=-2*m.offset[1];j.top+=m.collisionPosition.top<0?h+l+p:n>0?h+l+p:0}}};if(!f.offset.setOffset){f.offset.setOffset=function(n,j){if(/static/.test(f.curCSS(n,"position"))){n.style.position="relative"}var m=f(n),p=m.offset(),h=parseInt(f.curCSS(n,"top",true),10)||0,o=parseInt(f.curCSS(n,"left",true),10)||0,l={top:(j.top-p.top)+h,left:(j.left-p.left)+o};if("using" in j){j.using.call(n,l)}else{m.css(l)}};f.fn.offset=function(h){var j=this[0];if(!j||!j.ownerDocument){return null}if(h){return this.each(function(){f.offset.setOffset(this,h)})}return c.call(this)}}}(jQuery));(function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(c){if(c===b){return this._value()}this._setOption("value",c);return this},_setOption:function(c,d){if(c==="value"){this.options.value=d;this._refreshValue();if(this._value()===this.options.max){this._trigger("complete")}}a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var c=this.options.value;if(typeof c!=="number"){c=0}return Math.min(this.options.max,Math.max(this.min,c))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var d=this.value();var c=this._percentage();if(this.oldValue!==d){this.oldValue=d;this._trigger("change")}this.valueDiv.toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",d)}});a.extend(a.ui.progressbar,{version:"1.8.10"})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var d=this,e=this.options;this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");if(e.disabled){this.element.addClass("ui-slider-disabled ui-disabled")}this.range=b([]);if(e.range){if(e.range===true){this.range=b("<div></div>");if(!e.values){e.values=[this._valueMin(),this._valueMin()]}if(e.values.length&&e.values.length!==2){e.values=[e.values[0],e.values[0]]}}else{this.range=b("<div></div>")}this.range.appendTo(this.element).addClass("ui-slider-range");if(e.range==="min"||e.range==="max"){this.range.addClass("ui-slider-range-"+e.range)}this.range.addClass("ui-widget-header")}if(b(".ui-slider-handle",this.element).length===0){b("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}if(e.values&&e.values.length){while(b(".ui-slider-handle",this.element).length<e.values.length){b("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle")}}this.handles=b(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(f){f.preventDefault()}).hover(function(){if(!e.disabled){b(this).addClass("ui-state-hover")}},function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(!e.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}else{b(this).blur()}}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(f){b(this).data("index.ui-slider-handle",f)});this.handles.keydown(function(m){var h=true,g=b(this).data("index.ui-slider-handle"),n,j,f,l;if(d.options.disabled){return}switch(m.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h=false;if(!d._keySliding){d._keySliding=true;b(this).addClass("ui-state-active");n=d._start(m,g);if(n===false){return}}break}l=d.options.step;if(d.options.values&&d.options.values.length){j=f=d.values(g)}else{j=f=d.value()}switch(m.keyCode){case b.ui.keyCode.HOME:f=d._valueMin();break;case b.ui.keyCode.END:f=d._valueMax();break;case b.ui.keyCode.PAGE_UP:f=d._trimAlignValue(j+((d._valueMax()-d._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:f=d._trimAlignValue(j-((d._valueMax()-d._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(j===d._valueMax()){return}f=d._trimAlignValue(j+l);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(j===d._valueMin()){return}f=d._trimAlignValue(j-l);break}d._slide(m,g,f);return h}).keyup(function(g){var f=b(this).data("index.ui-slider-handle");if(d._keySliding){d._keySliding=false;d._stop(g,f);d._change(g,f);b(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(f){var g=this.options,l,n,e,h,q,m,p,j,d;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(l);e=this._valueMax()-this._valueMin()+1;q=this;this.handles.each(function(o){var r=Math.abs(n-q.values(o));if(e>r){e=r;h=b(this);m=o}});if(g.range===true&&this.values(1)===g.min){m+=1;h=b(this.handles[m])}p=this._start(f,m);if(p===false){return false}this._mouseSliding=true;q._handleIndex=m;h.addClass("ui-state-active").focus();j=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-j.left-(h.width()/2),top:f.pageY-j.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n)}this._animateOff=true;return true},_mouseStart:function(d){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,j;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();j=this._valueMin()+g*f;return this._trimAlignValue(j)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,j;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;j=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(j!==false){this.values(g,f,true)}}}else{if(f!==this.value()){j=this._trigger("slide",h,{handle:this.handles[g],value:f});if(j!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0)}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e)}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}},_trimAlignValue:function(f){if(f<=this._valueMin()){return this._valueMin()}if(f>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,e=(f-this._valueMin())%d;alignValue=f-e;if(Math.abs(e)*2>=d){alignValue+=(e>0)?d:(-d)}return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var g=this.options.range,f=this.options,p=this,e=(!this._animateOff)?f.animate:false,h,d={},j,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(q,o){h=(p.values(q)-p._valueMin())/(p._valueMax()-p._valueMin())*100;d[p.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(p.options.range===true){if(p.orientation==="horizontal"){if(q===0){p.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(q===1){p.range[e?"animate":"css"]({width:(h-j)+"%"},{queue:false,duration:f.animate})}}else{if(q===0){p.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(q===1){p.range[e?"animate":"css"]({height:(h-j)+"%"},{queue:false,duration:f.animate})}}}j=h})}else{m=this.value();l=this._valueMin();n=this._valueMax();h=(n!==l)?(m-l)/(n-l)*100:0;d[p.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}}});b.extend(b.ui.slider,{version:"1.8.10"})}(jQuery));(function(d,f){var c=0,b=0;function e(){return ++c}function a(){return ++b}d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(g,h){if(g=="selected"){if(this.options.collapsible&&h==this.options.selected){return}this.select(h)}else{this.options[g]=h;this._tabify()}},_tabId:function(g){return g.title&&g.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(g){return g.replace(/:/g,"\\:")},_cookie:function(){var g=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+a());return d.cookie.apply(null,[g].concat(d.makeArray(arguments)))},_ui:function(h,g){return{tab:h,panel:g,index:this.anchors.index(h)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var g=d(this);g.html(g.data("label.tabs")).removeData("label.tabs")})},_tabify:function(w){var x=this,j=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0]});this.panels=d([]);this.anchors.each(function(z,o){var y=d(o).attr("href");var A=y.split("#")[0],B;if(A&&(A===location.toString().split("#")[0]||(B=d("base")[0])&&A===B.href)){y=o.hash;o.href=y}if(h.test(y)){x.panels=x.panels.add(x.element.find(x._sanitizeSelector(y)))}else{if(y&&y!=="#"){d.data(o,"href.tabs",y);d.data(o,"load.tabs",y.replace(/#.*$/,""));var D=x._tabId(o);o.href="#"+D;var C=x.element.find("#"+D);if(!C.length){C=d(j.panelTemplate).attr("id",D).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(x.panels[z-1]||x.list);C.data("destroy.tabs",true)}x.panels=x.panels.add(C)}else{j.disabled.push(z)}}});if(w){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(j.selected===f){if(location.hash){this.anchors.each(function(y,o){if(o.hash==location.hash){j.selected=y;return false}})}if(typeof j.selected!=="number"&&j.cookie){j.selected=parseInt(x._cookie(),10)}if(typeof j.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){j.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}j.selected=j.selected||(this.lis.length?0:-1)}else{if(j.selected===null){j.selected=-1}}j.selected=((j.selected>=0&&this.anchors[j.selected])||j.selected<0)?j.selected:0;j.disabled=d.unique(j.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(y,o){return x.lis.index(y)}))).sort();if(d.inArray(j.selected,j.disabled)!=-1){j.disabled.splice(d.inArray(j.selected,j.disabled),1)}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(j.selected>=0&&this.anchors.length){x.element.find(x._sanitizeSelector(x.anchors[j.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(j.selected).addClass("ui-tabs-selected ui-state-active");x.element.queue("tabs",function(){x._trigger("show",null,x._ui(x.anchors[j.selected],x.element.find(x._sanitizeSelector(x.anchors[j.selected].hash))[0]))});this.load(j.selected)}d(window).bind("unload",function(){x.lis.add(x.anchors).unbind(".tabs");x.lis=x.anchors=x.panels=null})}else{j.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[j.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(j.cookie){this._cookie(j.selected,j.cookie)}for(var n=0,v;(v=this.lis[n]);n++){d(v)[d.inArray(n,j.disabled)!=-1&&!d(v).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}if(j.cache===false){this.anchors.removeData("cache.tabs")}this.lis.add(this.anchors).unbind(".tabs");if(j.event!=="mouseover"){var m=function(y,o){if(o.is(":not(.ui-state-disabled)")){o.addClass("ui-state-"+y)}};var q=function(y,o){o.removeClass("ui-state-"+y)};this.lis.bind("mouseover.tabs",function(){m("hover",d(this))});this.lis.bind("mouseout.tabs",function(){q("hover",d(this))});this.anchors.bind("focus.tabs",function(){m("focus",d(this).closest("li"))});this.anchors.bind("blur.tabs",function(){q("focus",d(this).closest("li"))})}var g,p;if(j.fx){if(d.isArray(j.fx)){g=j.fx[0];p=j.fx[1]}else{g=p=j.fx}}function l(o,y){o.css("display","");if(!d.support.opacity&&y.opacity){o[0].style.removeAttribute("filter")}}var r=p?function(o,y){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");y.hide().removeClass("ui-tabs-hide").animate(p,p.duration||"normal",function(){l(y,p);x._trigger("show",null,x._ui(o,y[0]))})}:function(o,y){d(o).closest("li").addClass("ui-tabs-selected ui-state-active");y.removeClass("ui-tabs-hide");x._trigger("show",null,x._ui(o,y[0]))};var u=g?function(y,o){o.animate(g,g.duration||"normal",function(){x.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");l(o,g);x.element.dequeue("tabs")})}:function(y,o,z){x.lis.removeClass("ui-tabs-selected ui-state-active");o.addClass("ui-tabs-hide");x.element.dequeue("tabs")};this.anchors.bind(j.event+".tabs",function(){var y=this,A=d(y).closest("li"),o=x.panels.filter(":not(.ui-tabs-hide)"),z=x.element.find(x._sanitizeSelector(y.hash));if((A.hasClass("ui-tabs-selected")&&!j.collapsible)||A.hasClass("ui-state-disabled")||A.hasClass("ui-state-processing")||x.panels.filter(":animated").length||x._trigger("select",null,x._ui(this,z[0]))===false){this.blur();return false}j.selected=x.anchors.index(this);x.abort();if(j.collapsible){if(A.hasClass("ui-tabs-selected")){j.selected=-1;if(j.cookie){x._cookie(j.selected,j.cookie)}x.element.queue("tabs",function(){u(y,o)}).dequeue("tabs");this.blur();return false}else{if(!o.length){if(j.cookie){x._cookie(j.selected,j.cookie)}x.element.queue("tabs",function(){r(y,z)});x.load(x.anchors.index(this));this.blur();return false}}}if(j.cookie){x._cookie(j.selected,j.cookie)}if(z.length){if(o.length){x.element.queue("tabs",function(){u(y,o)})}x.element.queue("tabs",function(){r(y,z)});x.load(x.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(d.browser.msie){this.blur()}});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(g){if(typeof g=="string"){g=this.anchors.index(this.anchors.filter("[href$="+g+"]"))}return g},destroy:function(){var g=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var h=d.data(this,"href.tabs");if(h){this.href=h}var j=d(this).unbind(".tabs");d.each(["href","load","cache"],function(l,m){j.removeData(m+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(d.data(this,"destroy.tabs")){d(this).remove()}else{d(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}});if(g.cookie){this._cookie(null,g.cookie)}return this},add:function(l,j,h){if(h===f){h=this.anchors.length}var g=this,n=this.options,q=d(n.tabTemplate.replace(/#\{href\}/g,l).replace(/#\{label\}/g,j)),p=!l.indexOf("#")?l.replace("#",""):this._tabId(d("a",q)[0]);q.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var m=g.element.find("#"+p);if(!m.length){m=d(n.panelTemplate).attr("id",p).data("destroy.tabs",true)}m.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(h>=this.lis.length){q.appendTo(this.list);m.appendTo(this.list[0].parentNode)}else{q.insertBefore(this.lis[h]);m.insertBefore(this.panels[h])}n.disabled=d.map(n.disabled,function(r,o){return r>=h?++r:r});this._tabify();if(this.anchors.length==1){n.selected=0;q.addClass("ui-tabs-selected ui-state-active");m.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[0],g.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[h],this.panels[h]));return this},remove:function(g){g=this._getIndex(g);var j=this.options,l=this.lis.eq(g).remove(),h=this.panels.eq(g).remove();if(l.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(g+(g+1<this.anchors.length?1:-1))}j.disabled=d.map(d.grep(j.disabled,function(o,m){return o!=g}),function(o,m){return o>=g?--o:o});this._tabify();this._trigger("remove",null,this._ui(l.find("a")[0],h[0]));return this},enable:function(g){g=this._getIndex(g);var h=this.options;if(d.inArray(g,h.disabled)==-1){return}this.lis.eq(g).removeClass("ui-state-disabled");h.disabled=d.grep(h.disabled,function(l,j){return l!=g});this._trigger("enable",null,this._ui(this.anchors[g],this.panels[g]));return this},disable:function(h){h=this._getIndex(h);var g=this,j=this.options;if(h!=j.selected){this.lis.eq(h).addClass("ui-state-disabled");j.disabled.push(h);j.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[h],this.panels[h]))}return this},select:function(g){g=this._getIndex(g);if(g==-1){if(this.options.collapsible&&this.options.selected!=-1){g=this.options.selected}else{return this}}this.anchors.eq(g).trigger(this.options.event+".tabs");return this},load:function(l){l=this._getIndex(l);var h=this,n=this.options,g=this.anchors.eq(l)[0],j=d.data(g,"load.tabs");this.abort();if(!j||this.element.queue("tabs").length!==0&&d.data(g,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(l).addClass("ui-state-processing");if(n.spinner){var m=d("span",g);m.data("label.tabs",m.html()).html(n.spinner)}this.xhr=d.ajax(d.extend({},n.ajaxOptions,{url:j,success:function(p,o){h.element.find(h._sanitizeSelector(g.hash)).html(p);h._cleanup();if(n.cache){d.data(g,"cache.tabs",true)}h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.success(p,o)}catch(q){}},error:function(q,o,p){h._cleanup();h._trigger("load",null,h._ui(h.anchors[l],h.panels[l]));try{n.ajaxOptions.error(q,o,l,g)}catch(p){}}}));h.element.dequeue("tabs");return this},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(h,g){this.anchors.eq(h).removeData("cache.tabs").data("load.tabs",g);return this},length:function(){return this.anchors.length}});d.extend(d.ui.tabs,{version:"1.8.10"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(j,m){var g=this,n=this.options;var h=g._rotate||(g._rotate=function(o){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var p=n.selected;g.select(++p<g.anchors.length?p:0)},j);if(o){o.stopPropagation()}});var l=g._unrotate||(g._unrotate=!m?function(o){if(o.clientX){g.rotate(null)}}:function(o){t=n.selected;h()});if(j){this.element.bind("tabsshow",h);this.anchors.bind(n.event+".tabs",l);h()}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(n.event+".tabs",l);delete this._rotate;delete this._unrotate}return this}})})(jQuery);(function(a){a.grayout=function(b){if(b==undefined){b=true}if(a("#grayout").length==0){$grayout=a("<div>",{id:"grayout"}).css({position:"fixed",top:"0px",left:"0px",overflow:"hidden",display:"none",zIndex:780,backgroundColor:"#000000"}).appendTo(a("body"))}else{$grayout=a("#grayout")}if(b){$grayout.height(Math.max(a(window).height(),document.body.scrollHeight)).width(a(document.body).width()).fadeTo(250,0.5)}else{$grayout.fadeOut(250)}a(window).bind("resize",function(){a("#grayout").height(Math.max(a(window).height(),document.body.scrollHeight)).width(a(document.body).width())})}})(jQuery);(function(b){var a={init:function(){return b(this).each(function(){if(b(this).is("form")){b(this).bind("submit",function(){b(this).popup("open",b(this).attr("action"));return false})}else{b(this).bind("click",function(c){c.preventDefault();b(this).blur().popup("open",b(this).attr("href"));return false})}})},create:function(){if(b("#popup").length==0){b("<div />").attr("id","popup").addClass("popup").addClass("cancelable").css("display","none").appendTo(this);b("<div />").addClass("inner").appendTo("#popup");b("body").bind("keyup",function(c){if(c.keyCode==27){b("#popup").fadeOut(250).trigger("cancelled")}});b("#popup").bind("cancelled",function(){jQuery.grayout(false)})}return this},position:function(){width=b(this).is("[class*=width-]")?b(this).attr("class").match(/width\-([0-9]{3})/)[1]:700;b("#popup").css({top:(b(document).scrollTop()+100)+"px",left:(b(document).width()-parseInt(width))/2+"px",height:"auto",width:parseInt(width)}).addClass("width-"+width)},open:function(c){$this=b(this);data={};method="GET";if(typeof($this)!=undefined){withForm=$this.hasClass("with-form")||$this.hasClass("submit-in-popup");if(withForm){$form=$this.is("form")?$this:$this.parents("form");data=$form.serialize();method=($form.find("input[name=_method]").val()||$form.attr("method")).toUpperCase()}else{data={};method="GET"}}jQuery.grayout();b("body").popup("create").trigger("popup:visible");$this.popup("position");b("#popup").fadeIn(250).intoViewport();b("#popup > div").html('<div style="text-align: center; height: 100px; padding-top: 45px;"><img src="/images/ajax-loader-large.gif" /></div>');b.ajax({url:c,type:method,data:data,success:function(d){if(d=="close_popup"){b("#popup").fadeOut().trigger("cancelled")}else{if(d.indexOf("redirect:")==0){location.href=d.replace("redirect:","")}else{b("#popup > div").html(d);b("body").trigger("popup:loaded");b("#popup .submit-in-popup").bind("submit",function(){b(this).popup("open",b(this).attr("action"));return false})}}},error:function(d){b("#popup > div").html('<div style="text-align: center; height: 100px; padding-top: 45px; font-size: 15px;"> Error: '+d.statusText+" ("+d.status+')<br /><br /><a href="#" class="cancel">Close</a></div>')}})}};b.fn.popup=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.popup")}}}})(jQuery);(function(a){a.fn.alphanumeric=function(b){b=a.extend({ichars:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.- ",nchars:"",allow:""},b);return this.each(function(){if(b.nocaps){b.nchars+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}if(b.allcaps){b.nchars+="abcdefghijklmnopqrstuvwxyz"}s=b.allow.split("");for(i=0;i<s.length;i++){if(b.ichars.indexOf(s[i])!=-1){s[i]="\\"+s[i]}}b.allow=s.join("|");var d=new RegExp(b.allow,"gi");var c=b.ichars+b.nchars;c=c.replace(d,"");a(this).keypress(function(f){if(!f.ctrlKey&&!f.metaKey&&!f.altKey){if(!f.charCode){k=String.fromCharCode(f.which)}else{k=String.fromCharCode(f.charCode)}if(c.indexOf(k)!=-1){f.preventDefault()}}return true});a(this).bind("contextmenu",function(){return false})})};a.fn.numeric=function(c){var b="abcdefghijklmnopqrstuvwxyz";b+=b.toUpperCase();c=a.extend({nchars:b},c);return this.each(function(){a(this).alphanumeric(c)})};a.fn.alpha=function(c){var b="1234567890";c=a.extend({nchars:b},c);return this.each(function(){a(this).alphanumeric(c)})}})(jQuery);(function(a){jQuery.fn.priceField=function(b){return this.each(function(){a(this).numeric({allow:",.i-"}).focus(function(){if(a(this).val()=="0,00"||a(this).val()=="0.00"){a(this).val("")}}).blur(function(){if(a(this).val()==""){a(this).val("0,00")}})})}})(jQuery);(function(a){jQuery.fn.intoViewport=function(b){b=a.extend({duration:200,easing:"swing"},b||{});return this.each(function(){function d(h){a("html,body").stop().animate({scrollTop:h},b)}var g=a(document).scrollTop()||a(window).scrollTop(),e=a(window).height(),f=a(this).offset().top,c=a(this).outerHeight();if(g>f){d(f)}else{if(g!=f&&f+c>g+e){d(f+Math.min(c-e,0))}}})}})(jQuery);(function(a){a.editable={active:function(){return a(".editable.active").length>0},needsConfirm:function(){a.editable.confirmed=false},confirm:function(b){a(b).hide();a.editable.confirmed=true;if(a.editable.editAfterConfirm){a(a.editable.editAfterConfirm).startEdit()}},confirmed:true,editAfterConfirm:null};a.fn.editable=function(b){return this.each(function(){$this=a(this);$content=a(this).find("div.content");$this.data("validation_url",b.url);centerEditButton=function(){a(this).find("a.edit").css("left",(a(this).width()/2-a(this).find("a.edit").width()/2))};$this.bind("updated",centerEditButton);centerEditButton.call($this);$content.live("click",function(){if(a.editable.confirmed){a(this).parent().startEdit()}else{a(b.confirmationDialog).show().intoViewport();a.editable.editAfterConfirm=a(this).parent()}return false});$this.find("a.cancel").live("click",function(){a(this).parents("div.editable").stopEdit();return false});$this.find("form input.ok").live("click",c);function c(){$editableElement=a(this).parents("div.editable");$editableElement.find("img#loader").show();a.ajax({url:$editableElement.data("validation_url"),type:"POST",data:a(this).parents("form").serialize(),dataType:"json",success:function(d,e){a.each(d.updates,function(f,g){a(f).html(g)});if(d.valid){$editableElement.stopEdit()}if(d.saveable){$editableElement.trigger("saveable")}a.each(d.updates,function(f,g){a(f).parent().trigger("updated")})},error:function(d,f,e){alert("[MoneyBird] Oops, something went wrong: "+f)}});return false}})};a.fn.startEdit=function(b){return this.each(function(){$this=a(this);$content=a(this).find("div.content");$form=a(this).find("div.form");if(!jQuery.editable.active()){$this.addClass("active");a(".editable").not($this).addClass("disabled");$form.show().intoViewport({duration:100});$content.hide();$this.trigger("startEdit")}})};a.fn.stopEdit=function(b){return this.each(function(){$this=a(this);$content=a(this).find("div.content");$form=a(this).find("div.form");a(".editable").removeClass("disabled");$this.removeClass("active");$content.show();$form.hide();$this.trigger("stopEdit")})}})(jQuery);(function(a){jQuery.fn.autogrow=function(b){return this.each(function(){grow=function(){if(b.chars){a(this).toggleClass("large",a(this).val().length>b.chars)}else{lines=a(this).val().split("\n").length;a(this).toggleClass("large",lines>=b.lines)}};a(this).bind("beforepaste input keypress",grow);grow.call(a(this))})}})(jQuery);function NumberFormat(a,b){this.VERSION="Number Format v1.5.4";this.COMMA=",";this.PERIOD=".";this.DASH="-";this.LEFT_PAREN="(";this.RIGHT_PAREN=")";this.LEFT_OUTSIDE=0;this.LEFT_INSIDE=1;this.RIGHT_INSIDE=2;this.RIGHT_OUTSIDE=3;this.LEFT_DASH=0;this.RIGHT_DASH=1;this.PARENTHESIS=2;this.NO_ROUNDING=-1;this.num;this.numOriginal;this.hasSeparators=false;this.separatorValue;this.inputDecimalValue;this.decimalValue;this.negativeFormat;this.negativeRed;this.hasCurrency;this.currencyPosition;this.currencyValue;this.places;this.roundToPlaces;this.truncate;this.setNumber=setNumberNF;this.toUnformatted=toUnformattedNF;this.setInputDecimal=setInputDecimalNF;this.setSeparators=setSeparatorsNF;this.setCommas=setCommasNF;this.setNegativeFormat=setNegativeFormatNF;this.setNegativeRed=setNegativeRedNF;this.setCurrency=setCurrencyNF;this.setCurrencyPrefix=setCurrencyPrefixNF;this.setCurrencyValue=setCurrencyValueNF;this.setCurrencyPosition=setCurrencyPositionNF;this.setPlaces=setPlacesNF;this.toFormatted=toFormattedNF;this.toPercentage=toPercentageNF;this.getOriginal=getOriginalNF;this.moveDecimalRight=moveDecimalRightNF;this.moveDecimalLeft=moveDecimalLeftNF;this.getRounded=getRoundedNF;this.preserveZeros=preserveZerosNF;this.justNumber=justNumberNF;this.expandExponential=expandExponentialNF;this.getZeros=getZerosNF;this.moveDecimalAsString=moveDecimalAsStringNF;this.moveDecimal=moveDecimalNF;this.addSeparators=addSeparatorsNF;if(b==null){this.setNumber(a,this.PERIOD)}else{this.setNumber(a,b)}this.setInputDecimal(",");this.setSeparators(true,".",",");this.setCommas(true);this.setNegativeFormat(this.LEFT_DASH);this.setNegativeRed(false);this.setCurrency(true);this.setCurrencyPrefix("&euro; ");this.setPlaces(2)}function setInputDecimalNF(a){this.inputDecimalValue=a}function setNumberNF(a,b){if(b!=null){this.setInputDecimal(b)}this.numOriginal=a;this.num=this.justNumber(a)}function toUnformattedNF(){return(this.num)}function getOriginalNF(){return(this.numOriginal)}function setNegativeFormatNF(a){this.negativeFormat=a}function setNegativeRedNF(a){this.negativeRed=a}function setSeparatorsNF(b,c,a){this.hasSeparators=b;if(c==null){c=this.COMMA}if(a==null){a=this.PERIOD}if(c==a){this.decimalValue=(a==this.PERIOD)?this.COMMA:this.PERIOD}else{this.decimalValue=a}this.separatorValue=c}function setCommasNF(a){this.setSeparators(a,this.COMMA,this.PERIOD)}function setCurrencyNF(a){this.hasCurrency=a}function setCurrencyValueNF(a){this.currencyValue=a}function setCurrencyPrefixNF(a){this.setCurrencyValue(a);this.setCurrencyPosition(this.LEFT_OUTSIDE)}function setCurrencyPositionNF(a){this.currencyPosition=a}function setPlacesNF(b,a){this.roundToPlaces=!(b==this.NO_ROUNDING);this.truncate=(a!=null&&a);this.places=(b<0)?0:b}function addSeparatorsNF(d,e,a,c){d+="";var f=d.indexOf(e);var g="";if(f!=-1){g=a+d.substring(f+1,d.length);d=d.substring(0,f)}var b=/(\d+)(\d{3})/;while(b.test(d)){d=d.replace(b,"$1"+c+"$2")}return d+g}function toFormattedNF(){var n;var o=this.num;var a;var b=new Array(2);if(this.roundToPlaces){o=this.getRounded(o);a=this.preserveZeros(Math.abs(o))}else{a=this.expandExponential(Math.abs(o))}if(this.hasSeparators){a=this.addSeparators(a,this.PERIOD,this.decimalValue,this.separatorValue)}else{a=a.replace(new RegExp("\\"+this.PERIOD),this.decimalValue)}var f="";var m="";var e="";var l="";var h="";var d="";var g="";var c="";var p=(this.negativeFormat==this.PARENTHESIS)?this.LEFT_PAREN:this.DASH;var j=(this.negativeFormat==this.PARENTHESIS)?this.RIGHT_PAREN:this.DASH;if(this.currencyPosition==this.LEFT_OUTSIDE){if(o<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){l=p}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=j}}if(this.hasCurrency){f=this.currencyValue}}else{if(this.currencyPosition==this.LEFT_INSIDE){if(o<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){m=p}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=j}}if(this.hasCurrency){e=this.currencyValue}}else{if(this.currencyPosition==this.RIGHT_INSIDE){if(o<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){m=p}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){g=j}}if(this.hasCurrency){d=this.currencyValue}}else{if(this.currencyPosition==this.RIGHT_OUTSIDE){if(o<0){if(this.negativeFormat==this.LEFT_DASH||this.negativeFormat==this.PARENTHESIS){l=p}if(this.negativeFormat==this.RIGHT_DASH||this.negativeFormat==this.PARENTHESIS){h=j}}if(this.hasCurrency){c=this.currencyValue}}}}}a=f+m+e+l+a+h+d+g+c;if(this.negativeRed&&o<0){a='<font color="red">'+a+"</font>"}return(a)}function toPercentageNF(){nNum=this.num*100;nNum=this.getRounded(nNum);return nNum+"%"}function getZerosNF(a){var c="";var b;for(b=0;b<a;b++){c+="0"}return c}function expandExponentialNF(b){if(isNaN(b)){return b}var d=parseFloat(b)+"";var g=d.toLowerCase().indexOf("e");if(g!=-1){var a=d.toLowerCase().indexOf("+");var e=d.toLowerCase().indexOf("-",g);var f=d.substring(0,g);if(e!=-1){var c=d.substring(e+1,d.length);f=this.moveDecimalAsString(f,true,parseInt(c))}else{if(a==-1){a=g}var c=d.substring(a+1,d.length);f=this.moveDecimalAsString(f,false,parseInt(c))}d=f}return d}function moveDecimalRightNF(c,b){var a="";if(b==null){a=this.moveDecimal(c,false)}else{a=this.moveDecimal(c,false,b)}return a}function moveDecimalLeftNF(c,b){var a="";if(b==null){a=this.moveDecimal(c,true)}else{a=this.moveDecimal(c,true,b)}return a}function moveDecimalAsStringNF(d,e,a){var j=(arguments.length<3)?this.places:a;if(j<=0){return d}var b=d+"";var f=this.getZeros(j);var h=new RegExp("([0-9.]+)");if(e){b=b.replace(h,f+"$1");var g=new RegExp("(-?)([0-9]*)([0-9]{"+j+"})(\\.?)");b=b.replace(g,"$1$2.$3")}else{var c=h.exec(b);if(c!=null){b=b.substring(0,c.index)+c[1]+f+b.substring(c.index+c[0].length)}var g=new RegExp("(-?)([0-9]*)(\\.?)([0-9]{"+j+"})");b=b.replace(g,"$1$2$4.")}b=b.replace(/\.$/,"");return b}function moveDecimalNF(d,c,b){var a="";if(b==null){a=this.moveDecimalAsString(d,c)}else{a=this.moveDecimalAsString(d,c,b)}return parseFloat(a)}function getRoundedNF(a){a=this.moveDecimalRight(a);if(this.truncate){a=a>=0?Math.floor(a):Math.ceil(a)}else{a=Math.round(a)}a=this.moveDecimalLeft(a);return a}function preserveZerosNF(c){var b;c=this.expandExponential(c);if(this.places<=0){return c}var a=c.indexOf(".");if(a==-1){c+=".";for(b=0;b<this.places;b++){c+="0"}}else{var e=(c.length-1)-a;var d=this.places-e;for(b=0;b<d;b++){c+="0"}}return c}function justNumberNF(e){newVal=e+"";var d=false;if(newVal.indexOf("%")!=-1){newVal=newVal.replace(/\%/g,"");d=true}var b=new RegExp("[^\\"+this.inputDecimalValue+"\\d\\-\\+\\(\\)eE]","g");newVal=newVal.replace(b,"");var f=new RegExp("["+this.inputDecimalValue+"]","g");var c=f.exec(newVal);if(c!=null){var a=newVal.substring(c.index+c[0].length);newVal=newVal.substring(0,c.index)+this.PERIOD+a.replace(f,"")}if(newVal.charAt(newVal.length-1)==this.DASH){newVal=newVal.substring(0,newVal.length-1);newVal="-"+newVal}else{if(newVal.charAt(0)==this.LEFT_PAREN&&newVal.charAt(newVal.length-1)==this.RIGHT_PAREN){newVal=newVal.substring(1,newVal.length-1);newVal="-"+newVal}}newVal=parseFloat(newVal);if(!isFinite(newVal)){newVal=0}if(d){newVal=this.moveDecimalLeft(newVal,2)}return newVal}(function(a){a.widget("custom.html_autocomplete",a.ui.autocomplete,{_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").html(c.label)).appendTo(b)}})})(jQuery);(function(a){a.fn.documentDetailsEditor=function(m){var b={};function c(){$this=a(this).hasClass("concept")?a(this):a(this).parents("li.concept");$newConceptRow=$this.clone();newRowId=new Date().getTime();$newConceptRow.find("input, textarea, select").each(function(){a(this).attr("name",a(this).attr("name").replace(/\[[0-9]+\]/,"["+newRowId+"]"))});$this.attr("id","").removeClass("concept").addClass("existing").fadeTo(0,1);$this.find("div.actions").show();h($this.find("textarea").attr("spellcheck",true).val(""));$this.find("input.price").unbind("change",l).bind("change",l).priceField();$this.find("select.tax").bind("change",function(){d(a(this).parents("li").find("input.price"))});f($this.parent());$newConceptRow.insertAfter($this)}function n(o){formatter=new NumberFormat();formatter.setInputDecimal(".");formatter.setPlaces("2",false);formatter.setCurrencyValue(numberFormat.unit);formatter.setCurrency(true);formatter.setCurrencyPosition(formatter.LEFT_INSIDE);formatter.setNegativeFormat(formatter.LEFT_DASH);formatter.setSeparators(true,numberFormat.delimiter,numberFormat.seperator);discountPercentage=1;if(o.find("li.discount input").length==1&&o.find("li.discount input").val()!=""){discountPercentage=1-(parseFloat(o.find("li.discount input").val().replace(",","."))/100)}}function g(){$editor=a(this).hasClass("documentDetailsEditor")?a(this):a(this).parents(".documentDetailsEditor");n($editor);var o=0;var q=0;var p=0;if(a(this).parents("li").is(":visible")){e(a(this).parents("li"),formatter)}$editor.find("li:visible").each(function(){$this_row=a(this);if($this_row.data("total_price_excl_tax")!=undefined){o+=parseFloat($this_row.data("total_price_excl_tax"));q+=parseFloat($this_row.data("total_tax"));p+=parseFloat($this_row.data("total_price_incl_tax"))}});totals={};formatter.setNumber(o);totals.total_price_excl_tax_plain=o;a("#total_price_excl_tax").html(formatter.toFormatted());totals.total_price_excl_tax=formatter.toFormatted();formatter.setNumber(q);totals.total_tax_plain=q;a("#total_tax").html(formatter.toFormatted());totals.total_tax=formatter.toFormatted();formatter.setNumber(p);totals.total_price_incl_tax_plain=p;a("#total_price_incl_tax").html(formatter.toFormatted());totals.total_price_incl_tax=formatter.toFormatted();formatter.setCurrency(false);formatter.setSeparators(false,numberFormat.delimiter,numberFormat.seperator);totals.total_price_incl_tax_no_currency=formatter.toFormatted();$editor.trigger("document_details_editor:recalculated_totals",totals)}function e(o,p){if(o.find("input.amount").length>0&&o.find("input.price").length>0){show_tax=o.find("div.tax select.tax").length>0;if(o.find("input.amount").val()==""){amount=1}else{amount=parseFloat(o.find("input.amount").val().replace(",","."))}if(o.find("input.amount").val().match(/%$/)){amount=amount/100}price=parseFloat(o.find("input.price").val().replace(",","."));row_price=amount*price;row_tax=row_price*(show_tax?parseFloat(o.find("div.tax select.tax option:selected").val()):0);if(!isNaN(row_price)){o.data({total_price_excl_tax:row_price*discountPercentage,total_tax:row_tax*discountPercentage,total_price_incl_tax:(row_price+row_tax)*discountPercentage})}else{row_price=0}p.setNumber(row_price);o.find("div.total").html(p.toFormatted())}}function j(){$row=a(this).parents("li");if($row.parent().find("li:visible").not(".header, .footer, .concept").length>1){$row.hide().find("input.remove_checkbox").val(true).attr("checked",true);$row.data({total_price_excl_tax:0,total_tax:0,total_price_incl_tax:0});g.apply(this);if($row.attr("id")==""){$row.remove()}}}function l(){$element=a(this);if($element.val().indexOf("i")>-1){$element.data("priceBeforeTranslate",$element.val());d($element)}else{$element.data("priceBeforeTranslate","")}}function d(o){if(o.data("priceBeforeTranslate").length>0){tax=parseFloat(o.parents("li").find("div.tax select.tax").val());if(isNaN(tax)){tax=0}beforeTranslate=o.data("priceBeforeTranslate");priceExclTax=parseFloat(beforeTranslate.replace("i","").replace(",","."))/(1+tax);var p=new NumberFormat();p.setInputDecimal(".");p.setPlaces("3",false);p.setCurrency(false);p.setNegativeFormat(p.LEFT_DASH);p.setSeparators(false,".",numberFormat.seperator);p.setNumber(priceExclTax);o.val(p.toFormatted()).trigger("change");o.data("priceBeforeTranslate",beforeTranslate)}}function h(o){return a(o).keydown(function(q){var p=a(this).html_autocomplete("widget").is(":visible");var r=a.ui.keyCode;if(!p&&(q.keyCode==r.UP||q.keyCode==r.DOWN)){q.stopImmediatePropagation()}}).html_autocomplete({source:function(r,p){function q(v){p(a.map(v,function(w){w=jQuery.extend({},w);w.label=w.label.replace(new RegExp(a.ui.autocomplete.escapeRegex(r.term),"i"),"<strong>"+r.term+"</strong>");return w}).slice(0,10))}if(b.term==r.term&&b.content){q(b.content);return}if(b.term&&new RegExp("^"+a.ui.autocomplete.escapeRegex(b.term),"i").test(r.term)&&b.content){var u=new RegExp("^"+a.ui.autocomplete.escapeRegex(r.term),"i");q(a.grep(b.content,function(v){return u.test(v.value)}));return}a.getJSON(m.autocompleteUrl,r,function(v){b.term=r.term;b.content=v;q(v)})},select:function(p,q){$row=a(this).parents("li");$row.find("input.price").val(q.item.price).trigger("change");$row.find("select.tax").val(q.item.tax).trigger("change");$row.find("select.ledger_account_id").val(q.item.ledger_account_id).trigger("change")},focus:function(p,q){return false},minLength:2,delay:300})}function f(o){o.find("li.existing").each(function(p){a(this).find("input.row_order").val(p)})}return this.each(function(){$this=a(this);$this.addClass("documentDetailsEditor");$this.find("li.concept").live("click",c);$this.find("li.concept input, li.concept textarea").live("focusin",c);$this.find("li.concept div.actions").hide();$this.find("textarea").autogrow({chars:85});n($this);$this.find("li").each(function(){e(a(this),formatter)});$this.find("input, select").live("change",g).first().change();$this.find("input, select").live("keyup",g);$this.parent().find(".currency select").bind("change",function(){numberFormat.unit=numberFormat.units[a(this).find("option:selected").val()];a(this).parent().next().find("li.header div.price.cell span").text(a(this).find("option:selected").val());a(this).parent().next().find("input.amount").trigger("change")});$this.find("img.remove").live("click",j);f($this);$this.sortable({items:"li.existing",handle:".move",axis:"y",update:function(){f($this.parent())}});h($this.find("textarea"));$this.find("input.price").bind("change",l);$this.find("select.tax").bind("change",function(){d(a(this).parents("li").find("input.price"))});$discountRow=$this.find("li.discount");if($discountRow.find("input").val()=="0,00"||$discountRow.find("input").val()=="0.00"||$discountRow.find("input").val()==""){$discountRow.addClass("concept").click(function(){a(this).removeClass("concept").unbind("click").find("div.total div").toggle().find("input").focus().val("")}).find("div.field").hide()}else{$discountRow.find("div.total div.show").hide()}$discountRow.find("input").numeric({allow:",."})})}})(jQuery);(function(a){a.fn.hoverAction=function(){return this.each(function(){a(this).hover(function(){a(this).find(".actions").show()},function(){a(this).find(".actions").hide()})})}})(jQuery);(function(a){a.fn.filterRules=function(b){return this.each(function(){$this=a(this);changeScope=function(){$parent=a(this).parents("li");$parent.find(".scope").hide();scopes=["scope"];$parent.find("select").each(function(){if(a(this).val()){scopes.push(a(this).val());$parent.find("."+scopes.join("_")).show()}})};addRow=function(){$rule=$this.find("li:first");$clone=$rule.clone();index=Number(new Date());$clone.find("select, input").each(function(){$element=a(this);$element.attr("name",$element.attr("name").replace(/\[[0-9]{5,}\]/,"["+index+"]"));if($element.is(":checkbox")){$element.attr("checked","")}else{if(!$element.attr("id").match(/to_date|from_date/)){$element.val("")}}});$clone.find(".scope").hide();$clone.find("select").change(changeScope);$clone.appendTo($this);return false};removeRow=function(){if(a(this).parents("ul").find("li").length>1){$rule=a(this).parents("li");$rule.remove()}return false};$this.find("select").change(changeScope).each(changeScope);a("a.add_filter_rule").live("click",addRow);a("a.remove_filter_rule").live("click",removeRow)})}})(jQuery);function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function eraseCookie(a){createCookie(a,"",-1)}(function(d){function b(m){var l=d('meta[name="csrf-token"]').attr("content");if(l){m.setRequestHeader("X-CSRF-Token",l)}}if("ajaxPrefilter" in d){d.ajaxPrefilter(function(l,n,m){b(m)})}else{d(document).ajaxSend(function(l,m){b(m)})}function c(o,l,n){var m=d.Event(l);o.trigger(m,n);return m.result!==false}function j(o){var q,m,p,l=o.data("type")||(d.ajaxSettings&&d.ajaxSettings.dataType);if(c(o,"ajax:before")){if(o.is("form")){q=o.attr("method");m=o.attr("action");p=o.serializeArray();var n=o.data("ujs:submit-button");if(n){p.push(n);o.data("ujs:submit-button",null)}}else{q=o.data("method");m=o.attr("href");p=null}d.ajax({url:m,type:q||"GET",data:p,dataType:l,beforeSend:function(u,r){if(r.dataType===undefined){u.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script)}return c(o,"ajax:beforeSend",[u,r])},success:function(u,r,v){o.trigger("ajax:success",[u,r,v])},complete:function(u,r){o.trigger("ajax:complete",[u,r])},error:function(v,r,u){o.trigger("ajax:error",[v,r,u])}})}}function f(p){var m=p.attr("href"),r=p.data("method"),n=d("meta[name=csrf-token]").attr("content"),q=d("meta[name=csrf-param]").attr("content"),o=d('<form method="post" action="'+m+'"></form>'),l='<input name="_method" value="'+r+'" type="hidden" />';if(q!==undefined&&n!==undefined){l+='<input name="'+q+'" value="'+n+'" type="hidden" />'}o.hide().append(l).appendTo("body");o.submit()}function g(l){l.find("input[data-disable-with], button[data-disable-with]").each(function(){var m=d(this),n=m.is("button")?"html":"val";m.data("ujs:enable-with",m[n]());m[n](m.data("disable-with"));m.attr("disabled","disabled")})}function a(l){l.find("input[data-disable-with]:disabled, button[data-disable-with]:disabled").each(function(){var m=d(this),n=m.is("button")?"html":"val";if(m.data("ujs:enable-with")){m[n](m.data("ujs:enable-with"))}m.removeAttr("disabled")})}function h(l){var m=l.data("confirm");return !m||(c(l,"confirm")&&confirm(m))}function e(m){var l=false;m.find("input[name][required]").each(function(){if(!d(this).val()){l=true}});return l}d("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(m){var l=d(this);if(!h(l)){return false}if(l.data("remote")!=undefined){j(l);return false}else{if(l.data("method")){f(l);return false}}});d("form").live("submit.rails",function(n){var l=d(this),m=l.data("remote")!=undefined;if(!h(l)){return false}if(e(l)){return !m}if(m){j(l);return false}else{setTimeout(function(){g(l)},13)}});d("form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])").live("click.rails",function(){var m=d(this);if(!h(m)){return false}var l=m.attr("name"),n=l?{name:l,value:m.val()}:null;m.closest("form").data("ujs:submit-button",n)});d("form").live("ajax:beforeSend.rails",function(l){if(this==l.target){g(d(this))}});d("form").live("ajax:complete.rails",function(l){if(this==l.target){a(d(this))}})})(jQuery);
/*
 * jquery.qtip. The jQuery tooltip plugin
 *
 * Copyright (c) 2009 Craig Thompson
 * http://craigsworks.com
 *
 * Licensed under MIT
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Launch  : February 2009
 * Version : 1.0.0-rc3
 * Released: Tuesday 12th May, 2009 - 00:00
 * Debug: jquery.qtip.debug.js
 */
(function(f){f.fn.qtip=function(E,x){var B,w,D,v,A,z,y,C;if(typeof E=="string"){if(typeof f(this).data("qtip")!=="object"){f.fn.qtip.log.error.call(self,1,f.fn.qtip.constants.NO_TOOLTIP_PRESENT,false)}if(E=="api"){return f(this).data("qtip").interfaces[f(this).data("qtip").current]}else{if(E=="interfaces"){return f(this).data("qtip").interfaces}}}else{if(!E){E={}}if(typeof E.content!=="object"||(E.content.jquery&&E.content.length>0)){E.content={text:E.content}}if(typeof E.content.title!=="object"){E.content.title={text:E.content.title}}if(typeof E.position!=="object"){E.position={corner:E.position}}if(typeof E.position.corner!=="object"){E.position.corner={target:E.position.corner,tooltip:E.position.corner}}if(typeof E.show!=="object"){E.show={when:E.show}}if(typeof E.show.when!=="object"){E.show.when={event:E.show.when}}if(typeof E.show.effect!=="object"){E.show.effect={type:E.show.effect}}if(typeof E.hide!=="object"){E.hide={when:E.hide}}if(typeof E.hide.when!=="object"){E.hide.when={event:E.hide.when}}if(typeof E.hide.effect!=="object"){E.hide.effect={type:E.hide.effect}}if(typeof E.style!=="object"){E.style={name:E.style}}E.style=c(E.style);v=f.extend(true,{},f.fn.qtip.defaults,E);v.style=a.call({options:v},v.style);v.user=f.extend(true,{},E)}return f(this).each(function(){if(typeof E=="string"){z=E.toLowerCase();D=f(this).qtip("interfaces");if(typeof D=="object"){if(x===true&&z=="destroy"){while(D.length>0){D[D.length-1].destroy()}}else{if(x!==true){D=[f(this).qtip("api")]}for(B=0;B<D.length;B++){if(z=="destroy"){D[B].destroy()}else{if(D[B].status.rendered===true){if(z=="show"){D[B].show()}else{if(z=="hide"){D[B].hide()}else{if(z=="focus"){D[B].focus()}else{if(z=="disable"){D[B].disable(true)}else{if(z=="enable"){D[B].disable(false)}}}}}}}}}}}else{y=f.extend(true,{},v);y.hide.effect.length=v.hide.effect.length;y.show.effect.length=v.show.effect.length;if(y.position.container===false){y.position.container=f(document.body)}if(y.position.target===false){y.position.target=f(this)}if(y.show.when.target===false){y.show.when.target=f(this)}if(y.hide.when.target===false){y.hide.when.target=f(this)}w=f.fn.qtip.interfaces.length;for(B=0;B<w;B++){if(typeof f.fn.qtip.interfaces[B]=="undefined"){w=B;break}}A=new d(f(this),y,w);f.fn.qtip.interfaces[w]=A;if(typeof f(this).data("qtip")=="object"&&f(this).data("qtip")!=null){if(typeof f(this).attr("qtip")==="undefined"){f(this).data("qtip").current=f(this).data("qtip").interfaces.length}f(this).data("qtip").interfaces.push(A)}else{f(this).data("qtip",{current:0,interfaces:[A]})}if(y.content.prerender===false&&y.show.when.event!==false&&y.show.ready!==true){y.show.when.target.bind(y.show.when.event+".qtip-"+w+"-create",{qtip:w},function(F){C=f.fn.qtip.interfaces[F.data.qtip];C.options.show.when.target.unbind(C.options.show.when.event+".qtip-"+F.data.qtip+"-create");C.cache.mouse={x:F.pageX,y:F.pageY};q.call(C);C.options.show.when.target.trigger(C.options.show.when.event)})}else{A.cache.mouse={x:y.show.when.target.offset().left,y:y.show.when.target.offset().top};q.call(A)}}})};function d(x,w,y){var v=this;v.id=y;v.options=w;v.status={animated:false,rendered:false,disabled:false,focused:false};v.elements={target:x.addClass(v.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null};v.cache={mouse:{},position:{},toggle:0};v.timers={};f.extend(v,v.options.api,{show:function(B){var A,C;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"show")}if(v.elements.tooltip.css("display")!=="none"){return v}v.elements.tooltip.stop(true,false);A=v.beforeShow.call(v,B);if(A===false){return v}function z(){if(v.options.position.type!=="static"){v.focus()}v.onShow.call(v,B);if(f.browser.msie){v.elements.tooltip.get(0).style.removeAttribute("filter")}}v.cache.toggle=1;if(v.options.position.type!=="static"){v.updatePosition(B,(v.options.show.effect.length>0))}if(typeof v.options.show.solo=="object"){C=f(v.options.show.solo)}else{if(v.options.show.solo===true){C=f("div.qtip").not(v.elements.tooltip)}}if(C){C.each(function(){if(f(this).qtip("api").status.rendered===true){f(this).qtip("api").hide()}})}if(typeof v.options.show.effect.type=="function"){v.options.show.effect.type.call(v.elements.tooltip,v.options.show.effect.length);v.elements.tooltip.queue(function(){z();f(this).dequeue()})}else{switch(v.options.show.effect.type.toLowerCase()){case"fade":v.elements.tooltip.fadeIn(v.options.show.effect.length,z);break;case"slide":v.elements.tooltip.slideDown(v.options.show.effect.length,function(){z();if(v.options.position.type!=="static"){v.updatePosition(B,true)}});break;case"grow":v.elements.tooltip.show(v.options.show.effect.length,z);break;default:v.elements.tooltip.show(null,z);break}v.elements.tooltip.addClass(v.options.style.classes.active)}return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_SHOWN,"show")},hide:function(B){var A;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"hide")}else{if(v.elements.tooltip.css("display")==="none"){return v}}clearTimeout(v.timers.show);v.elements.tooltip.stop(true,false);A=v.beforeHide.call(v,B);if(A===false){return v}function z(){v.onHide.call(v,B)}v.cache.toggle=0;if(typeof v.options.hide.effect.type=="function"){v.options.hide.effect.type.call(v.elements.tooltip,v.options.hide.effect.length);v.elements.tooltip.queue(function(){z();f(this).dequeue()})}else{switch(v.options.hide.effect.type.toLowerCase()){case"fade":v.elements.tooltip.fadeOut(v.options.hide.effect.length,z);break;case"slide":v.elements.tooltip.slideUp(v.options.hide.effect.length,z);break;case"grow":v.elements.tooltip.hide(v.options.hide.effect.length,z);break;default:v.elements.tooltip.hide(null,z);break}v.elements.tooltip.removeClass(v.options.style.classes.active)}return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_HIDDEN,"hide")},updatePosition:function(z,A){var F,J,O,M,K,H,B,L,E,G,N,D,I,C;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updatePosition")}else{if(v.options.position.type=="static"){return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.CANNOT_POSITION_STATIC,"updatePosition")}}J={position:{left:0,top:0},dimensions:{height:0,width:0},corner:v.options.position.corner.target};O={position:v.getPosition(),dimensions:v.getDimensions(),corner:v.options.position.corner.tooltip};if(v.options.position.target!=="mouse"){if(v.options.position.target.get(0).nodeName.toLowerCase()=="area"){M=v.options.position.target.attr("coords").split(",");for(F=0;F<M.length;F++){M[F]=parseInt(M[F])}K=v.options.position.target.parent("map").attr("name");H=f('img[usemap="#'+K+'"]:first').offset();J.position={left:Math.floor(H.left+M[0]),top:Math.floor(H.top+M[1])};switch(v.options.position.target.attr("shape").toLowerCase()){case"rect":J.dimensions={width:Math.ceil(Math.abs(M[2]-M[0])),height:Math.ceil(Math.abs(M[3]-M[1]))};break;case"circle":J.dimensions={width:M[2]+1,height:M[2]+1};break;case"poly":J.dimensions={width:M[0],height:M[1]};for(F=0;F<M.length;F++){if(F%2==0){if(M[F]>J.dimensions.width){J.dimensions.width=M[F]}if(M[F]<M[0]){J.position.left=Math.floor(H.left+M[F])}}else{if(M[F]>J.dimensions.height){J.dimensions.height=M[F]}if(M[F]<M[1]){J.position.top=Math.floor(H.top+M[F])}}}J.dimensions.width=J.dimensions.width-(J.position.left-H.left);J.dimensions.height=J.dimensions.height-(J.position.top-H.top);break;default:return f.fn.qtip.log.error.call(v,4,f.fn.qtip.constants.INVALID_AREA_SHAPE,"updatePosition");break}J.dimensions.width-=2;J.dimensions.height-=2}else{if(v.options.position.target.add(document.body).length===1){J.position={left:f(document).scrollLeft(),top:f(document).scrollTop()};J.dimensions={height:f(window).height(),width:f(window).width()}}else{if(typeof v.options.position.target.attr("qtip")!=="undefined"){J.position=v.options.position.target.qtip("api").cache.position}else{J.position=v.options.position.target.offset()}J.dimensions={height:v.options.position.target.outerHeight(),width:v.options.position.target.outerWidth()}}}B=f.extend({},J.position);if(J.corner.search(/right/i)!==-1){B.left+=J.dimensions.width}if(J.corner.search(/bottom/i)!==-1){B.top+=J.dimensions.height}if(J.corner.search(/((top|bottom)Middle)|center/)!==-1){B.left+=(J.dimensions.width/2)}if(J.corner.search(/((left|right)Middle)|center/)!==-1){B.top+=(J.dimensions.height/2)}}else{J.position=B={left:v.cache.mouse.x,top:v.cache.mouse.y};J.dimensions={height:1,width:1}}if(O.corner.search(/right/i)!==-1){B.left-=O.dimensions.width}if(O.corner.search(/bottom/i)!==-1){B.top-=O.dimensions.height}if(O.corner.search(/((top|bottom)Middle)|center/)!==-1){B.left-=(O.dimensions.width/2)}if(O.corner.search(/((left|right)Middle)|center/)!==-1){B.top-=(O.dimensions.height/2)}L=(f.browser.msie)?1:0;E=(f.browser.msie&&parseInt(f.browser.version.charAt(0))===6)?1:0;if(v.options.style.border.radius>0){if(O.corner.search(/Left/)!==-1){B.left-=v.options.style.border.radius}else{if(O.corner.search(/Right/)!==-1){B.left+=v.options.style.border.radius}}if(O.corner.search(/Top/)!==-1){B.top-=v.options.style.border.radius}else{if(O.corner.search(/Bottom/)!==-1){B.top+=v.options.style.border.radius}}}if(L){if(O.corner.search(/top/)!==-1){B.top-=L}else{if(O.corner.search(/bottom/)!==-1){B.top+=L}}if(O.corner.search(/left/)!==-1){B.left-=L}else{if(O.corner.search(/right/)!==-1){B.left+=L}}if(O.corner.search(/leftMiddle|rightMiddle/)!==-1){B.top-=1}}if(v.options.position.adjust.screen===true){B=p.call(v,B,J,O)}if(v.options.position.target==="mouse"&&v.options.position.adjust.mouse===true){if(v.options.position.adjust.screen===true&&v.elements.tip){N=v.elements.tip.attr("rel")}else{N=v.options.position.corner.tooltip}B.left+=(N.search(/right/i)!==-1)?-6:6;B.top+=(N.search(/bottom/i)!==-1)?-6:6}if(!v.elements.bgiframe&&f.browser.msie&&parseInt(f.browser.version.charAt(0))==6){f("select, object").each(function(){D=f(this).offset();D.bottom=D.top+f(this).height();D.right=D.left+f(this).width();if(B.top+O.dimensions.height>=D.top&&B.left+O.dimensions.width>=D.left){l.call(v)}})}B.left+=v.options.position.adjust.x;B.top+=v.options.position.adjust.y;I=v.getPosition();if(B.left!=I.left||B.top!=I.top){C=v.beforePositionUpdate.call(v,z);if(C===false){return v}v.cache.position=B;if(A===true){v.status.animated=true;v.elements.tooltip.animate(B,200,"swing",function(){v.status.animated=false})}else{v.elements.tooltip.css(B)}v.onPositionUpdate.call(v,z);if(typeof z!=="undefined"&&z.type&&z.type!=="mousemove"){f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_POSITION_UPDATED,"updatePosition")}}return v},updateWidth:function(z){var A;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateWidth")}else{if(z&&typeof z!=="number"){return f.fn.qtip.log.error.call(v,2,"newWidth must be of type number","updateWidth")}}A=v.elements.contentWrapper.siblings().add(v.elements.tip).add(v.elements.button);if(!z){if(typeof v.options.style.width.value=="number"){z=v.options.style.width.value}else{v.elements.tooltip.css({width:"auto"});A.hide();if(f.browser.msie){v.elements.wrapper.add(v.elements.contentWrapper.children()).css({zoom:"normal"})}z=v.getDimensions().width+1;if(!v.options.style.width.value){if(z>v.options.style.width.max){z=v.options.style.width.max}if(z<v.options.style.width.min){z=v.options.style.width.min}}}}if(z%2!==0){z-=1}v.elements.tooltip.width(z);A.show();if(v.options.style.border.radius){v.elements.tooltip.find(".qtip-betweenCorners").each(function(B){f(this).width(z-(v.options.style.border.radius*2))})}if(f.browser.msie){v.elements.wrapper.add(v.elements.contentWrapper.children()).css({zoom:"1"});v.elements.wrapper.width(z);if(v.elements.bgiframe){v.elements.bgiframe.width(z).height(v.getDimensions.height)}}return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_WIDTH_UPDATED,"updateWidth")},updateStyle:function(z){var C,D,A,B,E;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateStyle")}else{if(typeof z!=="string"||!f.fn.qtip.styles[z]){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.STYLE_NOT_DEFINED,"updateStyle")}}v.options.style=a.call(v,f.fn.qtip.styles[z],v.options.user.style);v.elements.content.css(r(v.options.style));if(v.options.content.title.text!==false){v.elements.title.css(r(v.options.style.title,true))}v.elements.contentWrapper.css({borderColor:v.options.style.border.color});if(v.options.style.tip.corner!==false){if(f("<canvas>").get(0).getContext){C=v.elements.tooltip.find(".qtip-tip canvas:first");A=C.get(0).getContext("2d");A.clearRect(0,0,300,300);B=C.parent("div[rel]:first").attr("rel");E=b(B,v.options.style.tip.size.width,v.options.style.tip.size.height);h.call(v,C,E,v.options.style.tip.color||v.options.style.border.color)}else{if(f.browser.msie){C=v.elements.tooltip.find('.qtip-tip [nodeName="shape"]');C.attr("fillcolor",v.options.style.tip.color||v.options.style.border.color)}}}if(v.options.style.border.radius>0){v.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:v.options.style.border.color});if(f("<canvas>").get(0).getContext){D=g(v.options.style.border.radius);v.elements.tooltip.find(".qtip-wrapper canvas").each(function(){A=f(this).get(0).getContext("2d");A.clearRect(0,0,300,300);B=f(this).parent("div[rel]:first").attr("rel");u.call(v,f(this),D[B],v.options.style.border.radius,v.options.style.border.color)})}else{if(f.browser.msie){v.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){f(this).attr("fillcolor",v.options.style.border.color)})}}}return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_STYLE_UPDATED,"updateStyle")},updateContent:function(D,B){var C,A,z;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateContent")}else{if(!D){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateContent")}}C=v.beforeContentUpdate.call(v,D);if(typeof C=="string"){D=C}else{if(C===false){return}}if(f.browser.msie){v.elements.contentWrapper.children().css({zoom:"normal"})}if(D.jquery&&D.length>0){D.clone(true).appendTo(v.elements.content).show()}else{v.elements.content.html(D)}A=v.elements.content.find("img[complete=false]");if(A.length>0){z=0;A.each(function(F){f('<img src="'+f(this).attr("src")+'" />').load(function(){if(++z==A.length){E()}})})}else{E()}function E(){v.updateWidth();if(B!==false){if(v.options.position.type!=="static"){v.updatePosition(v.elements.tooltip.is(":visible"),true)}if(v.options.style.tip.corner!==false){o.call(v)}}}v.onContentUpdate.call(v);return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_CONTENT_UPDATED,"loadContent")},loadContent:function(z,C,D){var B;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"loadContent")}B=v.beforeContentLoad.call(v);if(B===false){return v}if(D=="post"){f.post(z,C,A)}else{f.get(z,C,A)}function A(E){v.onContentLoad.call(v);f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_CONTENT_LOADED,"loadContent");v.updateContent(E)}return v},updateTitle:function(z){if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateTitle")}else{if(!z){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateTitle")}}returned=v.beforeTitleUpdate.call(v);if(returned===false){return v}if(v.elements.button){v.elements.button=v.elements.button.clone(true)}v.elements.title.html(z);if(v.elements.button){v.elements.title.prepend(v.elements.button)}v.onTitleUpdate.call(v);return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_TITLE_UPDATED,"updateTitle")},focus:function(D){var B,A,z,C;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"focus")}else{if(v.options.position.type=="static"){return f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.CANNOT_FOCUS_STATIC,"focus")}}B=parseInt(v.elements.tooltip.css("z-index"));A=6000+f("div.qtip[qtip]").length-1;if(!v.status.focused&&B!==A){C=v.beforeFocus.call(v,D);if(C===false){return v}f("div.qtip[qtip]").not(v.elements.tooltip).each(function(){if(f(this).qtip("api").status.rendered===true){z=parseInt(f(this).css("z-index"));if(typeof z=="number"&&z>-1){f(this).css({zIndex:parseInt(f(this).css("z-index"))-1})}f(this).qtip("api").status.focused=false}});v.elements.tooltip.css({zIndex:A});v.status.focused=true;v.onFocus.call(v,D);f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_FOCUSED,"focus")}return v},disable:function(z){if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"disable")}if(z){if(!v.status.disabled){v.status.disabled=true;f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_DISABLED,"disable")}else{f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,"disable")}}else{if(v.status.disabled){v.status.disabled=false;f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_ENABLED,"disable")}else{f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,"disable")}}return v},destroy:function(){var z,A,B;A=v.beforeDestroy.call(v);if(A===false){return v}if(v.status.rendered){v.options.show.when.target.unbind("mousemove.qtip",v.updatePosition);v.options.show.when.target.unbind("mouseout.qtip",v.hide);v.options.show.when.target.unbind(v.options.show.when.event+".qtip");v.options.hide.when.target.unbind(v.options.hide.when.event+".qtip");v.elements.tooltip.unbind(v.options.hide.when.event+".qtip");v.elements.tooltip.unbind("mouseover.qtip",v.focus);v.elements.tooltip.remove()}else{v.options.show.when.target.unbind(v.options.show.when.event+".qtip-create")}if(typeof v.elements.target.data("qtip")=="object"){B=v.elements.target.data("qtip").interfaces;if(typeof B=="object"&&B.length>0){for(z=0;z<B.length-1;z++){if(B[z].id==v.id){B.splice(z,1)}}}}delete f.fn.qtip.interfaces[v.id];if(typeof B=="object"&&B.length>0){v.elements.target.data("qtip").current=B.length-1}else{v.elements.target.removeData("qtip")}v.onDestroy.call(v);f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_DESTROYED,"destroy");return v.elements.target},getPosition:function(){var z,A;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition")}z=(v.elements.tooltip.css("display")!=="none")?false:true;if(z){v.elements.tooltip.css({visiblity:"hidden"}).show()}A=v.elements.tooltip.offset();if(z){v.elements.tooltip.css({visiblity:"visible"}).hide()}return A},getDimensions:function(){var z,A;if(!v.status.rendered){return f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions")}z=(!v.elements.tooltip.is(":visible"))?true:false;if(z){v.elements.tooltip.css({visiblity:"hidden"}).show()}A={height:v.elements.tooltip.outerHeight(),width:v.elements.tooltip.outerWidth()};if(z){v.elements.tooltip.css({visiblity:"visible"}).hide()}return A}})}function q(){var v,z,x,w,y,B,A;v=this;v.beforeRender.call(v);v.status.rendered=true;v.elements.tooltip='<div qtip="'+v.id+'" class="qtip '+(v.options.style.classes.tooltip||v.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+v.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+v.options.style.classes.content+'"></div></div></div></div>';v.elements.tooltip=f(v.elements.tooltip);v.elements.tooltip.appendTo(v.options.position.container);v.elements.tooltip.data("qtip",{current:0,interfaces:[v]});v.elements.wrapper=v.elements.tooltip.children("div:first");v.elements.contentWrapper=v.elements.wrapper.children("div:first").css({background:v.options.style.background});v.elements.content=v.elements.contentWrapper.children("div:first").css(r(v.options.style));if(f.browser.msie){v.elements.wrapper.add(v.elements.content).css({zoom:1})}if(v.options.hide.when.event=="unfocus"){v.elements.tooltip.attr("unfocus",true)}if(typeof v.options.style.width.value=="number"){v.updateWidth()}if(f("<canvas>").get(0).getContext||f.browser.msie){if(v.options.style.border.radius>0){n.call(v)}else{v.elements.contentWrapper.css({border:v.options.style.border.width+"px solid "+v.options.style.border.color})}if(v.options.style.tip.corner!==false){e.call(v)}}else{v.elements.contentWrapper.css({border:v.options.style.border.width+"px solid "+v.options.style.border.color});v.options.style.border.radius=0;v.options.style.tip.corner=false;f.fn.qtip.log.error.call(v,2,f.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,"render")}if((typeof v.options.content.text=="string"&&v.options.content.text.length>0)||(v.options.content.text.jquery&&v.options.content.text.length>0)){x=v.options.content.text}else{if(typeof v.elements.target.attr("title")=="string"&&v.elements.target.attr("title").length>0){x=v.elements.target.attr("title").replace("\\n","<br />");v.elements.target.attr("title","")}else{if(typeof v.elements.target.attr("alt")=="string"&&v.elements.target.attr("alt").length>0){x=v.elements.target.attr("alt").replace("\\n","<br />");v.elements.target.attr("alt","")}else{x=" ";f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.NO_VALID_CONTENT,"render")}}}if(v.options.content.title.text!==false){j.call(v)}v.updateContent(x);m.call(v);if(v.options.show.ready===true){v.show()}if(v.options.content.url!==false){w=v.options.content.url;y=v.options.content.data;B=v.options.content.method||"get";v.loadContent(w,y,B)}v.onRender.call(v);f.fn.qtip.log.error.call(v,1,f.fn.qtip.constants.EVENT_RENDERED,"render")}function n(){var I,C,w,E,A,H,x,J,G,B,z,F,D,v,y;I=this;I.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();w=I.options.style.border.width;E=I.options.style.border.radius;A=I.options.style.border.color||I.options.style.tip.color;H=g(E);x={};for(C in H){x[C]='<div rel="'+C+'" style="'+((C.search(/Left/)!==-1)?"left":"right")+":0; position:absolute; height:"+E+"px; width:"+E+'px; overflow:hidden; line-height:0.1px; font-size:1px">';if(f("<canvas>").get(0).getContext){x[C]+='<canvas height="'+E+'" width="'+E+'" style="vertical-align: top"></canvas>'}else{if(f.browser.msie){J=E*2+3;x[C]+='<v:arc stroked="false" fillcolor="'+A+'" startangle="'+H[C][0]+'" endangle="'+H[C][1]+'" style="width:'+J+"px; height:"+J+"px; margin-top:"+((C.search(/bottom/)!==-1)?-2:-1)+"px; margin-left:"+((C.search(/Right/)!==-1)?H[C][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'}}x[C]+="</div>"}G=I.getDimensions().width-(Math.max(w,E)*2);B='<div class="qtip-betweenCorners" style="height:'+E+"px; width:"+G+"px; overflow:hidden; background-color:"+A+'; line-height:0.1px; font-size:1px;">';z='<div class="qtip-borderTop" dir="ltr" style="height:'+E+"px; margin-left:"+E+'px; line-height:0.1px; font-size:1px; padding:0;">'+x.topLeft+x.topRight+B;I.elements.wrapper.prepend(z);F='<div class="qtip-borderBottom" dir="ltr" style="height:'+E+"px; margin-left:"+E+'px; line-height:0.1px; font-size:1px; padding:0;">'+x.bottomLeft+x.bottomRight+B;I.elements.wrapper.append(F);if(f("<canvas>").get(0).getContext){I.elements.wrapper.find("canvas").each(function(){D=H[f(this).parent("[rel]:first").attr("rel")];u.call(I,f(this),D,E,A)})}else{if(f.browser.msie){I.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>')}}v=Math.max(E,(E+(w-E)));y=Math.max(w-E,0);I.elements.contentWrapper.css({border:"0px solid "+A,borderWidth:y+"px "+v+"px"})}function u(x,z,v,w){var y=x.get(0).getContext("2d");y.fillStyle=w;y.beginPath();y.arc(z[0],z[1],v,0,Math.PI*2,false);y.fill()}function e(y){var w,v,A,x,z;w=this;if(w.elements.tip!==null){w.elements.tip.remove()}v=w.options.style.tip.color||w.options.style.border.color;if(w.options.style.tip.corner===false){return}else{if(!y){y=w.options.style.tip.corner}}A=b(y,w.options.style.tip.size.width,w.options.style.tip.size.height);w.elements.tip='<div class="'+w.options.style.classes.tip+'" dir="ltr" rel="'+y+'" style="position:absolute; height:'+w.options.style.tip.size.height+"px; width:"+w.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;">';if(f("<canvas>").get(0).getContext){w.elements.tip+='<canvas height="'+w.options.style.tip.size.height+'" width="'+w.options.style.tip.size.width+'"></canvas>'}else{if(f.browser.msie){x=w.options.style.tip.size.width+","+w.options.style.tip.size.height;z="m"+A[0][0]+","+A[0][1];z+=" l"+A[1][0]+","+A[1][1];z+=" "+A[2][0]+","+A[2][1];z+=" xe";w.elements.tip+='<v:shape fillcolor="'+v+'" stroked="false" filled="true" path="'+z+'" coordsize="'+x+'" style="width:'+w.options.style.tip.size.width+"px; height:"+w.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+((y.search(/top/)!==-1)?"bottom":"top")+'"></v:shape>';w.elements.tip+='<v:image style="behavior:url(#default#VML);"></v:image>';w.elements.contentWrapper.css("position","relative")}}w.elements.tooltip.prepend(w.elements.tip+"</div>");w.elements.tip=w.elements.tooltip.find("."+w.options.style.classes.tip).eq(0);if(f("<canvas>").get(0).getContext){h.call(w,w.elements.tip.find("canvas:first"),A,v)}if(y.search(/top/)!==-1&&f.browser.msie&&parseInt(f.browser.version.charAt(0))===6){w.elements.tip.css({marginTop:-4})}o.call(w,y)}function h(w,y,v){var x=w.get(0).getContext("2d");x.fillStyle=v;x.beginPath();x.moveTo(y[0][0],y[0][1]);x.lineTo(y[1][0],y[1][1]);x.lineTo(y[2][0],y[2][1]);x.fill()}function o(x){var w,z,v,A,y;w=this;if(w.options.style.tip.corner===false||!w.elements.tip){return}if(!x){x=w.elements.tip.attr("rel")}z=positionAdjust=(f.browser.msie)?1:0;w.elements.tip.css(x.match(/left|right|top|bottom/)[0],0);if(x.search(/top|bottom/)!==-1){if(f.browser.msie){if(parseInt(f.browser.version.charAt(0))===6){positionAdjust=(x.search(/top/)!==-1)?-3:1}else{positionAdjust=(x.search(/top/)!==-1)?1:2}}if(x.search(/Middle/)!==-1){w.elements.tip.css({left:"50%",marginLeft:-(w.options.style.tip.size.width/2)})}else{if(x.search(/Left/)!==-1){w.elements.tip.css({left:w.options.style.border.radius-z})}else{if(x.search(/Right/)!==-1){w.elements.tip.css({right:w.options.style.border.radius+z})}}}if(x.search(/top/)!==-1){w.elements.tip.css({top:-positionAdjust})}else{w.elements.tip.css({bottom:positionAdjust})}}else{if(x.search(/left|right/)!==-1){if(f.browser.msie){positionAdjust=(parseInt(f.browser.version.charAt(0))===6)?1:((x.search(/left/)!==-1)?1:2)}if(x.search(/Middle/)!==-1){w.elements.tip.css({top:"50%",marginTop:-(w.options.style.tip.size.height/2)})}else{if(x.search(/Top/)!==-1){w.elements.tip.css({top:w.options.style.border.radius-z})}else{if(x.search(/Bottom/)!==-1){w.elements.tip.css({bottom:w.options.style.border.radius+z})}}}if(x.search(/left/)!==-1){w.elements.tip.css({left:-positionAdjust})}else{w.elements.tip.css({right:positionAdjust})}}}v="padding-"+x.match(/left|right|top|bottom/)[0];A=w.options.style.tip.size[(v.search(/left|right/)!==-1)?"width":"height"];w.elements.tooltip.css("padding",0);w.elements.tooltip.css(v,A);if(f.browser.msie&&parseInt(f.browser.version.charAt(0))==6){y=parseInt(w.elements.tip.css("margin-top"))||0;y+=parseInt(w.elements.content.css("margin-top"))||0;w.elements.tip.css({marginTop:y})}}function j(){var v=this;if(v.elements.title!==null){v.elements.title.remove()}v.elements.title=f('<div class="'+v.options.style.classes.title+'">').css(r(v.options.style.title,true)).css({zoom:(f.browser.msie)?1:0}).prependTo(v.elements.contentWrapper);if(v.options.content.title.text){v.updateTitle.call(v,v.options.content.title.text)}if(v.options.content.title.button!==false&&typeof v.options.content.title.button=="string"){v.elements.button=f('<a class="'+v.options.style.classes.button+'" style="float:right; position: relative"></a>').css(r(v.options.style.button,true)).html(v.options.content.title.button).prependTo(v.elements.title).click(function(w){if(!v.status.disabled){v.hide(w)}})}}function m(){var w,y,x,v;w=this;y=w.options.show.when.target;x=w.options.hide.when.target;if(w.options.hide.fixed){x=x.add(w.elements.tooltip)}if(w.options.hide.when.event=="inactive"){v=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"];function B(C){if(w.status.disabled===true){return}clearTimeout(w.timers.inactive);w.timers.inactive=setTimeout(function(){f(v).each(function(){x.unbind(this+".qtip-inactive");w.elements.content.unbind(this+".qtip-inactive")});w.hide(C)},w.options.hide.delay)}}else{if(w.options.hide.fixed===true){w.elements.tooltip.bind("mouseover.qtip",function(){if(w.status.disabled===true){return}clearTimeout(w.timers.hide)})}}function A(C){if(w.status.disabled===true){return}if(w.options.hide.when.event=="inactive"){f(v).each(function(){x.bind(this+".qtip-inactive",B);w.elements.content.bind(this+".qtip-inactive",B)});B()}clearTimeout(w.timers.show);clearTimeout(w.timers.hide);w.timers.show=setTimeout(function(){w.show(C)},w.options.show.delay)}function z(C){if(w.status.disabled===true){return}if(w.options.hide.fixed===true&&w.options.hide.when.event.search(/mouse(out|leave)/i)!==-1&&f(C.relatedTarget).parents("div.qtip[qtip]").length>0){C.stopPropagation();C.preventDefault();clearTimeout(w.timers.hide);return false}clearTimeout(w.timers.show);clearTimeout(w.timers.hide);w.elements.tooltip.stop(true,true);w.timers.hide=setTimeout(function(){w.hide(C)},w.options.hide.delay)}if((w.options.show.when.target.add(w.options.hide.when.target).length===1&&w.options.show.when.event==w.options.hide.when.event&&w.options.hide.when.event!=="inactive")||w.options.hide.when.event=="unfocus"){w.cache.toggle=0;y.bind(w.options.show.when.event+".qtip",function(C){if(w.cache.toggle==0){A(C)}else{z(C)}})}else{y.bind(w.options.show.when.event+".qtip",A);if(w.options.hide.when.event!=="inactive"){x.bind(w.options.hide.when.event+".qtip",z)}}if(w.options.position.type.search(/(fixed|absolute)/)!==-1){w.elements.tooltip.bind("mouseover.qtip",w.focus)}if(w.options.position.target==="mouse"&&w.options.position.type!=="static"){y.bind("mousemove.qtip",function(C){w.cache.mouse={x:C.pageX,y:C.pageY};if(w.status.disabled===false&&w.options.position.adjust.mouse===true&&w.options.position.type!=="static"&&w.elements.tooltip.css("display")!=="none"){w.updatePosition(C)}})}}function p(x,y,D){var C,v,A,B,w,z;C=this;if(D.corner=="center"){return y.position}v=f.extend({},x);B={x:false,y:false};w={left:(v.left<f.fn.qtip.cache.screen.scroll.left),right:(v.left+D.dimensions.width+2>=f.fn.qtip.cache.screen.width+f.fn.qtip.cache.screen.scroll.left),top:(v.top<f.fn.qtip.cache.screen.scroll.top),bottom:(v.top+D.dimensions.height+2>=f.fn.qtip.cache.screen.height+f.fn.qtip.cache.screen.scroll.top)};A={left:(w.left&&(D.corner.search(/right/i)!=-1||(D.corner.search(/right/i)==-1&&!w.right))),right:(w.right&&(D.corner.search(/left/i)!=-1||(D.corner.search(/left/i)==-1&&!w.left))),top:(w.top&&D.corner.search(/top/i)==-1),bottom:(w.bottom&&D.corner.search(/bottom/i)==-1)};if(A.left){if(C.options.position.target!=="mouse"){v.left=y.position.left+y.dimensions.width}else{v.left=C.cache.mouse.x}B.x="Left"}else{if(A.right){if(C.options.position.target!=="mouse"){v.left=y.position.left-D.dimensions.width}else{v.left=C.cache.mouse.x-D.dimensions.width}B.x="Right"}}if(A.top){if(C.options.position.target!=="mouse"){v.top=y.position.top+y.dimensions.height}else{v.top=C.cache.mouse.y}B.y="top"}else{if(A.bottom){if(C.options.position.target!=="mouse"){v.top=y.position.top-D.dimensions.height}else{v.top=C.cache.mouse.y-D.dimensions.height}B.y="bottom"}}if(v.left<0){v.left=x.left;B.x=false}if(v.top<0){v.top=x.top;B.y=false}if(C.options.style.tip.corner!==false){v.corner=new String(D.corner);if(B.x!==false){v.corner=v.corner.replace(/Left|Right|Middle/,B.x)}if(B.y!==false){v.corner=v.corner.replace(/top|bottom/,B.y)}if(v.corner!==C.elements.tip.attr("rel")){e.call(C,v.corner)}}return v}function r(x,w){var y,v;y=f.extend(true,{},x);for(v in y){if(w===true&&v.search(/(tip|classes)/i)!==-1){delete y[v]}else{if(!w&&v.search(/(width|border|tip|title|classes|user)/i)!==-1){delete y[v]}}}return y}function c(v){if(typeof v.tip!=="object"){v.tip={corner:v.tip}}if(typeof v.tip.size!=="object"){v.tip.size={width:v.tip.size,height:v.tip.size}}if(typeof v.border!=="object"){v.border={width:v.border}}if(typeof v.width!=="object"){v.width={value:v.width}}if(typeof v.width.max=="string"){v.width.max=parseInt(v.width.max.replace(/([0-9]+)/i,"$1"))}if(typeof v.width.min=="string"){v.width.min=parseInt(v.width.min.replace(/([0-9]+)/i,"$1"))}if(typeof v.tip.size.x=="number"){v.tip.size.width=v.tip.size.x;delete v.tip.size.x}if(typeof v.tip.size.y=="number"){v.tip.size.height=v.tip.size.y;delete v.tip.size.y}return v}function a(){var v,w,x,A,y,z;v=this;x=[true,{}];for(w=0;w<arguments.length;w++){x.push(arguments[w])}A=[f.extend.apply(f,x)];while(typeof A[0].name=="string"){A.unshift(c(f.fn.qtip.styles[A[0].name]))}A.unshift(true,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},f.fn.qtip.styles.defaults);y=f.extend.apply(f,A);z=(f.browser.msie)?1:0;y.tip.size.width+=z;y.tip.size.height+=z;if(y.tip.size.width%2>0){y.tip.size.width+=1}if(y.tip.size.height%2>0){y.tip.size.height+=1}if(y.tip.corner===true){y.tip.corner=(v.options.position.corner.tooltip==="center")?false:v.options.position.corner.tooltip}return y}function b(y,x,w){var v={bottomRight:[[0,0],[x,w],[x,0]],bottomLeft:[[0,0],[x,0],[0,w]],topRight:[[0,w],[x,0],[x,w]],topLeft:[[0,0],[0,w],[x,w]],topMiddle:[[0,w],[x/2,0],[x,w]],bottomMiddle:[[0,0],[x,0],[x/2,w]],rightMiddle:[[0,0],[x,w/2],[0,w]],leftMiddle:[[x,0],[x,w],[0,w/2]]};v.leftTop=v.bottomRight;v.rightTop=v.bottomLeft;v.leftBottom=v.topRight;v.rightBottom=v.topLeft;return v[y]}function g(v){var w;if(f("<canvas>").get(0).getContext){w={topLeft:[v,v],topRight:[0,v],bottomLeft:[v,0],bottomRight:[0,0]}}else{if(f.browser.msie){w={topLeft:[-90,90,0],topRight:[-90,90,-v],bottomLeft:[90,270,0],bottomRight:[90,270,-v]}}}return w}function l(){var v,w,x;v=this;x=v.getDimensions();w='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+x.height+"px; width:"+x.width+'px" />';v.elements.bgiframe=v.elements.wrapper.prepend(w).children(".qtip-bgiframe:first")}f(document).ready(function(){f.fn.qtip.cache={screen:{scroll:{left:f(window).scrollLeft(),top:f(window).scrollTop()},width:f(window).width(),height:f(window).height()}};var v;f(window).bind("resize scroll",function(w){clearTimeout(v);v=setTimeout(function(){if(w.type==="scroll"){f.fn.qtip.cache.screen.scroll={left:f(window).scrollLeft(),top:f(window).scrollTop()}}else{f.fn.qtip.cache.screen.width=f(window).width();f.fn.qtip.cache.screen.height=f(window).height()}for(i=0;i<f.fn.qtip.interfaces.length;i++){var x=f.fn.qtip.interfaces[i];if(x.status.rendered===true&&(x.options.position.type!=="static"||x.options.position.adjust.scroll&&w.type==="scroll"||x.options.position.adjust.resize&&w.type==="resize")){x.updatePosition(w,true)}}},100)});f(document).bind("mousedown.qtip",function(w){if(f(w.target).parents("div.qtip").length===0){f(".qtip[unfocus]").each(function(){var x=f(this).qtip("api");if(f(this).is(":visible")&&!x.status.disabled&&f(w.target).add(x.elements.target).length>1){x.hide(w)}})}})});f.fn.qtip.interfaces=[];f.fn.qtip.log={error:function(){return this}};f.fn.qtip.constants={};f.fn.qtip.defaults={content:{prerender:false,text:false,url:false,data:null,title:{text:false,button:false}},position:{target:false,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:true,screen:false,scroll:true,resize:true},type:"absolute",container:false},show:{when:{target:false,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:false,ready:false},hide:{when:{target:false,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:false},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}};f.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:false,color:false,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery);var FORMALIZE=(function(b,e,f,a){var h="placeholder" in f.createElement("input");var j="autofocus" in f.createElement("input");var g="webkitAppearance" in f.createElement("select").style;var d=!!(b.browser.msie&&parseInt(b.browser.version,10)===6);var c=!!(b.browser.msie&&parseInt(b.browser.version,10)===7);return{go:function(){for(var l in FORMALIZE.init){FORMALIZE.init[l]()}},init:{detect_webkit:function(){if(!g){return}b("html").addClass("is_webkit")},full_input_size:function(){if(!c||!b("textarea, input.input_full").length){return}b("textarea, input.input_full").wrap('<span class="input_full_wrap"></span>')},ie6_skin_inputs:function(){if(!d||!b("input, select, textarea").length){return}var l=/button|submit|reset/;var m=/date|datetime|datetime-local|email|month|number|password|range|search|tel|text|time|url|week/;b("input").each(function(){var n=b(this);if(this.getAttribute("type").match(l)){n.addClass("ie6_button");if(this.disabled){n.addClass("ie6_button_disabled")}}else{if(this.getAttribute("type").match(m)){n.addClass("ie6_input");if(this.disabled){n.addClass("ie6_input_disabled")}}}});b("textarea, select").each(function(){if(this.disabled){b(this).addClass("ie6_input_disabled")}})},autofocus:function(){if(j||!b(":input[autofocus]").length){return}b(":input[autofocus]:visible:first").focus()},placeholder:function(){if(h||!b(":input[placeholder]").length){return}FORMALIZE.misc.add_placeholder();b(":input[placeholder]").each(function(){var l=b(this);var m=l.attr("placeholder");l.focus(function(){if(l.val()===m){l.val("").removeClass("placeholder_text")}}).blur(function(){FORMALIZE.misc.add_placeholder()});l.closest("form").submit(function(){if(l.val()===m){l.val("").removeClass("placeholder_text")}}).bind("reset",function(){setTimeout(FORMALIZE.misc.add_placeholder,50)})})}},misc:{add_placeholder:function(){if(h||!b(":input[placeholder]").length){return}b(":input[placeholder]").each(function(){var l=b(this);var m=l.attr("placeholder");if(!l.val()||l.val()===m){l.val(m).addClass("placeholder_text")}})}}}})(jQuery,this,this.document);jQuery(document).ready(function(){FORMALIZE.go()});(function(a){a(function(){a("*[data-account-tip]").each(function(){a(this).qtip({content:a(this).attr("data-account-tip"),position:{corner:{target:"topMiddle",tooltip:"bottomMiddle"}},style:{background:"#FFFFCC",color:"black",textAlign:"center",name:"cream",tip:"bottomMiddle",border:{width:1,radius:3}}})})})})(jQuery);(function(a){a.fn.liveSearch=function(b){return this.each(function(){updateData=function(c){if(c.keyCode==27){a(this).val("")}$update=a(c.data.update);if($update.data("updateTimeout")){clearTimeout($update.data("updateTimeout"))}if(typeof c.data.location=="undefined"){search_location=location.href.replace(location.search,"")+".js"}else{search_location=c.data.location}if(typeof c.data.params=="undefined"){extraParams={}}else{extraParams=c.data.params.call()}$this=a(this);$update.data("updateTimeout",setTimeout(function(){params=a.extend({filter:$this.val()},extraParams);if(!$update.data("query")||jQuery.param($update.data("query"))!=jQuery.param(params)){a.get(search_location,params,function(d){$update.html(d).trigger("livesearch:updated");$update.data("query",params)},"html")}},500));if($this.val().length>0){$this.next().show()}else{$this.next().hide()}};a(this).bind("change keyup paste",{update:b.update,location:b.location,params:b.params},updateData);a(this).next().click(function(){a(this).prev().val("").trigger("change");return false});a(this).parents("form").submit(function(){return false})})}})(jQuery);(function(a){a(function(){a("#company_filter").liveSearch({update:"div#companies"})})})(jQuery);if(!window.JSON){window.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(g,a){var d=g.console||a,j=g.document,n=g.navigator,m=g.sessionStorage||false,c=g.setTimeout,l=g.clearTimeout,e=g.setInterval,p=g.clearInterval,o=g.JSON,h=g.alert,b=g.History=g.History||{},f=g.history;o.stringify=o.stringify||o.encode;o.parse=o.parse||o.decode;if(typeof b.init!=="undefined"){throw new Error("History.js Core has already been loaded...")}b.init=function(){if(typeof b.Adapter==="undefined"){return false}if(typeof b.initCore!=="undefined"){b.initCore()}if(typeof b.initHtml4!=="undefined"){b.initHtml4()}return true};b.initCore=function(){if(typeof b.initCore.initialized!=="undefined"){return false}else{b.initCore.initialized=true}b.options=b.options||{};b.options.hashChangeInterval=b.options.hashChangeInterval||100;b.options.safariPollInterval=b.options.safariPollInterval||500;b.options.doubleCheckInterval=b.options.doubleCheckInterval||500;b.options.storeInterval=b.options.storeInterval||1000;b.options.busyDelay=b.options.busyDelay||250;b.options.debug=b.options.debug||false;b.options.initialTitle=b.options.initialTitle||j.title;b.intervalList=[];b.clearAllIntervals=function(){var v,u=b.intervalList;if(typeof u!=="undefined"&&u!==null){for(v=0;v<u.length;v++){p(u[v])}b.intervalList=null}};b.debug=function(){if((b.options.debug||false)){b.log.apply(b,arguments)}};b.log=function(){var A=!(typeof d==="undefined"||typeof d.log==="undefined"||typeof d.log.apply==="undefined"),v=j.getElementById("log"),z,y,B,w,u;if(A){w=Array.prototype.slice.call(arguments);z=w.shift();if(typeof d.debug!=="undefined"){d.debug.apply(d,[z,w])}else{d.log.apply(d,[z,w])}}else{z=("\n"+arguments[0]+"\n")}for(y=1,B=arguments.length;y<B;++y){u=arguments[y];if(typeof u==="object"&&typeof o!=="undefined"){try{u=o.stringify(u)}catch(x){}}z+="\n"+u+"\n"}if(v){v.value+=z+"\n-----\n";v.scrollTop=v.scrollHeight-v.clientHeight}else{if(!A){h(z)}}return true};b.getInternetExplorerMajorVersion=function(){var u=b.getInternetExplorerMajorVersion.cached=(typeof b.getInternetExplorerMajorVersion.cached!=="undefined")?b.getInternetExplorerMajorVersion.cached:(function(){var w=3,y=j.createElement("div"),x=y.getElementsByTagName("i");while((y.innerHTML="<!--[if gt IE "+(++w)+"]><i></i><![endif]-->")&&x[0]){}return(w>4)?w:false})();return u};b.isInternetExplorer=function(){var u=b.isInternetExplorer.cached=(typeof b.isInternetExplorer.cached!=="undefined")?b.isInternetExplorer.cached:Boolean(b.getInternetExplorerMajorVersion());return u};b.emulated={pushState:!Boolean(g.history&&g.history.pushState&&g.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(n.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(n.userAgent))),hashChange:Boolean(!(("onhashchange" in g)||("onhashchange" in j))||(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8))};b.enabled=!b.emulated.pushState;b.bugs={setHash:Boolean(!b.emulated.pushState&&n.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!b.emulated.pushState&&n.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<7)};b.isEmptyObject=function(v){for(var u in v){return false}return true};b.cloneObject=function(w){var v,u;if(w){v=o.stringify(w);u=o.parse(v)}else{u={}}return u};b.getRootUrl=function(){var u=j.location.protocol+"//"+(j.location.hostname||j.location.host);if(j.location.port||false){u+=":"+j.location.port}u+="/";return u};b.getBaseHref=function(){var u=j.getElementsByTagName("base"),w=null,v="";if(u.length===1){w=u[0];v=w.href.replace(/[^\/]+$/,"")}v=v.replace(/\/+$/,"");if(v){v+="/"}return v};b.getBaseUrl=function(){var u=b.getBaseHref()||b.getBasePageUrl()||b.getRootUrl();return u};b.getPageUrl=function(){var u=b.getState(false,false),w=(u||{}).url||j.location.href,v;v=w.replace(/\/+$/,"").replace(/[^\/]+$/,function(z,y,x){return(/\./).test(z)?z:z+"/"});return v};b.getBasePageUrl=function(){var u=j.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(x,w,v){return(/[^\/]$/).test(x)?"":x}).replace(/\/+$/,"")+"/";return u};b.getFullUrl=function(v,x){var u=v,w=v.substring(0,1);x=(typeof x==="undefined")?true:x;if(/[a-z]+\:\/\//.test(v)){}else{if(w==="/"){u=b.getRootUrl()+v.replace(/^\/+/,"")}else{if(w==="#"){u=b.getPageUrl().replace(/#.*/,"")+v}else{if(w==="?"){u=b.getPageUrl().replace(/[\?#].*/,"")+v}else{if(x){u=b.getBaseUrl()+v.replace(/^(\.\/)+/,"")}else{u=b.getBasePageUrl()+v.replace(/^(\.\/)+/,"")}}}}}return u.replace(/\#$/,"")};b.getShortUrl=function(w){var v=w,x=b.getBaseUrl(),u=b.getRootUrl();if(b.emulated.pushState){v=v.replace(x,"")}v=v.replace(u,"/");if(b.isTraditionalAnchor(v)){v="./"+v}v=v.replace(/^(\.\/)+/g,"./").replace(/\#$/,"");return v};b.store={};b.idToState=b.idToState||{};b.stateToId=b.stateToId||{};b.urlToId=b.urlToId||{};b.storedStates=b.storedStates||[];b.savedStates=b.savedStates||[];b.normalizeStore=function(){b.store.idToState=b.store.idToState||{};b.store.urlToId=b.store.urlToId||{};b.store.stateToId=b.store.stateToId||{}};b.getState=function(w,v){if(typeof w==="undefined"){w=true}if(typeof v==="undefined"){v=true}var u=b.getLastSavedState();if(!u&&v){u=b.createStateObject()}if(w){u=b.cloneObject(u);u.url=u.cleanUrl||u.url}return u};b.getIdByState=function(u){var w=b.extractId(u.url),v;if(!w){v=b.getStateString(u);if(typeof b.stateToId[v]!=="undefined"){w=b.stateToId[v]}else{if(typeof b.store.stateToId[v]!=="undefined"){w=b.store.stateToId[v]}else{while(true){w=(new Date()).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof b.idToState[w]==="undefined"&&typeof b.store.idToState[w]==="undefined"){break}}b.stateToId[v]=w;b.idToState[w]=u}}}return w};b.normalizeState=function(v){var w,u;if(!v||(typeof v!=="object")){v={}}if(typeof v.normalized!=="undefined"){return v}if(!v.data||(typeof v.data!=="object")){v.data={}}w={};w.normalized=true;w.title=v.title||"";w.url=b.getFullUrl(b.unescapeString(v.url||j.location.href));w.hash=b.getShortUrl(w.url);w.data=b.cloneObject(v.data);w.id=b.getIdByState(w);w.cleanUrl=w.url.replace(/\??\&_suid.*/,"");w.url=w.cleanUrl;u=!b.isEmptyObject(w.data);if(w.title||u){w.hash=b.getShortUrl(w.url).replace(/\??\&_suid.*/,"");if(!/\?/.test(w.hash)){w.hash+="?"}w.hash+="&_suid="+w.id}w.hashedUrl=b.getFullUrl(w.hash);if((b.emulated.pushState||b.bugs.safariPoll)&&b.hasUrlDuplicate(w)){w.url=w.hashedUrl}return w};b.createStateObject=function(w,x,v){var u={data:w,title:x,url:v};u=b.normalizeState(u);return u};b.getStateById=function(v){v=String(v);var u=b.idToState[v]||b.store.idToState[v]||a;return u};b.getStateString=function(v){var u,w,x;u=b.normalizeState(v);w={data:u.data,title:v.title,url:v.url};x=o.stringify(w);return x};b.getStateId=function(v){var u,w;u=b.normalizeState(v);w=u.id;return w};b.getHashByState=function(v){var u,w;u=b.normalizeState(v);w=u.hash;return w};b.extractId=function(w){var x,v,u;v=/(.*)\&_suid=([0-9]+)$/.exec(w);u=v?(v[1]||w):w;x=v?String(v[2]||""):"";return x||false};b.isTraditionalAnchor=function(v){var u=!(/[\/\?\.]/.test(v));return u};b.extractState=function(x,w){var u=null,y,v;w=w||false;y=b.extractId(x);if(y){u=b.getStateById(y)}if(!u){v=b.getFullUrl(x);y=b.getIdByUrl(v)||false;if(y){u=b.getStateById(y)}if(!u&&w&&!b.isTraditionalAnchor(x)){u=b.createStateObject(null,null,v)}}return u};b.getIdByUrl=function(u){var v=b.urlToId[u]||b.store.urlToId[u]||a;return v};b.getLastSavedState=function(){return b.savedStates[b.savedStates.length-1]||a};b.getLastStoredState=function(){return b.storedStates[b.storedStates.length-1]||a};b.hasUrlDuplicate=function(w){var v=false,u;u=b.extractState(w.url);v=u&&u.id!==w.id;return v};b.storeState=function(u){b.urlToId[u.url]=u.id;b.storedStates.push(b.cloneObject(u));return u};b.isLastSavedState=function(x){var w=false,v,u,y;if(b.savedStates.length){v=x.id;u=b.getLastSavedState();y=u.id;w=(v===y)}return w};b.saveState=function(u){if(b.isLastSavedState(u)){return false}b.savedStates.push(b.cloneObject(u));return true};b.getStateByIndex=function(v){var u=null;if(typeof v==="undefined"){u=b.savedStates[b.savedStates.length-1]}else{if(v<0){u=b.savedStates[b.savedStates.length+v]}else{u=b.savedStates[v]}}return u};b.getHash=function(){var u=b.unescapeHash(j.location.hash);return u};b.unescapeString=function(w){var u=w,v;while(true){v=g.unescape(u);if(v===u){break}u=v}return u};b.unescapeHash=function(v){var u=b.normalizeHash(v);u=b.unescapeString(u);return u};b.normalizeHash=function(v){var u=v.replace(/[^#]*#/,"").replace(/#.*/,"");return u};b.setHash=function(y,v){var u,w,x;if(v!==false&&b.busy()){b.pushQueue({scope:b,callback:b.setHash,args:arguments,queue:v});return false}u=b.escapeHash(y);b.busy(true);w=b.extractState(y,true);if(w&&!b.emulated.pushState){b.pushState(w.data,w.title,w.url,false)}else{if(j.location.hash!==u){if(b.bugs.setHash){x=b.getPageUrl();b.pushState(null,null,x+"#"+u,false)}else{j.location.hash=u}}}return b};b.escapeHash=function(v){var u=b.normalizeHash(v);u=g.escape(u);if(!b.bugs.hashEscape){u=u.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")}return u};b.getHashByUrl=function(u){var v=String(u).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");v=b.unescapeHash(v);return v};b.setTitle=function(w){var x=w.title,v;if(!x){v=b.getStateByIndex(0);if(v&&v.url===w.url){x=v.title||b.options.initialTitle}}try{j.getElementsByTagName("title")[0].innerHTML=x.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(u){}j.title=x;return b};b.queues=[];b.busy=function(v){if(typeof v!=="undefined"){b.busy.flag=v}else{if(typeof b.busy.flag==="undefined"){b.busy.flag=false}}if(!b.busy.flag){l(b.busy.timeout);var u=function(){var x,w,y;if(b.busy.flag){return}for(x=b.queues.length-1;x>=0;--x){w=b.queues[x];if(w.length===0){continue}y=w.shift();b.fireQueueItem(y);b.busy.timeout=c(u,b.options.busyDelay)}};b.busy.timeout=c(u,b.options.busyDelay)}return b.busy.flag};b.busy.flag=false;b.fireQueueItem=function(u){return u.callback.apply(u.scope||b,u.args||[])};b.pushQueue=function(u){b.queues[u.queue||0]=b.queues[u.queue||0]||[];b.queues[u.queue||0].push(u);return b};b.queue=function(v,u){if(typeof v==="function"){v={callback:v}}if(typeof u!=="undefined"){v.queue=u}if(b.busy()){b.pushQueue(v)}else{b.fireQueueItem(v)}return b};b.clearQueue=function(){b.busy.flag=false;b.queues=[];return b};b.stateChanged=false;b.doubleChecker=false;b.doubleCheckComplete=function(){b.stateChanged=true;b.doubleCheckClear();return b};b.doubleCheckClear=function(){if(b.doubleChecker){l(b.doubleChecker);b.doubleChecker=false}return b};b.doubleCheck=function(u){b.stateChanged=false;b.doubleCheckClear();if(b.bugs.ieDoubleCheck){b.doubleChecker=c(function(){b.doubleCheckClear();if(!b.stateChanged){u()}return true},b.options.doubleCheckInterval)}return b};b.safariStatePoll=function(){var v=b.extractState(j.location.href),u;if(!b.isLastSavedState(v)){u=v}else{return}if(!u){u=b.createStateObject()}b.Adapter.trigger(g,"popstate");return b};b.back=function(u){if(u!==false&&b.busy()){b.pushQueue({scope:b,callback:b.back,args:arguments,queue:u});return false}b.busy(true);b.doubleCheck(function(){b.back(false)});f.go(-1);return true};b.forward=function(u){if(u!==false&&b.busy()){b.pushQueue({scope:b,callback:b.forward,args:arguments,queue:u});return false}b.busy(true);b.doubleCheck(function(){b.forward(false)});f.go(1);return true};b.go=function(v,u){var w;if(v>0){for(w=1;w<=v;++w){b.forward(u)}}else{if(v<0){for(w=-1;w>=v;--w){b.back(u)}}else{throw new Error("History.go: History.go requires a positive or negative integer passed.")}}return b};if(b.emulated.pushState){var r=function(){};b.pushState=b.pushState||r;b.replaceState=b.replaceState||r}else{b.onPopState=function(x,u){var z=false,y=false,w,v;b.doubleCheckComplete();w=b.getHash();if(w){v=b.extractState(w||j.location.href,true);if(v){b.replaceState(v.data,v.title,v.url,false)}else{b.Adapter.trigger(g,"anchorchange");b.busy(false)}b.expectedStateId=false;return false}z=b.Adapter.extractEventData("state",x,u)||false;if(z){y=b.getStateById(z)}else{if(b.expectedStateId){y=b.getStateById(b.expectedStateId)}else{y=b.extractState(j.location.href)}}if(!y){y=b.createStateObject(null,null,j.location.href)}b.expectedStateId=false;if(b.isLastSavedState(y)){b.busy(false);return false}b.storeState(y);b.saveState(y);b.setTitle(y);b.Adapter.trigger(g,"statechange");b.busy(false);return true};b.Adapter.bind(g,"popstate",b.onPopState);b.pushState=function(w,y,v,u){if(b.getHashByUrl(v)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(u!==false&&b.busy()){b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:u});return false}b.busy(true);var x=b.createStateObject(w,y,v);if(b.isLastSavedState(x)){b.busy(false)}else{b.storeState(x);b.expectedStateId=x.id;f.pushState(x.id,x.title,x.url);b.Adapter.trigger(g,"popstate")}return true};b.replaceState=function(w,y,v,u){if(b.getHashByUrl(v)&&b.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(u!==false&&b.busy()){b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:u});return false}b.busy(true);var x=b.createStateObject(w,y,v);if(b.isLastSavedState(x)){b.busy(false)}else{b.storeState(x);b.expectedStateId=x.id;f.replaceState(x.id,x.title,x.url);b.Adapter.trigger(g,"popstate")}return true}}if(m){try{b.store=o.parse(m.getItem("History.store"))||{}}catch(q){b.store={}}b.normalizeStore()}else{b.store={};b.normalizeStore()}b.Adapter.bind(g,"beforeunload",b.clearAllIntervals);b.Adapter.bind(g,"unload",b.clearAllIntervals);b.saveState(b.storeState(b.extractState(j.location.href,true)));if(m){b.onUnload=function(){var u,w;try{u=o.parse(m.getItem("History.store"))||{}}catch(v){u={}}u.idToState=u.idToState||{};u.urlToId=u.urlToId||{};u.stateToId=u.stateToId||{};for(w in b.idToState){if(!b.idToState.hasOwnProperty(w)){continue}u.idToState[w]=b.idToState[w]}for(w in b.urlToId){if(!b.urlToId.hasOwnProperty(w)){continue}u.urlToId[w]=b.urlToId[w]}for(w in b.stateToId){if(!b.stateToId.hasOwnProperty(w)){continue}u.stateToId[w]=b.stateToId[w]}b.store=u;b.normalizeStore();m.setItem("History.store",o.stringify(u))};b.intervalList.push(e(b.onUnload,b.options.storeInterval));b.Adapter.bind(g,"beforeunload",b.onUnload);b.Adapter.bind(g,"unload",b.onUnload)}if(!b.emulated.pushState){if(b.bugs.safariPoll){b.intervalList.push(e(b.safariStatePoll,b.options.safariPollInterval))}if(n.vendor==="Apple Computer, Inc."||(n.appCodeName||"")==="Mozilla"){b.Adapter.bind(g,"hashchange",function(){b.Adapter.trigger(g,"popstate")});if(b.getHash()){b.Adapter.onDomLoad(function(){b.Adapter.trigger(g,"hashchange")})}}}};b.init()})(window);(function(d,g){var a=d.document,e=d.setTimeout||e,f=d.clearTimeout||f,b=d.setInterval||b,c=d.History=d.History||{};if(typeof c.initHtml4!=="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}c.initHtml4=function(){if(typeof c.initHtml4.initialized!=="undefined"){return false}else{c.initHtml4.initialized=true}c.enabled=true;c.savedHashes=[];c.isLastHash=function(h){var l=c.getHashByIndex(),j;j=h===l;return j};c.saveHash=function(h){if(c.isLastHash(h)){return false}c.savedHashes.push(h);return true};c.getHashByIndex=function(h){var j=null;if(typeof h==="undefined"){j=c.savedHashes[c.savedHashes.length-1]}else{if(h<0){j=c.savedHashes[c.savedHashes.length+h]}else{j=c.savedHashes[h]}}return j};c.discardedHashes={};c.discardedStates={};c.discardState=function(n,h,m){var j=c.getHashByState(n),l;l={discardedState:n,backState:m,forwardState:h};c.discardedStates[j]=l;return true};c.discardHash=function(j,h,m){var l={discardedHash:j,backState:m,forwardState:h};c.discardedHashes[j]=l;return true};c.discardedState=function(h){var l=c.getHashByState(h),j;j=c.discardedStates[l]||false;return j};c.discardedHash=function(j){var h=c.discardedHashes[j]||false;return h};c.recycleState=function(h){var j=c.getHashByState(h);if(c.discardedState(h)){delete c.discardedStates[j]}return true};if(c.emulated.hashChange){c.hashChangeInit=function(){c.checkerFunction=null;var h="",n,j,l,m;if(c.isInternetExplorer()){n="historyjs-iframe";j=a.createElement("iframe");j.setAttribute("id",n);j.style.display="none";a.body.appendChild(j);j.contentWindow.document.open();j.contentWindow.document.close();l="";m=false;c.checkerFunction=function(){if(m){return false}m=true;var p=c.getHash()||"",o=c.unescapeHash(j.contentWindow.document.location.hash)||"";if(p!==h){h=p;if(o!==p){l=o=p;j.contentWindow.document.open();j.contentWindow.document.close();j.contentWindow.document.location.hash=c.escapeHash(p)}c.Adapter.trigger(d,"hashchange")}else{if(o!==l){l=o;c.setHash(o,false)}}m=false;return true}}else{c.checkerFunction=function(){var o=c.getHash();if(o!==h){h=o;c.Adapter.trigger(d,"hashchange")}return true}}c.intervalList.push(b(c.checkerFunction,c.options.hashChangeInterval));return true};c.Adapter.onDomLoad(c.hashChangeInit)}if(c.emulated.pushState){c.onHashChange=function(n){var o=((n&&n.newURL)||a.location.href),m=c.getHashByUrl(o),l=null,h=null,p=null,j;if(c.isLastHash(m)){c.busy(false);return false}c.doubleCheckComplete();c.saveHash(m);if(m&&c.isTraditionalAnchor(m)){c.Adapter.trigger(d,"anchorchange");c.busy(false);return false}l=c.extractState(c.getFullUrl(m||a.location.href,false),true);if(c.isLastSavedState(l)){c.busy(false);return false}h=c.getHashByState(l);j=c.discardedState(l);if(j){if(c.getHashByIndex(-2)===c.getHashByState(j.forwardState)){c.back(false)}else{c.forward(false)}return false}c.pushState(l.data,l.title,l.url,false);return true};c.Adapter.bind(d,"hashchange",c.onHashChange);c.pushState=function(n,r,h,p){if(c.getHashByUrl(h)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(p!==false&&c.busy()){c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:p});return false}c.busy(true);var m=c.createStateObject(n,r,h),j=c.getHashByState(m),l=c.getState(false),o=c.getHashByState(l),q=c.getHash();c.storeState(m);c.expectedStateId=m.id;c.recycleState(m);c.setTitle(m);if(j===o){c.busy(false);return false}if(j!==q&&j!==c.getShortUrl(a.location.href)){c.setHash(j,false);return false}c.saveState(m);c.Adapter.trigger(d,"statechange");c.busy(false);return true};c.replaceState=function(n,p,m,h){if(c.getHashByUrl(m)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(h!==false&&c.busy()){c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:h});return false}c.busy(true);var o=c.createStateObject(n,p,m),l=c.getState(false),j=c.getStateByIndex(-2);c.discardState(l,o,j);c.pushState(o.data,o.title,o.url,false);return true}}if(c.emulated.pushState){if(c.getHash()&&!c.emulated.hashChange){c.Adapter.onDomLoad(function(){c.Adapter.trigger(d,"hashchange")})}}};if(typeof c.init!=="undefined"){c.init()}})(window);(function(b,d){var a=b.History=b.History||{},c=b.jQuery;if(typeof a.Adapter!=="undefined"){throw new Error("History.js Adapter has already been loaded...")}a.Adapter={bind:function(e,f,g){c(e).bind(f,g)},trigger:function(f,g,e){c(f).trigger(g,e)},extractEventData:function(g,h,f){var e=(h&&h.originalEvent&&h.originalEvent[g])||(f&&f[g])||d;return e},onDomLoad:function(e){c(e)}};if(typeof a.init!=="undefined"){a.init()}})(window);(function(a){a(function(){if(a(".contacts div.list").length>0){a("#contact_filter").focus(function(){a("label[for=contact_filter]").hide()}).blur(function(){a("label[for=contact_filter]").toggle(a(this).val()=="")}).blur();a("#contact_filter").liveSearch({update:"div#contacts",location:"/contacts",params:function(){return{type_filter:a(".contacts .list .list_filter a.active").data("type")}}});a(".contacts .list .list_filter a").live("click",function(){a(".contacts .list .list_filter a.active").removeClass("active");a(this).addClass("active");a("#contact_filter").change();return false});a("div#contacts").bind("livesearch:updated",function(){if(a("#contact_filter").val()!=""){firstContact=a("div#contacts li.contact").first().find("a");window.History.pushState({contact:firstContact.parent().attr("id")},"MoneyBird — "+firstContact.text(),firstContact.attr("href"))}b.call()});a(".contacts a.inline").live("click",function(){window.History.pushState({contact:a(this).parent().attr("id")},"MoneyBird — "+a(this).text(),a(this).attr("href"));return false});a(".contacts .show a.cancel").live("click",function(){window.History.back();return false});History.Adapter.bind(window,"statechange",function(){state=window.History.getState();if(state.url.substr("-9")!="/contacts"){a(".contacts .list li.active").removeClass("active");if(state.data.contact!=""){a("#"+state.data.contact).addClass("active")}a.get(state.url).success(function(c){a("#show_contact").html(c);b.call();initializeContactEdit.call()})}});a(".contacts .pagination a").live("click",function(){a.get(a(this).attr("href")).success(function(c){a("div#contacts").html(c);b.call()});return false});a(".contacts .show form.edit_contact, .contacts .show form.new_contact").live("submit",function(){a.ajax({url:a(this).attr("action"),type:a(this).attr("method").toUpperCase()||"POST",data:a(this).serialize()}).success(function(c){if(c.indexOf("redirect:")==0){window.History.replaceState({},null,c.replace("redirect:",""))}else{a("#show_contact").html(c)}});return false})}initializeContactEdit=function(){if(a(".fieldWithErrors").length>0||a("input#contact_phone").val()!=""||a("input#contact_tax_number").val()!=""){a("#toggle_contact_options").parents("tr").hide()}else{a(".contact_options").hide();a("#toggle_contact_options").live("click",function(){a(".contact_options").show();a(this).parents("tr").hide();return false})}a(".validate_tax_number").live("click",function(){$validateTaxNumberResult=a(this).parent();$validateTaxNumberResult.html('<img src="/images/ajax-loader-white.gif" />');a.get("/contacts/validate_tax_number",{tax_number:a("#contact_tax_number").val()},function(c,d){$validateTaxNumberResult.html(c)});return false});a(".contacts .show a[data-tooltip]").each(function(){a(this).qtip({content:a(a(this).attr("data-tooltip")).html(),show:"mouseover",hide:"mouseout",position:{corner:{target:"topMiddle",tooltip:"bottomMiddle"}},style:{background:"#FFFFCC",color:"black",border:{radius:4,width:4},name:"dark",tip:"bottomMiddle"},show:{delay:0,effect:{length:0}}})});a("#kvk_search_form").submit(function(){a("#kvk_search_progress").show();a.get("/contacts/search_openkvk",{query:a("#kvk_search").val()},function(c){a("#kvk_search_result").html(c);a("#kvk_search_progress").hide()});return false});a("#kvk_search_result a").live("click",function(){$this=a(this);a("#contact_company_name").val($this.attr("data-contact-company-name"));a("#contact_address1").val($this.attr("data-contact-address1"));a("#contact_zipcode").val($this.attr("data-contact-zipcode"));a("#contact_city").val($this.attr("data-contact-city"));a("#contact_chamber_of_commerce").val($this.attr("data-contact-kvk"));$this.blur();return false})};initializeContactEdit.call();function b(){prefferedHeight=a("body").innerHeight()-45;a.each(["#footer","#header"],function(d,c){height=a(c).outerHeight();if(height!=NaN){prefferedHeight=prefferedHeight-height}});if(prefferedHeight<300){prefferedHeight=400}a("div.contacts div.list").height(prefferedHeight);a("div.contacts div.list ul").height(prefferedHeight-80-a("div.contacts div.list div.pagination").outerHeight());a("div.contacts div.show").height(prefferedHeight)}b.call();a(window).resize(b);a(".contacts a.add_note").live("click",function(){a(".contacts form.new_contact_note").toggle();a("#contact_note_note").focus();return false});a(".contacts dl.history dd").hover(function(){a(this).find("a.icon").show()},function(){a(this).find("a.icon").hide()})})})(jQuery);
/*
 * Raphael 1.3.1 - JavaScript Vector Library
 *
 * Copyright (c) 2008 - 2009 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael=(function(){var a=/[, ]+/,aR=/^(circle|rect|path|ellipse|text|image)$/,O=document,ax=window,m={was:"Raphael" in ax,is:ax.Raphael},aq=function(){if(aq.is(arguments[0],"array")){var d=arguments[0],e=z[aZ](aq,d.splice(0,3+aq.is(d[0],ao))),S=e.set();for(var R=0,a3=d[n];R<a3;R++){var E=d[R]||{};aR.test(E.type)&&S[f](e[E.type]().attr(E))}return S}return z[aZ](aq,arguments)},aW=function(){},aO="appendChild",aZ="apply",aV="concat",aw="",ap=" ",C="split",I="click dblclick mousedown mousemove mouseout mouseover mouseup"[C](ap),V="hasOwnProperty",aC="join",n="length",a1="prototype",a2=String[a1].toLowerCase,ae=Math,g=ae.max,aL=ae.min,ao="number",aD="toString",az=Object[a1][aD],aT={},aP=ae.pow,f="push",aX=/^(?=[\da-f]$)/,c=/^url\(['"]?([^\)]+)['"]?\)$/i,A=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,T=ae.round,y="setAttribute",Z=parseFloat,J=parseInt,aQ=String[a1].toUpperCase,j={"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ac={along:"along","clip-rect":"csv",cx:ao,cy:ao,fill:"colour","fill-opacity":ao,"font-size":ao,height:ao,opacity:ao,path:"path",r:ao,rotation:"csv",rx:ao,ry:ao,scale:"csv",stroke:"colour","stroke-opacity":ao,"stroke-width":ao,translation:"csv",width:ao,x:ao,y:ao},aS="replace";aq.version="1.3.1";aq.type=(ax.SVGAngle||O.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(aq.type=="VML"){var aj=document.createElement("div");aj.innerHTML="<!--[if vml]><br><br><![endif]-->";if(aj.childNodes[n]!=2){return null}}aq.svg=!(aq.vml=aq.type=="VML");aW[a1]=aq[a1];aq._id=0;aq._oid=0;aq.fn={};aq.is=function(e,d){d=a2.call(d);return((d=="object"||d=="undefined")&&typeof e==d)||(e==null&&d=="null")||a2.call(az.call(e).slice(8,-1))==d};aq.setWindow=function(d){ax=d;O=ax.document};var aG=function(e){if(aq.vml){var d=/^\s+|\s+$/g;aG=am(function(S){var a3;S=(S+aw)[aS](d,aw);try{var a4=new ActiveXObject("htmlfile");a4.write("<body>");a4.close();a3=a4.body}catch(a6){a3=createPopup().document.body}var R=a3.createTextRange();try{a3.style.color=S;var a5=R.queryCommandValue("ForeColor");a5=((a5&255)<<16)|(a5&65280)|((a5&16711680)>>>16);return"#"+("000000"+a5[aD](16)).slice(-6)}catch(a6){return"none"}})}else{var E=O.createElement("i");E.title="Rapha\xebl Colour Picker";E.style.display="none";O.body[aO](E);aG=am(function(R){E.style.color=R;return O.defaultView.getComputedStyle(E,aw).getPropertyValue("color")})}return aG(e)};aq.hsb2rgb=am(function(a6,a4,ba){if(aq.is(a6,"object")&&"h" in a6&&"s" in a6&&"b" in a6){ba=a6.b;a4=a6.s;a6=a6.h}var R,S,bb;if(ba==0){return{r:0,g:0,b:0,hex:"#000"}}if(a6>1||a4>1||ba>1){a6/=255;a4/=255;ba/=255}var a3=~~(a6*6),a7=(a6*6)-a3,E=ba*(1-a4),e=ba*(1-(a4*a7)),bc=ba*(1-(a4*(1-a7)));R=[ba,e,E,E,bc,ba,ba][a3];S=[bc,ba,ba,e,E,E,bc][a3];bb=[E,E,bc,ba,ba,e,E][a3];R*=255;S*=255;bb*=255;var a8={r:R,g:S,b:bb},d=(~~R)[aD](16),a5=(~~S)[aD](16),a9=(~~bb)[aD](16);d=d[aS](aX,"0");a5=a5[aS](aX,"0");a9=a9[aS](aX,"0");a8.hex="#"+d+a5+a9;return a8},aq);aq.rgb2hsb=am(function(d,e,a5){if(aq.is(d,"object")&&"r" in d&&"g" in d&&"b" in d){a5=d.b;e=d.g;d=d.r}if(aq.is(d,"string")){var a7=aq.getRGB(d);d=a7.r;e=a7.g;a5=a7.b}if(d>1||e>1||a5>1){d/=255;e/=255;a5/=255}var a4=g(d,e,a5),E=aL(d,e,a5),S,R,a3=a4;if(E==a4){return{h:0,s:0,b:a4}}else{var a6=(a4-E);R=a6/a4;if(d==a4){S=(e-a5)/a6}else{if(e==a4){S=2+((a5-d)/a6)}else{S=4+((d-e)/a6)}}S/=6;S<0&&S++;S>1&&S--}return{h:S,s:R,b:a3}},aq);var aH=/,?([achlmqrstvxz]),?/gi;aq._path2string=function(){return this.join(",")[aS](aH,"$1")};function am(R,e,d){function E(){var S=Array[a1].slice.call(arguments,0),a4=S[aC]("\u25ba"),a3=E.cache=E.cache||{},a5=E.count=E.count||[];if(a3[V](a4)){return d?d(a3[a4]):a3[a4]}a5[n]>=1000&&delete a3[a5.shift()];a5[f](a4);a3[a4]=R[aZ](e,S);return d?d(a3[a4]):a3[a4]}return E}aq.getRGB=am(function(d){if(!d||!!((d=d+aw).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(d=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(({hs:1,rg:1})[V](d.substring(0,2))||d.charAt()=="#")&&(d=aG(d));var a3,E,R,a6,a7,a4=d.match(A);if(a4){if(a4[2]){a6=J(a4[2].substring(5),16);R=J(a4[2].substring(3,5),16);E=J(a4[2].substring(1,3),16)}if(a4[3]){a6=J((a7=a4[3].charAt(3))+a7,16);R=J((a7=a4[3].charAt(2))+a7,16);E=J((a7=a4[3].charAt(1))+a7,16)}if(a4[4]){a4=a4[4][C](/\s*,\s*/);E=Z(a4[0]);R=Z(a4[1]);a6=Z(a4[2])}if(a4[5]){a4=a4[5][C](/\s*,\s*/);E=Z(a4[0])*2.55;R=Z(a4[1])*2.55;a6=Z(a4[2])*2.55}if(a4[6]){a4=a4[6][C](/\s*,\s*/);E=Z(a4[0]);R=Z(a4[1]);a6=Z(a4[2]);return aq.hsb2rgb(E,R,a6)}if(a4[7]){a4=a4[7][C](/\s*,\s*/);E=Z(a4[0])*2.55;R=Z(a4[1])*2.55;a6=Z(a4[2])*2.55;return aq.hsb2rgb(E,R,a6)}a4={r:E,g:R,b:a6};var e=(~~E)[aD](16),S=(~~R)[aD](16),a5=(~~a6)[aD](16);e=e[aS](aX,"0");S=S[aS](aX,"0");a5=a5[aS](aX,"0");a4.hex="#"+e+S+a5;return a4}return{r:-1,g:-1,b:-1,hex:"none",error:1}},aq);aq.getColor=function(e){var E=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},d=this.hsb2rgb(E.h,E.s,E.b);E.h+=0.075;if(E.h>1){E.h=0;E.s-=0.2;E.s<=0&&(this.getColor.start={h:0,s:1,b:E.b})}return d.hex};aq.getColor.reset=function(){delete this.start};aq.parsePathString=am(function(d){if(!d){return null}var E={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=[];if(aq.is(d,"array")&&aq.is(d[0],"array")){e=ay(d)}if(!e[n]){(d+aw)[aS](/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(S,R,a5){var a4=[],a3=a2.call(R);a5[aS](/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(a7,a6){a6&&a4[f](+a6)});while(a4[n]>=E[a3]){e[f]([R][aV](a4.splice(0,E[a3])));if(!E[a3]){break}}})}e[aD]=aq._path2string;return e});aq.findDotsAtSegment=function(e,d,bi,bg,a4,S,a6,a5,bc){var ba=1-bc,a9=aP(ba,3)*e+aP(ba,2)*3*bc*bi+ba*3*bc*bc*a4+aP(bc,3)*a6,a7=aP(ba,3)*d+aP(ba,2)*3*bc*bg+ba*3*bc*bc*S+aP(bc,3)*a5,be=e+2*bc*(bi-e)+bc*bc*(a4-2*bi+e),bd=d+2*bc*(bg-d)+bc*bc*(S-2*bg+d),bh=bi+2*bc*(a4-bi)+bc*bc*(a6-2*a4+bi),bf=bg+2*bc*(S-bg)+bc*bc*(a5-2*S+bg),bb=(1-bc)*e+bc*bi,a8=(1-bc)*d+bc*bg,R=(1-bc)*a4+bc*a6,E=(1-bc)*S+bc*a5,a3=(90-ae.atan((be-bh)/(bd-bf))*180/ae.PI);(be>bh||bd<bf)&&(a3+=180);return{x:a9,y:a7,m:{x:be,y:bd},n:{x:bh,y:bf},start:{x:bb,y:a8},end:{x:R,y:E},alpha:a3}};var X=am(function(a8){if(!a8){return{x:0,y:0,width:0,height:0}}a8=K(a8);var a5=0,a4=0,R=[],e=[],E;for(var S=0,a7=a8[n];S<a7;S++){E=a8[S];if(E[0]=="M"){a5=E[1];a4=E[2];R[f](a5);e[f](a4)}else{var a3=aF(a5,a4,E[1],E[2],E[3],E[4],E[5],E[6]);R=R[aV](a3.min.x,a3.max.x);e=e[aV](a3.min.y,a3.max.y);a5=E[5];a4=E[6]}}var d=aL[aZ](0,R),a6=aL[aZ](0,e);return{x:d,y:a6,width:g[aZ](0,R)-d,height:g[aZ](0,e)-a6}}),ay=function(a3){var E=[];if(!aq.is(a3,"array")||!aq.is(a3&&a3[0],"array")){a3=aq.parsePathString(a3)}for(var e=0,R=a3[n];e<R;e++){E[e]=[];for(var d=0,S=a3[e][n];d<S;d++){E[e][d]=a3[e][d]}}E[aD]=aq._path2string;return E},ag=am(function(R){if(!aq.is(R,"array")||!aq.is(R&&R[0],"array")){R=aq.parsePathString(R)}var a7=[],a9=0,a8=0,bc=0,bb=0,E=0;if(R[0][0]=="M"){a9=R[0][1];a8=R[0][2];bc=a9;bb=a8;E++;a7[f](["M",a9,a8])}for(var a4=E,bd=R[n];a4<bd;a4++){var d=a7[a4]=[],ba=R[a4];if(ba[0]!=a2.call(ba[0])){d[0]=a2.call(ba[0]);switch(d[0]){case"a":d[1]=ba[1];d[2]=ba[2];d[3]=ba[3];d[4]=ba[4];d[5]=ba[5];d[6]=+(ba[6]-a9).toFixed(3);d[7]=+(ba[7]-a8).toFixed(3);break;case"v":d[1]=+(ba[1]-a8).toFixed(3);break;case"m":bc=ba[1];bb=ba[2];default:for(var a3=1,a5=ba[n];a3<a5;a3++){d[a3]=+(ba[a3]-((a3%2)?a9:a8)).toFixed(3)}}}else{d=a7[a4]=[];if(ba[0]=="m"){bc=ba[1]+a9;bb=ba[2]+a8}for(var S=0,e=ba[n];S<e;S++){a7[a4][S]=ba[S]}}var a6=a7[a4][n];switch(a7[a4][0]){case"z":a9=bc;a8=bb;break;case"h":a9+=+a7[a4][a6-1];break;case"v":a8+=+a7[a4][a6-1];break;default:a9+=+a7[a4][a6-2];a8+=+a7[a4][a6-1]}}a7[aD]=aq._path2string;return a7},0,ay),u=am(function(R){if(!aq.is(R,"array")||!aq.is(R&&R[0],"array")){R=aq.parsePathString(R)}var a6=[],a8=0,a7=0,bb=0,ba=0,E=0;if(R[0][0]=="M"){a8=+R[0][1];a7=+R[0][2];bb=a8;ba=a7;E++;a6[0]=["M",a8,a7]}for(var a4=E,bc=R[n];a4<bc;a4++){var d=a6[a4]=[],a9=R[a4];if(a9[0]!=aQ.call(a9[0])){d[0]=aQ.call(a9[0]);switch(d[0]){case"A":d[1]=a9[1];d[2]=a9[2];d[3]=a9[3];d[4]=a9[4];d[5]=a9[5];d[6]=+(a9[6]+a8);d[7]=+(a9[7]+a7);break;case"V":d[1]=+a9[1]+a7;break;case"H":d[1]=+a9[1]+a8;break;case"M":bb=+a9[1]+a8;ba=+a9[2]+a7;default:for(var a3=1,a5=a9[n];a3<a5;a3++){d[a3]=+a9[a3]+((a3%2)?a8:a7)}}}else{for(var S=0,e=a9[n];S<e;S++){a6[a4][S]=a9[S]}}switch(d[0]){case"Z":a8=bb;a7=ba;break;case"H":a8=d[1];break;case"V":a7=d[1];break;default:a8=a6[a4][a6[a4][n]-2];a7=a6[a4][a6[a4][n]-1]}}a6[aD]=aq._path2string;return a6},null,ay),a0=function(e,R,d,E){return[e,R,d,E,d,E]},aN=function(e,R,a4,S,d,E){var a3=1/3,a5=2/3;return[a3*e+a5*a4,a3*R+a5*S,a3*d+a5*a4,a3*E+a5*S,d,E]},N=function(bc,bH,bl,bj,bd,a7,S,bb,bG,be){var R=ae.PI,bi=R*120/180,d=R/180*(+bd||0),bp=[],bm,bD=am(function(bJ,bM,bI){var bL=bJ*ae.cos(bI)-bM*ae.sin(bI),bK=bJ*ae.sin(bI)+bM*ae.cos(bI);return{x:bL,y:bK}});if(!be){bm=bD(bc,bH,-d);bc=bm.x;bH=bm.y;bm=bD(bb,bG,-d);bb=bm.x;bG=bm.y;var e=ae.cos(R/180*bd),a9=ae.sin(R/180*bd),br=(bc-bb)/2,bq=(bH-bG)/2;bl=g(bl,ae.abs(br));bj=g(bj,ae.abs(bq));var bB=(br*br)/(bl*bl)+(bq*bq)/(bj*bj);if(bB>1){bl=ae.sqrt(bB)*bl;bj=ae.sqrt(bB)*bj}var E=bl*bl,bu=bj*bj,bw=(a7==S?-1:1)*ae.sqrt(ae.abs((E*bu-E*bq*bq-bu*br*br)/(E*bq*bq+bu*br*br))),bg=bw*bl*bq/bj+(bc+bb)/2,bf=bw*-bj*br/bl+(bH+bG)/2,a6=ae.asin(((bH-bf)/bj).toFixed(7)),a5=ae.asin(((bG-bf)/bj).toFixed(7));a6=bc<bg?R-a6:a6;a5=bb<bg?R-a5:a5;a6<0&&(a6=R*2+a6);a5<0&&(a5=R*2+a5);if(S&&a6>a5){a6=a6-R*2}if(!S&&a5>a6){a5=a5-R*2}}else{a6=be[0];a5=be[1];bg=be[2];bf=be[3]}var ba=a5-a6;if(ae.abs(ba)>bi){var bh=a5,bk=bb,a8=bG;a5=a6+bi*(S&&a5>a6?1:-1);bb=bg+bl*ae.cos(a5);bG=bf+bj*ae.sin(a5);bp=N(bb,bG,bl,bj,bd,0,S,bk,a8,[a5,bh,bg,bf])}ba=a5-a6;var a4=ae.cos(a6),bF=ae.sin(a6),a3=ae.cos(a5),bE=ae.sin(a5),bs=ae.tan(ba/4),bv=4/3*bl*bs,bt=4/3*bj*bs,bC=[bc,bH],bA=[bc+bv*bF,bH-bt*a4],bz=[bb+bv*bE,bG-bt*a3],bx=[bb,bG];bA[0]=2*bC[0]-bA[0];bA[1]=2*bC[1]-bA[1];if(be){return[bA,bz,bx][aV](bp)}else{bp=[bA,bz,bx][aV](bp)[aC]()[C](",");var bn=[];for(var by=0,bo=bp[n];by<bo;by++){bn[by]=by%2?bD(bp[by-1],bp[by],d).y:bD(bp[by],bp[by+1],d).x}return bn}},P=function(e,d,R,E,a6,a5,a4,a3,a7){var S=1-a7;return{x:aP(S,3)*e+aP(S,2)*3*a7*R+S*3*a7*a7*a6+aP(a7,3)*a4,y:aP(S,3)*d+aP(S,2)*3*a7*E+S*3*a7*a7*a5+aP(a7,3)*a3}},aF=am(function(E,d,S,R,bd,bc,a9,a6){var bb=(bd-2*S+E)-(a9-2*bd+S),a8=2*(S-E)-2*(bd-S),a5=E-S,a4=(-a8+ae.sqrt(a8*a8-4*bb*a5))/2/bb,a3=(-a8-ae.sqrt(a8*a8-4*bb*a5))/2/bb,a7=[d,a6],ba=[E,a9],e;ae.abs(a4)>1000000000000&&(a4=0.5);ae.abs(a3)>1000000000000&&(a3=0.5);if(a4>0&&a4<1){e=P(E,d,S,R,bd,bc,a9,a6,a4);ba[f](e.x);a7[f](e.y)}if(a3>0&&a3<1){e=P(E,d,S,R,bd,bc,a9,a6,a3);ba[f](e.x);a7[f](e.y)}bb=(bc-2*R+d)-(a6-2*bc+R);a8=2*(R-d)-2*(bc-R);a5=d-R;a4=(-a8+ae.sqrt(a8*a8-4*bb*a5))/2/bb;a3=(-a8-ae.sqrt(a8*a8-4*bb*a5))/2/bb;ae.abs(a4)>1000000000000&&(a4=0.5);ae.abs(a3)>1000000000000&&(a3=0.5);if(a4>0&&a4<1){e=P(E,d,S,R,bd,bc,a9,a6,a4);ba[f](e.x);a7[f](e.y)}if(a3>0&&a3<1){e=P(E,d,S,R,bd,bc,a9,a6,a3);ba[f](e.x);a7[f](e.y)}return{min:{x:aL[aZ](0,ba),y:aL[aZ](0,a7)},max:{x:g[aZ](0,ba),y:g[aZ](0,a7)}}}),K=am(function(bc,a7){var R=u(bc),a8=a7&&u(a7),a9={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a3=function(be,bf){var bd,bg;if(!be){return["C",bf.x,bf.y,bf.x,bf.y,bf.x,bf.y]}!(be[0] in {T:1,Q:1})&&(bf.qx=bf.qy=null);switch(be[0]){case"M":bf.X=be[1];bf.Y=be[2];break;case"A":be=["C"][aV](N[aZ](0,[bf.x,bf.y][aV](be.slice(1))));break;case"S":bd=bf.x+(bf.x-(bf.bx||bf.x));bg=bf.y+(bf.y-(bf.by||bf.y));be=["C",bd,bg][aV](be.slice(1));break;case"T":bf.qx=bf.x+(bf.x-(bf.qx||bf.x));bf.qy=bf.y+(bf.y-(bf.qy||bf.y));be=["C"][aV](aN(bf.x,bf.y,bf.qx,bf.qy,be[1],be[2]));break;case"Q":bf.qx=be[1];bf.qy=be[2];be=["C"][aV](aN(bf.x,bf.y,be[1],be[2],be[3],be[4]));break;case"L":be=["C"][aV](a0(bf.x,bf.y,be[1],be[2]));break;case"H":be=["C"][aV](a0(bf.x,bf.y,be[1],bf.y));break;case"V":be=["C"][aV](a0(bf.x,bf.y,bf.x,be[1]));break;case"Z":be=["C"][aV](a0(bf.x,bf.y,bf.X,bf.Y));break}return be},e=function(bd,be){if(bd[be][n]>7){bd[be].shift();var bf=bd[be];while(bf[n]){bd.splice(be++,0,["C"][aV](bf.splice(0,6)))}bd.splice(be,1);ba=g(R[n],a8&&a8[n]||0)}},E=function(bh,bg,be,bd,bf){if(bh&&bg&&bh[bf][0]=="M"&&bg[bf][0]!="M"){bg.splice(bf,0,["M",bd.x,bd.y]);be.bx=0;be.by=0;be.x=bh[bf][1];be.y=bh[bf][2];ba=g(R[n],a8&&a8[n]||0)}};for(var a5=0,ba=g(R[n],a8&&a8[n]||0);a5<ba;a5++){R[a5]=a3(R[a5],a9);e(R,a5);a8&&(a8[a5]=a3(a8[a5],d));a8&&e(a8,a5);E(R,a8,a9,d,a5);E(a8,R,d,a9,a5);var a4=R[a5],bb=a8&&a8[a5],S=a4[n],a6=a8&&bb[n];a9.x=a4[S-2];a9.y=a4[S-1];a9.bx=Z(a4[S-4])||a9.x;a9.by=Z(a4[S-3])||a9.y;d.bx=a8&&(Z(bb[a6-4])||d.x);d.by=a8&&(Z(bb[a6-3])||d.y);d.x=a8&&bb[a6-2];d.y=a8&&bb[a6-1]}return a8?[R,a8]:R},null,ay),q=am(function(a7){var a6=[];for(var a3=0,a8=a7[n];a3<a8;a3++){var e={},a5=a7[a3].match(/^([^:]*):?([\d\.]*)/);e.color=aq.getRGB(a5[1]);if(e.color.error){return null}e.color=e.color.hex;a5[2]&&(e.offset=a5[2]+"%");a6[f](e)}for(var a3=1,a8=a6[n]-1;a3<a8;a3++){if(!a6[a3].offset){var E=Z(a6[a3-1].offset||0),R=0;for(var S=a3+1;S<a8;S++){if(a6[S].offset){R=a6[S].offset;break}}if(!R){R=100;S=a8}R=Z(R);var a4=(R-E)/(S-a3+1);for(;a3<S;a3++){E+=a4;a6[a3].offset=E+"%"}}}return a6}),ar=function(){var E,e,S,R,d;if(aq.is(arguments[0],"string")||aq.is(arguments[0],"object")){if(aq.is(arguments[0],"string")){E=O.getElementById(arguments[0])}else{E=arguments[0]}if(E.tagName){if(arguments[1]==null){return{container:E,width:E.style.pixelWidth||E.offsetWidth,height:E.style.pixelHeight||E.offsetHeight}}else{return{container:E,width:arguments[1],height:arguments[2]}}}}else{if(aq.is(arguments[0],ao)&&arguments[n]>3){return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}}}},aJ=function(d,E){var e=this;for(var R in E){if(E[V](R)&&!(R in d)){switch(typeof E[R]){case"function":(function(S){d[R]=d===e?S:function(){return S[aZ](e,arguments)}})(E[R]);break;case"object":d[R]=d[R]||{};aJ.call(this,d[R],E[R]);break;default:d[R]=E[R];break}}}},an=function(d,e){d==e.top&&(e.top=d.prev);d==e.bottom&&(e.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next)},ab=function(d,e){if(e.top===d){return}an(d,e);d.next=null;d.prev=e.top;e.top.next=d;e.top=d},l=function(d,e){if(e.bottom===d){return}an(d,e);d.next=e.bottom;d.prev=null;e.bottom.prev=d;e.bottom=d},D=function(e,d,E){an(e,E);d==E.top&&(E.top=e);d.next&&(d.next.prev=e);e.next=d.next;e.prev=d;d.next=e},au=function(e,d,E){an(e,E);d==E.bottom&&(E.bottom=e);d.prev&&(d.prev.next=e);e.prev=d.prev;d.prev=e;e.next=d},v=function(d){return function(){throw new Error("Rapha\xebl: you are calling to method \u201c"+d+"\u201d of removed object")}},av=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(aq.svg){aW[a1].svgns="http://www.w3.org/2000/svg";aW[a1].xlink="http://www.w3.org/1999/xlink";var T=function(d){return +d+(~~d===d)*0.5},Y=function(S){for(var e=0,E=S[n];e<E;e++){if(a2.call(S[e][0])!="a"){for(var d=1,R=S[e][n];d<R;d++){S[e][d]=T(S[e][d])}}else{S[e][6]=T(S[e][6]);S[e][7]=T(S[e][7])}}return S},aM=function(E,d){if(d){for(var e in d){if(d[V](e)){E[y](e,d[e])}}}else{return O.createElementNS(aW[a1].svgns,E)}};aq[aD]=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var r=function(d,R){var e=aM("path");R.canvas&&R.canvas[aO](e);var E=new aA(e,R);E.type="path";ad(E,{fill:"none",stroke:"#000",path:d});return E};var b=function(E,ba,d){var a7="linear",a4=0.5,S=0.5,bc=E.style;ba=(ba+aw)[aS](av,function(bf,bd,bg){a7="radial";if(bd&&bg){a4=Z(bd);S=Z(bg);var be=((S>0.5)*2-1);aP(a4-0.5,2)+aP(S-0.5,2)>0.25&&(S=ae.sqrt(0.25-aP(a4-0.5,2))*be+0.5)&&S!=0.5&&(S=S.toFixed(5)-0.00001*be)}return aw});ba=ba[C](/\s*\-\s*/);if(a7=="linear"){var a3=ba.shift();a3=-Z(a3);if(isNaN(a3)){return null}var R=[0,0,ae.cos(a3*ae.PI/180),ae.sin(a3*ae.PI/180)],a9=1/(g(ae.abs(R[2]),ae.abs(R[3]))||1);R[2]*=a9;R[3]*=a9;if(R[2]<0){R[0]=-R[2];R[2]=0}if(R[3]<0){R[1]=-R[3];R[3]=0}}var a6=q(ba);if(!a6){return null}var e=aM(a7+"Gradient");e.id="r"+(aq._id++)[aD](36);aM(e,a7=="radial"?{fx:a4,fy:S}:{x1:R[0],y1:R[1],x2:R[2],y2:R[3]});d.defs[aO](e);for(var a5=0,bb=a6[n];a5<bb;a5++){var a8=aM("stop");aM(a8,{offset:a6[a5].offset?a6[a5].offset:!a5?"0%":"100%","stop-color":a6[a5].color||"#fff"});e[aO](a8)}aM(E,{fill:"url(#"+e.id+")",opacity:1,"fill-opacity":1});bc.fill=aw;bc.opacity=1;bc.fillOpacity=1;return 1};var Q=function(e){var d=e.getBBox();aM(e.pattern,{patternTransform:aq.format("translate({0},{1})",d.x,d.y)})};var ad=function(ba,bj){var bd={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},bf=ba.node,bb=ba.attrs,a7=ba.rotate(),a3=function(bq,bp){bp=bd[a2.call(bp)];if(bp){var bn=bq.attrs["stroke-width"]||"1",bl={round:bn,square:bn,butt:0}[bq.attrs["stroke-linecap"]||bj["stroke-linecap"]]||0,bo=[];var bm=bp[n];while(bm--){bo[bm]=bp[bm]*bn+((bm%2)?1:-1)*bl}aM(bf,{"stroke-dasharray":bo[aC](",")})}};bj[V]("rotation")&&(a7=bj.rotation);var a6=(a7+aw)[C](a);if(!(a6.length-1)){a6=null}else{a6[1]=+a6[1];a6[2]=+a6[2]}Z(a7)&&ba.rotate(0,true);for(var be in bj){if(bj[V](be)){if(!j[V](be)){continue}var bc=bj[be];bb[be]=bc;switch(be){case"rotation":ba.rotate(bc,true);break;case"href":case"title":case"target":var bh=bf.parentNode;if(a2.call(bh.tagName)!="a"){var R=aM("a");bh.insertBefore(R,bf);R[aO](bf);bh=R}bh.setAttributeNS(ba.paper.xlink,be,bc);break;case"cursor":bf.style.cursor=bc;break;case"clip-rect":var e=(bc+aw)[C](a);if(e[n]==4){ba.clip&&ba.clip.parentNode.parentNode.removeChild(ba.clip.parentNode);var E=aM("clipPath"),bg=aM("rect");E.id="r"+(aq._id++)[aD](36);aM(bg,{x:e[0],y:e[1],width:e[2],height:e[3]});E[aO](bg);ba.paper.defs[aO](E);aM(bf,{"clip-path":"url(#"+E.id+")"});ba.clip=bg}if(!bc){var bi=O.getElementById(bf.getAttribute("clip-path")[aS](/(^url\(#|\)$)/g,aw));bi&&bi.parentNode.removeChild(bi);aM(bf,{"clip-path":aw});delete ba.clip}break;case"path":if(bc&&ba.type=="path"){bb.path=Y(u(bc));aM(bf,{d:bb.path})}break;case"width":bf[y](be,bc);if(bb.fx){be="x";bc=bb.x}else{break}case"x":if(bb.fx){bc=-bb.x-(bb.width||0)}case"rx":if(be=="rx"&&ba.type=="rect"){break}case"cx":a6&&(be=="x"||be=="cx")&&(a6[1]+=bc-bb[be]);bf[y](be,T(bc));ba.pattern&&Q(ba);break;case"height":bf[y](be,bc);if(bb.fy){be="y";bc=bb.y}else{break}case"y":if(bb.fy){bc=-bb.y-(bb.height||0)}case"ry":if(be=="ry"&&ba.type=="rect"){break}case"cy":a6&&(be=="y"||be=="cy")&&(a6[2]+=bc-bb[be]);bf[y](be,T(bc));ba.pattern&&Q(ba);break;case"r":if(ba.type=="rect"){aM(bf,{rx:bc,ry:bc})}else{bf[y](be,bc)}break;case"src":if(ba.type=="image"){bf.setAttributeNS(ba.paper.xlink,"href",bc)}break;case"stroke-width":bf.style.strokeWidth=bc;bf[y](be,bc);if(bb["stroke-dasharray"]){a3(ba,bb["stroke-dasharray"])}break;case"stroke-dasharray":a3(ba,bc);break;case"translation":var a4=(bc+aw)[C](a);a4[0]=+a4[0]||0;a4[1]=+a4[1]||0;if(a6){a6[1]+=a4[0];a6[2]+=a4[1]}w.call(ba,a4[0],a4[1]);break;case"scale":var a4=(bc+aw)[C](a);ba.scale(+a4[0]||1,+a4[1]||+a4[0]||1,+a4[2]||null,+a4[3]||null);break;case"fill":var S=(bc+aw).match(c);if(S){var E=aM("pattern"),a9=aM("image");E.id="r"+(aq._id++)[aD](36);aM(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});aM(a9,{x:0,y:0});a9.setAttributeNS(ba.paper.xlink,"href",S[1]);E[aO](a9);var bk=O.createElement("img");bk.style.cssText="position:absolute;left:-9999em;top-9999em";bk.onload=function(){aM(E,{width:this.offsetWidth,height:this.offsetHeight});aM(a9,{width:this.offsetWidth,height:this.offsetHeight});O.body.removeChild(this);ba.paper.safari()};O.body[aO](bk);bk.src=S[1];ba.paper.defs[aO](E);bf.style.fill="url(#"+E.id+")";aM(bf,{fill:"url(#"+E.id+")"});ba.pattern=E;ba.pattern&&Q(ba);break}if(!aq.getRGB(bc).error){delete bj.gradient;delete bb.gradient;!aq.is(bb.opacity,"undefined")&&aq.is(bj.opacity,"undefined")&&aM(bf,{opacity:bb.opacity});!aq.is(bb["fill-opacity"],"undefined")&&aq.is(bj["fill-opacity"],"undefined")&&aM(bf,{"fill-opacity":bb["fill-opacity"]})}else{if((({circle:1,ellipse:1})[V](ba.type)||(bc+aw).charAt()!="r")&&b(bf,bc,ba.paper)){bb.gradient=bc;bb.fill="none";break}}case"stroke":bf[y](be,aq.getRGB(bc).hex);break;case"gradient":(({circle:1,ellipse:1})[V](ba.type)||(bc+aw).charAt()!="r")&&b(bf,bc,ba.paper);break;case"opacity":case"fill-opacity":if(bb.gradient){var d=O.getElementById(bf.getAttribute("fill")[aS](/^url\(#|\)$/g,aw));if(d){var a5=d.getElementsByTagName("stop");a5[a5[n]-1][y]("stop-opacity",bc)}break}default:be=="font-size"&&(bc=J(bc,10)+"px");var a8=be[aS](/(\-.)/g,function(bl){return aQ.call(bl.substring(1))});bf.style[a8]=bc;bf[y](be,bc);break}}}H(ba,bj);if(a6){ba.rotate(a6.join(ap))}else{Z(a7)&&ba.rotate(a7,true)}};var h=1.2;var H=function(d,R){if(d.type!="text"||!(R[V]("text")||R[V]("font")||R[V]("font-size")||R[V]("x")||R[V]("y"))){return}var a6=d.attrs,e=d.node,a8=e.firstChild?J(O.defaultView.getComputedStyle(e.firstChild,aw).getPropertyValue("font-size"),10):10;if(R[V]("text")){a6.text=R.text;while(e.firstChild){e.removeChild(e.firstChild)}var E=(R.text+aw)[C]("\n");for(var S=0,a7=E[n];S<a7;S++){if(E[S]){var a4=aM("tspan");S&&aM(a4,{dy:a8*h,x:a6.x});a4[aO](O.createTextNode(E[S]));e[aO](a4)}}}else{var E=e.getElementsByTagName("tspan");for(var S=0,a7=E[n];S<a7;S++){S&&aM(E[S],{dy:a8*h,x:a6.x})}}aM(e,{y:a6.y});var a3=d.getBBox(),a5=a6.y-(a3.y+a3.height/2);a5&&isFinite(a5)&&aM(e,{y:a6.y+a5})};var aA=function(e,d){var R=0,E=0;this[0]=e;this.id=aq._oid++;this.node=e;e.raphael=this;this.paper=d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null};aA[a1].rotate=function(e,d,R){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aC](ap)}return this._.rt.deg}var E=this.getBBox();e=(e+aw)[C](a);if(e[n]-1){d=Z(e[1]);R=Z(e[2])}e=Z(e[0]);if(d!=null){this._.rt.deg=e}else{this._.rt.deg+=e}(R==null)&&(d=null);this._.rt.cx=d;this._.rt.cy=R;d=d==null?E.x+E.width/2:d;R=R==null?E.y+E.height/2:R;if(this._.rt.deg){this.transformations[0]=aq.format("rotate({0} {1} {2})",this._.rt.deg,d,R);this.clip&&aM(this.clip,{transform:aq.format("rotate({0} {1} {2})",-this._.rt.deg,d,R)})}else{this.transformations[0]=aw;this.clip&&aM(this.clip,{transform:aw})}aM(this.node,{transform:this.transformations[aC](ap)});return this};aA[a1].hide=function(){!this.removed&&(this.node.style.display="none");return this};aA[a1].show=function(){!this.removed&&(this.node.style.display="");return this};aA[a1].remove=function(){if(this.removed){return}an(this,this.paper);this.node.parentNode.removeChild(this.node);for(var d in this){delete this[d]}this.removed=true};aA[a1].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return X(this.attrs.path)}if(this.node.style.display=="none"){this.show();var E=true}var a4={};try{a4=this.node.getBBox()}catch(S){}finally{a4=a4||{}}if(this.type=="text"){a4={x:a4.x,y:Infinity,width:0,height:0};for(var d=0,R=this.node.getNumberOfChars();d<R;d++){var a3=this.node.getExtentOfChar(d);(a3.y<a4.y)&&(a4.y=a3.y);(a3.y+a3.height-a4.y>a4.height)&&(a4.height=a3.y+a3.height-a4.y);(a3.x+a3.width-a4.x>a4.width)&&(a4.width=a3.x+a3.width-a4.x)}}E&&this.hide();return a4};aA[a1].attr=function(){if(this.removed){return this}if(arguments[n]==0){var R={};for(var E in this.attrs){if(this.attrs[V](E)){R[E]=this.attrs[E]}}this._.rt.deg&&(R.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(R.scale=this.scale());R.gradient&&R.fill=="none"&&(R.fill=R.gradient)&&delete R.gradient;return R}if(arguments[n]==1&&aq.is(arguments[0],"string")){if(arguments[0]=="translation"){return w.call(this)}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}if(arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[arguments[0]]}if(arguments[n]==1&&aq.is(arguments[0],"array")){var d={};for(var e in arguments[0]){if(arguments[0][V](e)){d[arguments[0][e]]=this.attrs[arguments[0][e]]}}return d}if(arguments[n]==2){var S={};S[arguments[0]]=arguments[1];ad(this,S)}else{if(arguments[n]==1&&aq.is(arguments[0],"object")){ad(this,arguments[0])}}return this};aA[a1].toFront=function(){if(this.removed){return this}this.node.parentNode[aO](this.node);var d=this.paper;d.top!=this&&ab(this,d);return this};aA[a1].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);l(this,this.paper);var d=this.paper}return this};aA[a1].insertAfter=function(d){if(this.removed){return this}var e=d.node;if(e.nextSibling){e.parentNode.insertBefore(this.node,e.nextSibling)}else{e.parentNode[aO](this.node)}D(this,d,this.paper);return this};aA[a1].insertBefore=function(d){if(this.removed){return this}var e=d.node;e.parentNode.insertBefore(this.node,e);au(this,d,this.paper);return this};var U=function(e,d,a3,S){d=T(d);a3=T(a3);var R=aM("circle");e.canvas&&e.canvas[aO](R);var E=new aA(R,e);E.attrs={cx:d,cy:a3,r:S,fill:"none",stroke:"#000"};E.type="circle";aM(R,E.attrs);return E};var aI=function(E,d,a5,e,a3,a4){d=T(d);a5=T(a5);var S=aM("rect");E.canvas&&E.canvas[aO](S);var R=new aA(S,E);R.attrs={x:d,y:a5,width:e,height:a3,r:a4||0,rx:a4||0,ry:a4||0,fill:"none",stroke:"#000"};R.type="rect";aM(S,R.attrs);return R};var al=function(e,d,a4,a3,S){d=T(d);a4=T(a4);var R=aM("ellipse");e.canvas&&e.canvas[aO](R);var E=new aA(R,e);E.attrs={cx:d,cy:a4,rx:a3,ry:S,fill:"none",stroke:"#000"};E.type="ellipse";aM(R,E.attrs);return E};var p=function(E,a4,d,a5,e,a3){var S=aM("image");aM(S,{x:d,y:a5,width:e,height:a3,preserveAspectRatio:"none"});S.setAttributeNS(E.xlink,"href",a4);E.canvas&&E.canvas[aO](S);var R=new aA(S,E);R.attrs={x:d,y:a5,width:e,height:a3,src:a4};R.type="image";return R};var aa=function(e,d,a3,S){var R=aM("text");aM(R,{x:d,y:a3,"text-anchor":"middle"});e.canvas&&e.canvas[aO](R);var E=new aA(R,e);E.attrs={x:d,y:a3,"text-anchor":"middle",text:S,font:j.font,stroke:"none",fill:"#000"};E.type="text";ad(E,E.attrs);return E};var aY=function(e,d){this.width=e||this.width;this.height=d||this.height;this.canvas[y]("width",this.width);this.canvas[y]("height",this.height);return this};var z=function(){var R=ar[aZ](null,arguments),E=R&&R.container,e=R.x,a4=R.y,S=R.width,d=R.height;if(!E){throw new Error("SVG container not found.")}var a3=aM("svg");S=S||512;d=d||342;aM(a3,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:S,height:d});if(E==1){a3.style.cssText="position:absolute;left:"+e+"px;top:"+a4+"px";O.body[aO](a3)}else{if(E.firstChild){E.insertBefore(a3,E.firstChild)}else{E[aO](a3)}}E=new aW;E.width=S;E.height=d;E.canvas=a3;aJ.call(E,E,aq.fn);E.clear();return E};aW[a1].clear=function(){var d=this.canvas;while(d.firstChild){d.removeChild(d.firstChild)}this.bottom=this.top=null;(this.desc=aM("desc"))[aO](O.createTextNode("Created with Rapha\xebl"));d[aO](this.desc);d[aO](this.defs=aM("defs"))};aW[a1].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=v(d)}}}if(aq.vml){var aK=function(bb){var a8=/[ahqstv]/ig,a3=u;(bb+aw).match(a8)&&(a3=K);a8=/[clmz]/g;if(a3==u&&!(bb+aw).match(a8)){var e={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},R=/([clmz]),?([^clmz]*)/gi,S=/-?[^,\s-]+/g;var a7=(bb+aw)[aS](R,function(bd,bf,bc){var be=[];bc[aS](S,function(bg){be[f](T(bg))});return e[bf]+be});return a7}var a9=a3(bb),E,a7=[],d;for(var a5=0,ba=a9[n];a5<ba;a5++){E=a9[a5];d=a2.call(a9[a5][0]);d=="z"&&(d="x");for(var a4=1,a6=E[n];a4<a6;a4++){d+=T(E[a4])+(a4!=a6-1?",":aw)}a7[f](d)}return a7[aC](ap)};aq[aD]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var r=function(d,a3){var R=ak("group");R.style.cssText="position:absolute;left:0;top:0;width:"+a3.width+"px;height:"+a3.height+"px";R.coordsize=a3.coordsize;R.coordorigin=a3.coordorigin;var E=ak("shape"),e=E.style;e.width=a3.width+"px";e.height=a3.height+"px";E.coordsize=this.coordsize;E.coordorigin=this.coordorigin;R[aO](E);var S=new aA(E,R,a3);S.isAbsolute=true;S.type="path";S.path=[];S.Path=aw;d&&ad(S,{fill:"none",stroke:"#000",path:d});a3.canvas[aO](R);return S};var ad=function(a7,bc){a7.attrs=a7.attrs||{};var ba=a7.node,bd=a7.attrs,a4=ba.style,R,bh=a7;for(var a5 in bc){if(bc[V](a5)){bd[a5]=bc[a5]}}bc.href&&(ba.href=bc.href);bc.title&&(ba.title=bc.title);bc.target&&(ba.target=bc.target);bc.cursor&&(a4.cursor=bc.cursor);if(bc.path&&a7.type=="path"){bd.path=bc.path;ba.path=aK(bd.path)}if(bc.rotation!=null){a7.rotate(bc.rotation,true)}if(bc.translation){R=(bc.translation+aw)[C](a);w.call(a7,R[0],R[1]);if(a7._.rt.cx!=null){a7._.rt.cx+=+R[0];a7._.rt.cy+=+R[1];a7.setBox(a7.attrs,R[0],R[1])}}if(bc.scale){R=(bc.scale+aw)[C](a);a7.scale(+R[0]||1,+R[1]||+R[0]||1,+R[2]||null,+R[3]||null)}if("clip-rect" in bc){var d=(bc["clip-rect"]+aw)[C](a);if(d[n]==4){d[2]=+d[2]+(+d[0]);d[3]=+d[3]+(+d[1]);var a6=ba.clipRect||O.createElement("div"),bg=a6.style,a3=ba.parentNode;bg.clip=aq.format("rect({1}px {2}px {3}px {0}px)",d);if(!ba.clipRect){bg.position="absolute";bg.top=0;bg.left=0;bg.width=a7.paper.width+"px";bg.height=a7.paper.height+"px";a3.parentNode.insertBefore(a6,a3);a6[aO](a3);ba.clipRect=a6}}if(!bc["clip-rect"]){ba.clipRect&&(ba.clipRect.style.clip=aw)}}if(a7.type=="image"&&bc.src){ba.src=bc.src}if(a7.type=="image"&&bc.opacity){ba.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+(bc.opacity*100)+")";a4.filter=(ba.filterMatrix||aw)+(ba.filterOpacity||aw)}bc.font&&(a4.font=bc.font);bc["font-family"]&&(a4.fontFamily='"'+bc["font-family"][C](",")[0][aS](/^['"]+|['"]+$/g,aw)+'"');bc["font-size"]&&(a4.fontSize=bc["font-size"]);bc["font-weight"]&&(a4.fontWeight=bc["font-weight"]);bc["font-style"]&&(a4.fontStyle=bc["font-style"]);if(bc.opacity!=null||bc["stroke-width"]!=null||bc.fill!=null||bc.stroke!=null||bc["stroke-width"]!=null||bc["stroke-opacity"]!=null||bc["fill-opacity"]!=null||bc["stroke-dasharray"]!=null||bc["stroke-miterlimit"]!=null||bc["stroke-linejoin"]!=null||bc["stroke-linecap"]!=null){ba=a7.shape||ba;var bb=(ba.getElementsByTagName("fill")&&ba.getElementsByTagName("fill")[0]),be=false;!bb&&(be=bb=ak("fill"));if("fill-opacity" in bc||"opacity" in bc){var e=((+bd["fill-opacity"]+1||2)-1)*((+bd.opacity+1||2)-1);e<0&&(e=0);e>1&&(e=1);bb.opacity=e}bc.fill&&(bb.on=true);if(bb.on==null||bc.fill=="none"){bb.on=false}if(bb.on&&bc.fill){var E=bc.fill.match(c);if(E){bb.src=E[1];bb.type="tile"}else{bb.color=aq.getRGB(bc.fill).hex;bb.src=aw;bb.type="solid";if(aq.getRGB(bc.fill).error&&(bh.type in {circle:1,ellipse:1}||(bc.fill+aw).charAt()!="r")&&b(bh,bc.fill)){bd.fill="none";bd.gradient=bc.fill}}}be&&ba[aO](bb);var S=(ba.getElementsByTagName("stroke")&&ba.getElementsByTagName("stroke")[0]),bf=false;!S&&(bf=S=ak("stroke"));if((bc.stroke&&bc.stroke!="none")||bc["stroke-width"]||bc["stroke-opacity"]!=null||bc["stroke-dasharray"]||bc["stroke-miterlimit"]||bc["stroke-linejoin"]||bc["stroke-linecap"]){S.on=true}(bc.stroke=="none"||S.on==null||bc.stroke==0||bc["stroke-width"]==0)&&(S.on=false);S.on&&bc.stroke&&(S.color=aq.getRGB(bc.stroke).hex);var e=((+bd["stroke-opacity"]+1||2)-1)*((+bd.opacity+1||2)-1),a8=(Z(bc["stroke-width"])||1)*0.75;e<0&&(e=0);e>1&&(e=1);bc["stroke-width"]==null&&(a8=bd["stroke-width"]);bc["stroke-width"]&&(S.weight=a8);a8&&a8<1&&(e*=a8)&&(S.weight=1);S.opacity=e;bc["stroke-linejoin"]&&(S.joinstyle=bc["stroke-linejoin"]||"miter");S.miterlimit=bc["stroke-miterlimit"]||8;bc["stroke-linecap"]&&(S.endcap=bc["stroke-linecap"]=="butt"?"flat":bc["stroke-linecap"]=="square"?"square":"round");if(bc["stroke-dasharray"]){var a9={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};S.dashstyle=a9[V](bc["stroke-dasharray"])?a9[bc["stroke-dasharray"]]:aw}bf&&ba[aO](S)}if(bh.type=="text"){var a4=bh.paper.span.style;bd.font&&(a4.font=bd.font);bd["font-family"]&&(a4.fontFamily=bd["font-family"]);bd["font-size"]&&(a4.fontSize=bd["font-size"]);bd["font-weight"]&&(a4.fontWeight=bd["font-weight"]);bd["font-style"]&&(a4.fontStyle=bd["font-style"]);bh.node.string&&(bh.paper.span.innerHTML=(bh.node.string+aw)[aS](/</g,"&#60;")[aS](/&/g,"&#38;")[aS](/\n/g,"<br>"));bh.W=bd.w=bh.paper.span.offsetWidth;bh.H=bd.h=bh.paper.span.offsetHeight;bh.X=bd.x;bh.Y=bd.y+T(bh.H/2);switch(bd["text-anchor"]){case"start":bh.node.style["v-text-align"]="left";bh.bbx=T(bh.W/2);break;case"end":bh.node.style["v-text-align"]="right";bh.bbx=-T(bh.W/2);break;default:bh.node.style["v-text-align"]="center";break}}};var b=function(d,a4){d.attrs=d.attrs||{};var a5=d.attrs,a7=d.node.getElementsByTagName("fill"),S="linear",a3=".5 .5";d.attrs.gradient=a4;a4=(a4+aw)[aS](av,function(ba,bb,a9){S="radial";if(bb&&a9){bb=Z(bb);a9=Z(a9);aP(bb-0.5,2)+aP(a9-0.5,2)>0.25&&(a9=ae.sqrt(0.25-aP(bb-0.5,2))*((a9>0.5)*2-1)+0.5);a3=bb+ap+a9}return aw});a4=a4[C](/\s*\-\s*/);if(S=="linear"){var e=a4.shift();e=-Z(e);if(isNaN(e)){return null}}var R=q(a4);if(!R){return null}d=d.shape||d.node;a7=a7[0]||ak("fill");if(R[n]){a7.on=true;a7.method="none";a7.type=(S=="radial")?"gradientradial":"gradient";a7.color=R[0].color;a7.color2=R[R[n]-1].color;var a8=[];for(var E=0,a6=R[n];E<a6;E++){R[E].offset&&a8[f](R[E].offset+ap+R[E].color)}a7.colors&&(a7.colors.value=a8[n]?a8[aC](","):"0% "+a7.color);if(S=="radial"){a7.focus="100%";a7.focussize=a3;a7.focusposition=a3}else{a7.angle=(270-e)%360}}return 1};var aA=function(S,a4,d){var a3=0,E=0,e=0,R=1;this[0]=S;this.id=aq._oid++;this.node=S;S.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=a4;this.paper=d;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);this.prev=d.top;d.top&&(d.top.next=this);d.top=this;this.next=null};aA[a1].rotate=function(e,d,E){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][aC](ap)}return this._.rt.deg}e=(e+aw)[C](a);if(e[n]-1){d=Z(e[1]);E=Z(e[2])}e=Z(e[0]);if(d!=null){this._.rt.deg=e}else{this._.rt.deg+=e}E==null&&(d=null);this._.rt.cx=d;this._.rt.cy=E;this.setBox(this.attrs,d,E);this.Group.style.rotation=this._.rt.deg;return this};aA[a1].setBox=function(be,e,d){if(this.removed){return this}var a8=this.Group.style,R=(this.shape&&this.shape.style)||this.node.style;be=be||{};for(var bc in be){if(be[V](bc)){this.attrs[bc]=be[bc]}}e=e||this._.rt.cx;d=d||this._.rt.cy;var ba=this.attrs,a4,a3,a5,bd;switch(this.type){case"circle":a4=ba.cx-ba.r;a3=ba.cy-ba.r;a5=bd=ba.r*2;break;case"ellipse":a4=ba.cx-ba.rx;a3=ba.cy-ba.ry;a5=ba.rx*2;bd=ba.ry*2;break;case"rect":case"image":a4=+ba.x;a3=+ba.y;a5=ba.width||0;bd=ba.height||0;break;case"text":this.textpath.v=["m",T(ba.x),", ",T(ba.y-2),"l",T(ba.x)+1,", ",T(ba.y-2)][aC](aw);a4=ba.x-T(this.W/2);a3=ba.y-this.H/2;a5=this.W;bd=this.H;break;case"path":if(!this.attrs.path){a4=0;a3=0;a5=this.paper.width;bd=this.paper.height}else{var bb=X(this.attrs.path);a4=bb.x;a3=bb.y;a5=bb.width;bd=bb.height}break;default:a4=0;a3=0;a5=this.paper.width;bd=this.paper.height;break}e=(e==null)?a4+a5/2:e;d=(d==null)?a3+bd/2:d;var E=e-this.paper.width/2,a7=d-this.paper.height/2;if(this.type=="path"||this.type=="text"){(a8.left!=E+"px")&&(a8.left=E+"px");(a8.top!=a7+"px")&&(a8.top=a7+"px");this.X=this.type=="text"?a4:-E;this.Y=this.type=="text"?a3:-a7;this.W=a5;this.H=bd;(R.left!=-E+"px")&&(R.left=-E+"px");(R.top!=-a7+"px")&&(R.top=-a7+"px")}else{(a8.left!=E+"px")&&(a8.left=E+"px");(a8.top!=a7+"px")&&(a8.top=a7+"px");this.X=a4;this.Y=a3;this.W=a5;this.H=bd;(a8.width!=this.paper.width+"px")&&(a8.width=this.paper.width+"px");(a8.height!=this.paper.height+"px")&&(a8.height=this.paper.height+"px");(R.left!=a4-E+"px")&&(R.left=a4-E+"px");(R.top!=a3-a7+"px")&&(R.top=a3-a7+"px");(R.width!=a5+"px")&&(R.width=a5+"px");(R.height!=bd+"px")&&(R.height=bd+"px");var S=(+be.r||0)/aL(a5,bd);if(this.type=="rect"&&this.arcsize.toFixed(4)!=S.toFixed(4)&&(S||this.arcsize)){var a9=ak("roundrect"),bf={},bc=0,a6=this.events&&this.events[n];a9.arcsize=S;a9.raphael=this;this.Group[aO](a9);this.Group.removeChild(this.node);this[0]=this.node=a9;this.arcsize=S;for(var bc in ba){bf[bc]=ba[bc]}delete bf.scale;this.attr(bf);if(this.events){for(;bc<a6;bc++){this.events[bc].unbind=ah(this.node,this.events[bc].name,this.events[bc].f,this)}}}}};aA[a1].hide=function(){!this.removed&&(this.Group.style.display="none");return this};aA[a1].show=function(){!this.removed&&(this.Group.style.display="block");return this};aA[a1].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return X(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};aA[a1].remove=function(){if(this.removed){return}an(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var d in this){delete this[d]}this.removed=true};aA[a1].attr=function(){if(this.removed){return this}if(arguments[n]==0){var E={};for(var e in this.attrs){if(this.attrs[V](e)){E[e]=this.attrs[e]}}this._.rt.deg&&(E.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(E.scale=this.scale());E.gradient&&E.fill=="none"&&(E.fill=E.gradient)&&delete E.gradient;return E}if(arguments[n]==1&&aq.is(arguments[0],"string")){if(arguments[0]=="translation"){return w.call(this)}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}if(arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[arguments[0]]}if(this.attrs&&arguments[n]==1&&aq.is(arguments[0],"array")){var d={};for(var e=0,R=arguments[0][n];e<R;e++){d[arguments[0][e]]=this.attrs[arguments[0][e]]}return d}var S;if(arguments[n]==2){S={};S[arguments[0]]=arguments[1]}arguments[n]==1&&aq.is(arguments[0],"object")&&(S=arguments[0]);if(S){if(S.text&&this.type=="text"){this.node.string=S.text}ad(this,S);if(S.gradient&&(({circle:1,ellipse:1})[V](this.type)||(S.gradient+aw).charAt()!="r")){b(this,S.gradient)}(this.type!="path"||this._.rt.deg)&&this.setBox(this.attrs)}return this};aA[a1].toFront=function(){!this.removed&&this.Group.parentNode[aO](this.Group);this.paper.top!=this&&ab(this,this.paper);return this};aA[a1].toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);l(this,this.paper)}return this};aA[a1].insertAfter=function(d){if(this.removed){return this}if(d.Group.nextSibling){d.Group.parentNode.insertBefore(this.Group,d.Group.nextSibling)}else{d.Group.parentNode[aO](this.Group)}D(this,d,this.paper);return this};aA[a1].insertBefore=function(d){if(this.removed){return this}d.Group.parentNode.insertBefore(this.Group,d.Group);au(this,d,this.paper);return this};var U=function(e,d,a5,a3){var S=ak("group"),a4=ak("oval"),E=a4.style;S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;S[aO](a4);var R=new aA(a4,S,e);R.type="circle";ad(R,{stroke:"#000",fill:"none"});R.attrs.cx=d;R.attrs.cy=a5;R.attrs.r=a3;R.setBox({x:d-a3,y:a5-a3,width:a3*2,height:a3*2});e.canvas[aO](S);return R},aI=function(e,a5,a4,a6,R,d){var S=ak("group"),E=ak("roundrect"),a7=(+d||0)/(aL(a6,R));S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;S[aO](E);E.arcsize=a7;var a3=new aA(E,S,e);a3.type="rect";ad(a3,{stroke:"#000"});a3.arcsize=a7;a3.setBox({x:a5,y:a4,width:a6,height:R,r:d});e.canvas[aO](S);return a3},al=function(d,a6,a5,E,e){var S=ak("group"),R=ak("oval"),a4=R.style;S.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";S.coordsize=d.coordsize;S.coordorigin=d.coordorigin;S[aO](R);var a3=new aA(R,S,d);a3.type="ellipse";ad(a3,{stroke:"#000"});a3.attrs.cx=a6;a3.attrs.cy=a5;a3.attrs.rx=E;a3.attrs.ry=e;a3.setBox({x:a6-E,y:a5-e,width:E*2,height:e*2});d.canvas[aO](S);return a3},p=function(e,d,a6,a5,a7,R){var S=ak("group"),E=ak("image"),a4=E.style;S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;E.src=d;S[aO](E);var a3=new aA(E,S,e);a3.type="image";a3.attrs.src=d;a3.attrs.x=a6;a3.attrs.y=a5;a3.attrs.w=a7;a3.attrs.h=R;a3.setBox({x:a6,y:a5,width:a7,height:R});e.canvas[aO](S);return a3},aa=function(e,a6,a5,a7){var S=ak("group"),R=ak("shape"),a4=R.style,a8=ak("path"),d=a8.style,E=ak("textpath");S.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";S.coordsize=e.coordsize;S.coordorigin=e.coordorigin;a8.v=aq.format("m{0},{1}l{2},{1}",T(a6),T(a5),T(a6)+1);a8.textpathok=true;a4.width=e.width;a4.height=e.height;E.string=a7+aw;E.on=true;R[aO](E);R[aO](a8);S[aO](R);var a3=new aA(E,S,e);a3.shape=R;a3.textpath=a8;a3.type="text";a3.attrs.text=a7;a3.attrs.x=a6;a3.attrs.y=a5;a3.attrs.w=1;a3.attrs.h=1;ad(a3,{font:j.font,stroke:"none",fill:"#000"});a3.setBox();e.canvas[aO](S);return a3},aY=function(E,d){var e=this.canvas.style;E==+E&&(E+="px");d==+d&&(d+="px");e.width=E;e.height=d;e.clip="rect(0 "+E+" "+d+" 0)";return this},ak;O.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!O.namespaces.rvml&&O.namespaces.add("rvml","urn:schemas-microsoft-com:vml");ak=function(d){return O.createElement("<rvml:"+d+' class="rvml">')}}catch(ai){ak=function(d){return O.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var z=function(){var E=ar[aZ](null,arguments),d=E.container,a6=E.height,a7,e=E.width,a5=E.x,a4=E.y;if(!d){throw new Error("VML container not found.")}var S=new aW,a3=S.canvas=O.createElement("div"),R=a3.style;e=e||512;a6=a6||342;e==+e&&(e+="px");a6==+a6&&(a6+="px");S.width=1000;S.height=1000;S.coordsize="1000 1000";S.coordorigin="0 0";S.span=O.createElement("span");S.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";a3[aO](S.span);R.cssText=aq.format("width:{0};height:{1};position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",e,a6);if(d==1){O.body[aO](a3);R.left=a5+"px";R.top=a4+"px"}else{d.style.width=e;d.style.height=a6;if(d.firstChild){d.insertBefore(a3,d.firstChild)}else{d[aO](a3)}}aJ.call(S,S,aq.fn);return S};aW[a1].clear=function(){this.canvas.innerHTML=aw;this.span=O.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[aO](this.span);this.bottom=this.top=null};aW[a1].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var d in this){this[d]=v(d)}}}if((/^Apple|^Google/).test(navigator.vendor)&&!(navigator.userAgent.indexOf("Version/4.0")+1)){aW[a1].safari=function(){var d=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){d.remove()})}}else{aW[a1].safari=function(){}}var ah=(function(){if(O.addEventListener){return function(S,E,e,d){var R=function(a3){return e.call(d,a3)};S.addEventListener(E,R,false);return function(){S.removeEventListener(E,R,false);return true}}}else{if(O.attachEvent){return function(a3,R,E,e){var S=function(a4){return E.call(e,a4||ax.event)};a3.attachEvent("on"+R,S);var d=function(){a3.detachEvent("on"+R,S);return true};return d}}}})();for(var af=I[n];af--;){(function(d){aA[a1][d]=function(e){if(aq.is(e,"function")){this.events=this.events||[];this.events.push({name:d,f:e,unbind:ah(this.shape||this.node,d,e,this)})}return this};aA[a1]["un"+d]=function(R){var E=this.events,e=E[n];while(e--){if(E[e].name==d&&E[e].f==R){E[e].unbind();E.splice(e,1);!E.length&&delete this.events;return this}}return this}})(I[af])}aA[a1].hover=function(e,d){return this.mouseover(e).mouseout(d)};aA[a1].unhover=function(e,d){return this.unmouseover(e).unmouseout(d)};aW[a1].circle=function(d,E,e){return U(this,d||0,E||0,e||0)};aW[a1].rect=function(d,S,e,E,R){return aI(this,d||0,S||0,e||0,E||0,R||0)};aW[a1].ellipse=function(d,R,E,e){return al(this,d||0,R||0,E||0,e||0)};aW[a1].path=function(d){d&&!aq.is(d,"string")&&!aq.is(d[0],"array")&&(d+=aw);return r(aq.format[aZ](aq,arguments),this)};aW[a1].image=function(R,d,S,e,E){return p(this,R||"about:blank",d||0,S||0,e||0,E||0)};aW[a1].text=function(d,E,e){return aa(this,d||0,E||0,e||aw)};aW[a1].set=function(d){arguments[n]>1&&(d=Array[a1].splice.call(arguments,0,arguments[n]));return new W(d)};aW[a1].setSize=aY;aW[a1].top=aW[a1].bottom=null;aW[a1].raphael=aq;function x(){return this.x+ap+this.y}aA[a1].scale=function(a9,a8,E,e){if(a9==null&&a8==null){return{x:this._.sx,y:this._.sy,toString:x}}a8=a8||a9;!+a8&&(a8=a9);var be,bc,bd,ba,bp=this.attrs;if(a9!=0){var a7=this.getBBox(),a4=a7.x+a7.width/2,R=a7.y+a7.height/2,bo=a9/this._.sx,bn=a8/this._.sy;E=(+E||E==0)?E:a4;e=(+e||e==0)?e:R;var a6=~~(a9/ae.abs(a9)),a3=~~(a8/ae.abs(a8)),bh=this.node.style,br=E+(a4-E)*bo,bq=e+(R-e)*bn;switch(this.type){case"rect":case"image":var a5=bp.width*a6*bo,bg=bp.height*a3*bn;this.attr({height:bg,r:bp.r*aL(a6*bo,a3*bn),width:a5,x:br-a5/2,y:bq-bg/2});break;case"circle":case"ellipse":this.attr({rx:bp.rx*a6*bo,ry:bp.ry*a3*bn,r:bp.r*aL(a6*bo,a3*bn),cx:br,cy:bq});break;case"path":var bj=ag(bp.path),bk=true;for(var bm=0,bf=bj[n];bm<bf;bm++){var bi=bj[bm],bl,S=aQ.call(bi[0]);if(S=="M"&&bk){continue}else{bk=false}if(S=="A"){bi[bj[bm][n]-2]*=bo;bi[bj[bm][n]-1]*=bn;bi[1]*=a6*bo;bi[2]*=a3*bn;bi[5]=+(a6+a3?!!+bi[5]:!+bi[5])}else{if(S=="H"){for(bl=1,jj=bi[n];bl<jj;bl++){bi[bl]*=bo}}else{if(S=="V"){for(bl=1,jj=bi[n];bl<jj;bl++){bi[bl]*=bn}}else{for(bl=1,jj=bi[n];bl<jj;bl++){bi[bl]*=(bl%2)?bo:bn}}}}}var d=X(bj),be=br-d.x-d.width/2,bc=bq-d.y-d.height/2;bj[0][1]+=be;bj[0][2]+=bc;this.attr({path:bj});break}if(this.type in {text:1,image:1}&&(a6!=1||a3!=1)){if(this.transformations){this.transformations[2]="scale("[aV](a6,",",a3,")");this.node[y]("transform",this.transformations[aC](ap));be=(a6==-1)?-bp.x-(a5||0):bp.x;bc=(a3==-1)?-bp.y-(bg||0):bp.y;this.attr({x:be,y:bc});bp.fx=a6-1;bp.fy=a3-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11="[aV](a6,", M12=0, M21=0, M22=",a3,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");bh.filter=(this.node.filterMatrix||aw)+(this.node.filterOpacity||aw)}}else{if(this.transformations){this.transformations[2]=aw;this.node[y]("transform",this.transformations[aC](ap));bp.fx=0;bp.fy=0}else{this.node.filterMatrix=aw;bh.filter=(this.node.filterMatrix||aw)+(this.node.filterOpacity||aw)}}bp.scale=[a9,a8,E,e][aC](ap);this._.sx=a9;this._.sy=a8}return this};aA[a1].clone=function(){var d=this.attr();delete d.scale;delete d.translation;return this.paper[this.type]().attr(d)};var aE=function(d,e){return function(bc,S,a3){bc=K(bc);var a8,a7,E,a4,R="",bb={},a9,a6=0;for(var a5=0,ba=bc.length;a5<ba;a5++){E=bc[a5];if(E[0]=="M"){a8=+E[1];a7=+E[2]}else{a4=o(a8,a7,E[1],E[2],E[3],E[4],E[5],E[6]);if(a6+a4>S){if(e&&!bb.start){a9=aq.findDotsAtSegment(a8,a7,E[1],E[2],E[3],E[4],E[5],E[6],(S-a6)/a4);R+=["C",a9.start.x,a9.start.y,a9.m.x,a9.m.y,a9.x,a9.y];if(a3){return R}bb.start=R;R=["M",a9.x,a9.y+"C",a9.n.x,a9.n.y,a9.end.x,a9.end.y,E[5],E[6]][aC]();a6+=a4;a8=+E[5];a7=+E[6];continue}if(!d&&!e){a9=aq.findDotsAtSegment(a8,a7,E[1],E[2],E[3],E[4],E[5],E[6],(S-a6)/a4);return{x:a9.x,y:a9.y,alpha:a9.alpha}}}a6+=a4;a8=+E[5];a7=+E[6]}R+=E}bb.end=R;a9=d?a6:e?bb:aq.findDotsAtSegment(a8,a7,E[1],E[2],E[3],E[4],E[5],E[6],1);a9.alpha&&(a9={x:a9.x,y:a9.y,alpha:a9.alpha});return a9}},o=am(function(E,d,a3,S,a9,a8,a7,a6){var R={x:0,y:0},a5=0;for(var a4=0;a4<1.01;a4+=0.01){var e=P(E,d,a3,S,a9,a8,a7,a6,a4);a4&&(a5+=ae.sqrt(aP(R.x-e.x,2)+aP(R.y-e.y,2)));R=e}return a5});var at=aE(1),G=aE(),M=aE(0,1);aA[a1].getTotalLength=function(){if(this.type!="path"){return}return at(this.attrs.path)};aA[a1].getPointAtLength=function(d){if(this.type!="path"){return}return G(this.attrs.path,d)};aA[a1].getSubpath=function(E,e){if(this.type!="path"){return}if(ae.abs(this.getTotalLength()-e)<0.000001){return M(this.attrs.path,E).end}var d=M(this.attrs.path,e,1);return E?M(d,E).end:d};aq.easing_formulas={linear:function(d){return d},"<":function(d){return aP(d,3)},">":function(d){return aP(d-1,3)+1},"<>":function(d){d=d*2;if(d<1){return aP(d,3)/2}d-=2;return(aP(d,3)+2)/2},backIn:function(e){var d=1.70158;return e*e*((d+1)*e-d)},backOut:function(e){e=e-1;var d=1.70158;return e*e*((d+1)*e+d)+1},elastic:function(E){if(E==0||E==1){return E}var e=0.3,d=e/4;return aP(2,-10*E)*ae.sin((E-d)*(2*ae.PI)/e)+1},bounce:function(R){var e=7.5625,E=2.75,d;if(R<(1/E)){d=e*R*R}else{if(R<(2/E)){R-=(1.5/E);d=e*R*R+0.75}else{if(R<(2.5/E)){R-=(2.25/E);d=e*R*R+0.9375}else{R-=(2.625/E);d=e*R*R+0.984375}}}return d}};var L={length:0},aU=function(){var a5=+new Date;for(var bh in L){if(bh!="length"&&L[V](bh)){var bm=L[bh];if(bm.stop){delete L[bh];L[n]--;continue}var a3=a5-bm.start,be=bm.ms,bd=bm.easing,bi=bm.from,ba=bm.diff,E=bm.to,a9=bm.t,bc=bm.prev||0,a4=bm.el,R=bm.callback,bb={},d;if(a3<be){var S=aq.easing_formulas[bd]?aq.easing_formulas[bd](a3/be):a3/be;for(var bf in bi){if(bi[V](bf)){switch(ac[bf]){case"along":d=S*be*ba[bf];E.back&&(d=E.len-d);var bg=G(E[bf],d);a4.translate(ba.sx-ba.x||0,ba.sy-ba.y||0);ba.x=bg.x;ba.y=bg.y;a4.translate(bg.x-ba.sx,bg.y-ba.sy);E.rot&&a4.rotate(ba.r+bg.alpha,bg.x,bg.y);break;case"number":d=+bi[bf]+S*be*ba[bf];break;case"colour":d="rgb("+[F(T(bi[bf].r+S*be*ba[bf].r)),F(T(bi[bf].g+S*be*ba[bf].g)),F(T(bi[bf].b+S*be*ba[bf].b))][aC](",")+")";break;case"path":d=[];for(var bk=0,a8=bi[bf][n];bk<a8;bk++){d[bk]=[bi[bf][bk][0]];for(var bj=1,bl=bi[bf][bk][n];bj<bl;bj++){d[bk][bj]=+bi[bf][bk][bj]+S*be*ba[bf][bk][bj]}d[bk]=d[bk][aC](ap)}d=d[aC](ap);break;case"csv":switch(bf){case"translation":var a7=ba[bf][0]*(a3-bc),a6=ba[bf][1]*(a3-bc);a9.x+=a7;a9.y+=a6;d=a7+ap+a6;break;case"rotation":d=+bi[bf][0]+S*be*ba[bf][0];bi[bf][1]&&(d+=","+bi[bf][1]+","+bi[bf][2]);break;case"scale":d=[+bi[bf][0]+S*be*ba[bf][0],+bi[bf][1]+S*be*ba[bf][1],(2 in E[bf]?E[bf][2]:aw),(3 in E[bf]?E[bf][3]:aw)][aC](ap);break;case"clip-rect":d=[];var bk=4;while(bk--){d[bk]=+bi[bf][bk]+S*be*ba[bf][bk]}break}break}bb[bf]=d}}a4.attr(bb);a4._run&&a4._run.call(a4)}else{if(E.along){var bg=G(E.along,E.len*!E.back);a4.translate(ba.sx-(ba.x||0)+bg.x-ba.sx,ba.sy-(ba.y||0)+bg.y-ba.sy);E.rot&&a4.rotate(ba.r+bg.alpha,bg.x,bg.y)}(a9.x||a9.y)&&a4.translate(-a9.x,-a9.y);E.scale&&(E.scale=E.scale+aw);a4.attr(E);delete L[bh];L[n]--;a4.in_animation=null;aq.is(R,"function")&&R.call(a4)}bm.prev=a3}}aq.svg&&a4&&a4.paper.safari();L[n]&&setTimeout(aU)},F=function(d){return d>255?255:(d<0?0:d)},w=function(d,E){if(d==null){return{x:this._.tx,y:this._.ty,toString:x}}this._.tx+=+d;this._.ty+=+E;switch(this.type){case"circle":case"ellipse":this.attr({cx:+d+this.attrs.cx,cy:+E+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+d+this.attrs.x,y:+E+this.attrs.y});break;case"path":var e=ag(this.attrs.path);e[0][1]+=+d;e[0][2]+=+E;this.attr({path:e});break}return this};aA[a1].animateWith=function(e,E,d,S,R){L[e.id]&&(E.start=L[e.id].start);return this.animate(E,d,S,R)};aA[a1].animateAlong=aB();aA[a1].animateAlongBack=aB(1);function aB(d){return function(R,E,e,a3){var S={back:d};aq.is(e,"function")?(a3=e):(S.rot=e);R&&R.constructor==aA&&(R=R.attrs.path);R&&(S.along=R);return this.animate(S,E,a3)}}aA[a1].onAnimation=function(d){this._run=d||0;return this};aA[a1].animate=function(bh,a8,a7,E){if(aq.is(a7,"function")||!a7){E=a7||null}var bc={},e={},a5={};for(var a9 in bh){if(bh[V](a9)){if(ac[V](a9)){bc[a9]=this.attr(a9);(bc[a9]==null)&&(bc[a9]=j[a9]);e[a9]=bh[a9];switch(ac[a9]){case"along":var bf=at(bh[a9]),ba=G(bh[a9],bf*!!bh.back),R=this.getBBox();a5[a9]=bf/a8;a5.tx=R.x;a5.ty=R.y;a5.sx=ba.x;a5.sy=ba.y;e.rot=bh.rot;e.back=bh.back;e.len=bf;bh.rot&&(a5.r=Z(this.rotate())||0);break;case"number":a5[a9]=(e[a9]-bc[a9])/a8;break;case"colour":bc[a9]=aq.getRGB(bc[a9]);var bb=aq.getRGB(e[a9]);a5[a9]={r:(bb.r-bc[a9].r)/a8,g:(bb.g-bc[a9].g)/a8,b:(bb.b-bc[a9].b)/a8};break;case"path":var S=K(bc[a9],e[a9]);bc[a9]=S[0];var a6=S[1];a5[a9]=[];for(var be=0,a4=bc[a9][n];be<a4;be++){a5[a9][be]=[0];for(var bd=1,bg=bc[a9][be][n];bd<bg;bd++){a5[a9][be][bd]=(a6[be][bd]-bc[a9][be][bd])/a8}}break;case"csv":var d=(bh[a9]+aw)[C](a),a3=(bc[a9]+aw)[C](a);switch(a9){case"translation":bc[a9]=[0,0];a5[a9]=[d[0]/a8,d[1]/a8];break;case"rotation":bc[a9]=(a3[1]==d[1]&&a3[2]==d[2])?a3:[0,d[1],d[2]];a5[a9]=[(d[0]-bc[a9][0])/a8,0,0];break;case"scale":bh[a9]=d;bc[a9]=(bc[a9]+aw)[C](a);a5[a9]=[(d[0]-bc[a9][0])/a8,(d[1]-bc[a9][1])/a8,0,0];break;case"clip-rect":bc[a9]=(bc[a9]+aw)[C](a);a5[a9]=[];var be=4;while(be--){a5[a9][be]=(d[be]-bc[a9][be])/a8}break}e[a9]=d}}}}this.stop();this.in_animation=1;L[this.id]={start:bh.start||+new Date,ms:a8,easing:a7,from:bc,diff:a5,to:e,el:this,callback:E,t:{x:0,y:0}};++L[n]==1&&aU();return this};aA[a1].stop=function(){L[this.id]&&L[n]--;delete L[this.id];return this};aA[a1].translate=function(d,e){return this.attr({translation:d+" "+e})};aA[a1][aD]=function(){return"Rapha\xebl\u2019s object"};aq.ae=L;var W=function(d){this.items=[];this[n]=0;if(d){for(var e=0,E=d[n];e<E;e++){if(d[e]&&(d[e].constructor==aA||d[e].constructor==W)){this[this.items[n]]=this.items[this.items[n]]=d[e];this[n]++}}}};W[a1][f]=function(){var R,d;for(var e=0,E=arguments[n];e<E;e++){R=arguments[e];if(R&&(R.constructor==aA||R.constructor==W)){d=this.items[n];this[d]=this.items[d]=R;this[n]++}}return this};W[a1].pop=function(){delete this[this[n]--];return this.items.pop()};for(var B in aA[a1]){if(aA[a1][V](B)){W[a1][B]=(function(d){return function(){for(var e=0,E=this.items[n];e<E;e++){this.items[e][d][aZ](this.items[e],arguments)}return this}})(B)}}W[a1].attr=function(e,a3){if(e&&aq.is(e,"array")&&aq.is(e[0],"object")){for(var d=0,S=e[n];d<S;d++){this.items[d].attr(e[d])}}else{for(var E=0,R=this.items[n];E<R;E++){this.items[E].attr[aZ](this.items[E],arguments)}}return this};W[a1].animate=function(S,e,a5,a4){(aq.is(a5,"function")||!a5)&&(a4=a5||null);var d=this.items[n],E=d,a3=this,R;a4&&(R=function(){!--d&&a4.call(a3)});this.items[--E].animate(S,e,a5||R,R);while(E--){this.items[E].animateWith(this.items[d-1],S,e,a5||R,R)}return this};W[a1].insertAfter=function(e){var d=this.items[n];while(d--){this.items[d].insertAfter(e)}return this};W[a1].getBBox=function(){var d=[],a3=[],e=[],R=[];for(var E=this.items[n];E--;){var S=this.items[E].getBBox();d[f](S.x);a3[f](S.y);e[f](S.x+S.width);R[f](S.y+S.height)}d=aL[aZ](0,d);a3=aL[aZ](0,a3);return{x:d,y:a3,width:g[aZ](0,e)-d,height:g[aZ](0,R)-a3}};aq.registerFont=function(e){if(!e.face){return e}this.fonts=this.fonts||{};var R={w:e.w,face:{},glyphs:{}},E=e.face["font-family"];for(var a4 in e.face){if(e.face[V](a4)){R.face[a4]=e.face[a4]}}if(this.fonts[E]){this.fonts[E][f](R)}else{this.fonts[E]=[R]}if(!e.svg){R.face["units-per-em"]=J(e.face["units-per-em"],10);for(var S in e.glyphs){if(e.glyphs[V](S)){var a3=e.glyphs[S];R.glyphs[S]={w:a3.w,k:{},d:a3.d&&"M"+a3.d[aS](/[mlcxtrv]/g,function(a5){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a5]||"M"})+"z"};if(a3.k){for(var d in a3.k){if(a3[V](d)){R.glyphs[S].k[d]=a3.k[d]}}}}}}return e};aW[a1].getFont=function(a5,a6,e,R){R=R||"normal";e=e||"normal";a6=+a6||{normal:400,bold:700,lighter:300,bolder:800}[a6]||400;var S=aq.fonts[a5];if(!S){var E=new RegExp("(^|\\s)"+a5[aS](/[^\w\d\s+!~.:_-]/g,aw)+"(\\s|$)","i");for(var d in aq.fonts){if(aq.fonts[V](d)){if(E.test(d)){S=aq.fonts[d];break}}}}var a3;if(S){for(var a4=0,a7=S[n];a4<a7;a4++){a3=S[a4];if(a3.face["font-weight"]==a6&&(a3.face["font-style"]==e||!a3.face["font-style"])&&a3.face["font-stretch"]==R){break}}}return a3};aW[a1].print=function(R,E,d,a4,a5,be){be=be||"middle";var ba=this.set(),bd=(d+aw)[C](aw),bb=0,a7=aw,bf;aq.is(a4,"string")&&(a4=this.getFont(a4));if(a4){bf=(a5||16)/a4.face["units-per-em"];var e=a4.face.bbox.split(a),a3=+e[0],a6=+e[1]+(be=="baseline"?e[3]-e[1]+(+a4.face.descent):(e[3]-e[1])/2);for(var a9=0,S=bd[n];a9<S;a9++){var a8=a9&&a4.glyphs[bd[a9-1]]||{},bc=a4.glyphs[bd[a9]];bb+=a9?(a8.w||a4.w)+(a8.k&&a8.k[bd[a9]]||0):0;bc&&bc.d&&ba[f](this.path(bc.d).attr({fill:"#000",stroke:"none",translation:[bb,0]}))}ba.scale(bf,bf,a3,a6).translate(R-a3,E-a6)}return ba};aq.format=function(E){var e=aq.is(arguments[1],"array")?[0][aV](arguments[1]):arguments,d=/\{(\d+)\}/g;E&&aq.is(E,"string")&&e[n]-1&&(E=E[aS](d,function(S,R){return e[++R]==null?aw:e[R]}));return E||aw};aq.ninja=function(){var d=Raphael;if(m.was){Raphael=m.is}else{delete Raphael}return d};aq.el=aA[a1];return aq})();
/*
 * COPYRIGHT 2010 - BlueTools B.V. / MoneyBird
 * ALL RIGHTS RESERVED
 * Date: 13 February 2010
 */
(function(a){jQuery.fn.signature=function(c){function b(g,h,f){offset=g.offset();return{x:h-offset.left,y:f-offset.top}}function e(f){pathData=[];a.each(f,function(h,g){if(h==0){pathData.push("M")}pathData.push(g.x);pathData.push(g.y);if(h==0||(h%3==0&&h!=1&&h!=f.length-1)){pathData.push("C")}});return pathData}function d(f){serialization=[];a.each(f,function(){serialization.push(e(this).join(" "))});return serialization.join(" ")}return this.each(function(){$this=a(this);width=330;height=75;var m=[],f=[],j=[],h=false,g={fill:"",stroke:"#000","stroke-width":3,"stroke-linecap":"round","stroke-miterlimit":10,"stroke-linejoin":"round"};$this.css("position","relative");$drawpad=a("<div>").height(height).width(width).css({"z-index":150,position:"absolute",top:0,left:0,background:"transparent url('/images/spacer.gif') repeat",cursor:"crosshair"}).prependTo($this);a("<p>").html(c.triggerText).prependTo($drawpad);a("<a>").html(c.clearText).attr("class","clear").prependTo($drawpad);var l=Raphael(this,width,height);$drawpad.qtip({content:c.tooltip,show:"mouseover",hide:"mouseout",position:{corner:{target:"topMiddle",tooltip:"bottomMiddle"}},style:{background:"#FFFFCC",color:"black",border:{radius:4,width:4},name:"dark",tip:"bottomMiddle"},show:{delay:0,effect:{length:0}}});$drawpad.bind("mousedown",function(n){h=true;mousePosition=b(a(this),n.pageX,n.pageY);m.push([mousePosition]);f.push(l.path(e(m[m.length-1])).attr(g));return false}).bind("mousemove",function(n){if(h){mousePosition=b(a(this),n.pageX,n.pageY);m[m.length-1].push(mousePosition);j.push([(new Date).getTime(),mousePosition.x,mousePosition.y]);if(m[m.length-1].length%3==1){f[f.length-1].remove();f[f.length-1]=l.path(e(m[m.length-1])).attr(g)}if(c.field){a(c.field).val(d(m))}if(c.auditField){a(c.auditField).val(JSON.stringify(j))}}return false}).bind("mouseover",function(){a(this).find("p").hide()}).bind("mouseout",function(){if(m.length==0){a(this).find("p").show()}});a("body").bind("mouseup",function(n){h=false;return false});$this.find(".clear").click(function(){a.each(f,function(n,o){o.remove()});m=[];f=[];return false})})}})(jQuery);(function(a){jQuery.fn.contactEditor=function(b){return this.each(function(){$contactFieldset=a(this);updateDocumentContact=function(){if(a("input.document_attention",$contactFieldset).val()==""){if(a("input.document_company_name",$contactFieldset).val()!=""&&(a("input.document_firstname",$contactFieldset).val()!=""||a("input.document_lastname",$contactFieldset).val()!="")){a("input.document_attention",$contactFieldset).hide();a("div#attention_placeholder",$contactFieldset).show();a("#attention_placeholder_label",$contactFieldset).text(a("input.document_firstname",$contactFieldset).val()+" "+a("input.document_lastname",$contactFieldset).val())}else{a("div#attention_placeholder",$contactFieldset).hide();a("input.document_attention",$contactFieldset).show()}}};a("input[type=hidden].contact_id",$contactFieldset).live("change",function(){$this=a(this);$fieldset=$this.parents("fieldset");$fieldset.find("input:text, textarea, select").not(".contact_id").not(".new_contact").val("");updateDocumentContact();if($this.val()!=""){a("#loader").show();a.getJSON(a("#contact_url").val()+"/"+$this.val()+".json",function(c){a.each(["company_name","attention","firstname","lastname","address1","address2","zipcode","city","country"],function(){if(c.contact[this]!=null){$fieldset.find("input.document_"+this).val(c.contact[this])}});updateDocumentContact.call();a("input.document_copy_contact_information_field",$contactFieldset).hide();a("#loader").hide()},"json")}});a("input.document_company_name, input.document_firstname, input.document_lastname, input.document_attention",$contactFieldset).keyup(updateDocumentContact);a("#attention_placeholder a",$contactFieldset).click(function(){a("#attention_placeholder",$contactFieldset).hide();a("input.document_attention",$contactFieldset).show().focus();return false});a("input:text",$contactFieldset).live("keydown",function(){if(a("input[type=hidden].contact_id",$contactFieldset).val()!=""){a(".document_copy_contact_information_field",$contactFieldset).show()}});a("input.document_attention",$contactFieldset).live("blur",updateDocumentContact);$contactFieldset.bind("startEdit",updateDocumentContact)})}})(jQuery);(function(a){a(function(){a("div.editable").live("saveable",function(){a(".document_unsaved").show();a(".document_edit_before_save").hide()});a("div.editable").live("startEdit",function(){a("#unsaved input:submit").attr("disabled",true)}).live("stopEdit",function(){a("#unsaved input:submit").removeAttr("disabled")});a("#estimate_pre_text, #estimate_post_text").autogrow({lines:4});a(".send_estimate input:radio").live("change",function(){a(".send_estimate .toggle_option").hide();a("#"+a(this).attr("class").match(/toggle_([a-z_]+)/)[1]).show()});a("#estimate_sign_online").live("change",function(){a("#sign_sender_option").toggle(a(this).is(":checkbox:checked"))}).trigger("change");a("#estimate_sign_sender").live("change",function(){a("#signature_box").toggle(a(this).is(":checkbox:checked"))}).trigger("change");a("body").bind("popup:loaded",function(){a(".send_estimate input:radio:checked").trigger("change");a("#estimate_sign_online:checkbox").trigger("change");a("#estimate_sign_sender:checkbox").trigger("change")});setDueDateInterval=function(){if(a("#estimate_due_date_interval_select").length>0){var b=[];a("#estimate_due_date_interval_select option").each(function(){if(a(this).val()!=""){b.push(parseInt(a(this).val()))}});if(a.inArray(parseInt(a("#estimate_due_date_interval").val()),b)==-1){a("#estimate_due_date_interval_select").val("");a("#estimate_due_date_interval_select").next().show()}a("#estimate_due_date_interval_select").bind("change",function(){if(a(this).val()==""){a(this).next().show()}else{a(this).next().hide();a("#estimate_due_date_interval").val(a(this).val())}})}};setDueDateInterval.call();a("div.editable.estimate_header").bind("updated",setDueDateInterval)})})(jQuery);(function(d){var a="Lite-1.0";d.fn.cycle=function(e){return this.each(function(){e=e||{};if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=0;this.cyclePause=0;var j=d(this);var l=e.slideExpr?d(e.slideExpr,this):j.children();var g=l.get();if(g.length<2){if(window.console&&window.console.log){window.console.log("terminating; too few slides: "+g.length)}return}var h=d.extend({},d.fn.cycle.defaults,e||{},d.metadata?j.metadata():d.meta?j.data():{});h.before=h.before?[h.before]:[];h.after=h.after?[h.after]:[];h.after.unshift(function(){h.busy=0});var f=this.className;h.width=parseInt((f.match(/w:(\d+)/)||[])[1])||h.width;h.height=parseInt((f.match(/h:(\d+)/)||[])[1])||h.height;h.timeout=parseInt((f.match(/t:(\d+)/)||[])[1])||h.timeout;if(j.css("position")=="static"){j.css("position","relative")}if(h.width){j.width(h.width)}if(h.height&&h.height!="auto"){j.height(h.height)}var m=0;l.css({position:"absolute",top:0,left:0}).hide().each(function(o){d(this).css("z-index",g.length-o)});d(g[m]).css("opacity",1).show();if(d.browser.msie){g[m].style.removeAttribute("filter")}if(h.fit&&h.width){l.width(h.width)}if(h.fit&&h.height&&h.height!="auto"){l.height(h.height)}if(h.pause){j.hover(function(){this.cyclePause=1},function(){this.cyclePause=0})}d.fn.cycle.transitions.fade(j,l,h);l.each(function(){var o=d(this);this.cycleH=(h.fit&&h.height)?h.height:o.height();this.cycleW=(h.fit&&h.width)?h.width:o.width()});l.not(":eq("+m+")").css({opacity:0});if(h.cssFirst){d(l[m]).css(h.cssFirst)}if(h.timeout){if(h.speed.constructor==String){h.speed={slow:600,fast:200}[h.speed]||400}if(!h.sync){h.speed=h.speed/2}while((h.timeout-h.speed)<250){h.timeout+=h.speed}}h.speedIn=h.speed;h.speedOut=h.speed;h.slideCount=g.length;h.currSlide=m;h.nextSlide=1;var n=l[m];if(h.before.length){h.before[0].apply(n,[n,n,h,true])}if(h.after.length>1){h.after[1].apply(n,[n,n,h,true])}if(h.click&&!h.next){h.next=h.click}if(h.next){d(h.next).bind("click",function(){return c(g,h,h.rev?-1:1)})}if(h.prev){d(h.prev).bind("click",function(){return c(g,h,h.rev?1:-1)})}if(h.timeout){this.cycleTimeout=setTimeout(function(){b(g,h,0,!h.rev)},h.timeout+(h.delay||0))}})};function b(l,e,j,m){if(e.busy){return}var h=l[0].parentNode,o=l[e.currSlide],n=l[e.nextSlide];if(h.cycleTimeout===0&&!j){return}if(j||!h.cyclePause){if(e.before.length){d.each(e.before,function(p,q){q.apply(n,[o,n,e,m])})}var f=function(){if(d.browser.msie){this.style.removeAttribute("filter")}d.each(e.after,function(p,q){q.apply(n,[o,n,e,m])})};if(e.nextSlide!=e.currSlide){e.busy=1;d.fn.cycle.custom(o,n,e,f)}var g=(e.nextSlide+1)==l.length;e.nextSlide=g?0:e.nextSlide+1;e.currSlide=g?l.length-1:e.nextSlide-1}if(e.timeout){h.cycleTimeout=setTimeout(function(){b(l,e,0,!e.rev)},e.timeout)}}function c(e,f,j){var h=e[0].parentNode,g=h.cycleTimeout;if(g){clearTimeout(g);h.cycleTimeout=0}f.nextSlide=f.currSlide+j;if(f.nextSlide<0){f.nextSlide=e.length-1}else{if(f.nextSlide>=e.length){f.nextSlide=0}}b(e,f,1,j>=0);return false}d.fn.cycle.custom=function(m,h,j,e){var l=d(m),g=d(h);g.css({opacity:0});var f=function(){g.animate({opacity:1},j.speedIn,j.easeIn,e)};l.animate({opacity:0},j.speedOut,j.easeOut,function(){l.css({display:"none"});if(!j.sync){f()}});if(j.sync){f()}};d.fn.cycle.transitions={fade:function(f,g,e){g.not(":eq(0)").css("opacity",0);e.before.push(function(){d(this).show()})}};d.fn.cycle.ver=function(){return a};d.fn.cycle.defaults={timeout:4000,speed:1000,next:null,prev:null,before:null,after:null,height:"auto",sync:1,fit:0,pause:0,delay:0,slideExpr:null}})(jQuery);(function(a){a(function(){a("#company_name").change(function(){if(a("#company_domain").val()==""){a("#company_domain").val(a("#company_name").val().toLowerCase().replace(/[ ]/g,"-").replace(/[^a-z0-9_\-]/g,"").replace(/--/g,"-"));a("#company_domain").trigger("keyup")}});a("#company_domain").keyup(function(){if(a(this).data("updateTimeout")){clearTimeout(a(this).data("updateTimeout"))}$this=a(this);a(this).data("updateTimeout",setTimeout(function(){a.getJSON("/validate_domain",{domain:$this.val()},function(b){if(b=="OK"){a("#company_domain").parent().find(".formError").hide()}else{a("#company_domain").parent().find(".formError").html(b).show()}})},500))});if(a("#company_country").length>0){companyPaymentMethodChange=function(){if(a("#company_payment_method_debit").is(":checked")){a("#payment_method_debit").show();a("#payment_method_creditcard, #update_creditcard").hide()}else{if(a("#update_creditcard").length>0){a("#payment_method_debit, #payment_method_creditcard").hide();a("#update_creditcard").show()}else{a("#payment_method_debit").hide();a("#payment_method_creditcard").show()}}};companyCountryChange=function(){if(a("#company_country").val()=="NL"){a("#tax_number_fields").hide();a("#payment_method_fields").show();companyPaymentMethodChange.call()}else{a("#payment_method_fields, #payment_method_debit").hide();a("#payment_method_creditcard").show();if(a.inArray(a("#company_country").val(),eu_country_codes)>-1){a("#tax_number_fields").show()}else{a("#tax_number_fields").hide()}}};a("#company_country").bind("change",companyCountryChange);companyCountryChange.call()}if(a("#company_payment_method_debit").length>0&&a("#company_payment_method_creditcard").length>0){a("#company_payment_method_debit, #company_payment_method_creditcard").bind("change",companyPaymentMethodChange);companyPaymentMethodChange.call();if(a("#update_creditcard").length>0){a("#update_creditcard").click(function(){a("#payment_method_creditcard").show();a("#update_creditcard").hide();return false})}}a("#toggle_voucher_fields").click(function(b){a("#voucher_fields, #toggle_voucher_fields").toggle();return false})})})(jQuery);(function(a){a.fn.checkAll=function(b){return this.each(function(){$this=a(this);$this.addClass("checkall");b=jQuery.extend({scope:"fieldset"},b);$this.click(function(){a(this).parents(b.scope+":first").find("input:checkbox").attr("checked",(a(this).is(":checked")?"checked":"")).trigger("change")});$this.parents(b.scope+":first").find("input:checkbox").not($this).click(function(){checkAll=a(this).parents(b.scope+":first").find("input:checkbox.checkall");allChecked=(a(this).parents(b.scope+":first").find("input:checkbox").not(checkAll).length==a(this).parents(b.scope+":first").find("input:checkbox:checked").not(checkAll).length);checkAll.attr("checked",allChecked?"checked":"")})})}})(jQuery);(function(a){a.fn.bulkActions=function(b){return this.each(function(){$this=a(this);a("<span>",{"class":"filter",id:"filter",style:"position: absolute; top: 0; left: 0; display: block; width: 100%; height: 100%; background: white"}).appendTo($this).fadeTo(0,0.3);updateBulkActions=function(c){$this=c.data.bulkActions;$checkboxes=c.data.checkboxes;checkedBoxes=$checkboxes.filter(":checked").length;if(checkedBoxes==0){text=$this.find(".selected-0").html();$this.find("span.filter").fadeTo(0,0.3)}else{if(checkedBoxes==1){text=$this.find(".selected-1").html()}else{text=$this.find(".selected-n").html().replace("#{n}",checkedBoxes)}$this.find("span.filter").hide()}$this.find("em").html(text)};a(b.checkboxes).bind("change",{bulkActions:a(this),checkboxes:a(b.checkboxes)},updateBulkActions).trigger("change")})}})(jQuery);
/*@@version@@*/
(function(){var f=0,m=[],o={},j={},a={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g,b,c=window.setTimeout,d={},e;function h(){this.returnValue=false}function l(){this.cancelBubble=true}(function(p){var q=p.split(/,/),r,v,u;for(r=0;r<q.length;r+=2){u=q[r+1].split(/ /);for(v=0;v<u.length;v++){j[u[v]]=q[r]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats,docx pptx xlsx,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/html,htm html xhtml,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/vnd.rn-realvideo,rv,text/csv,csv,text/plain,asc txt text diff log,application/octet-stream,exe");var g={VERSION:"@@version@@",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:j,extend:function(p){g.each(arguments,function(q,r){if(r>0){g.each(q,function(v,u){p[u]=v})}});return p},cleanName:function(p){var q,r;r=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(q=0;q<r.length;q+=2){p=p.replace(r[q],r[q+1])}p=p.replace(/\s+/g,"_");p=p.replace(/[^a-z0-9_\-\.]+/gi,"");return p},addRuntime:function(p,q){q.name=p;m[p]=q;m.push(q);return q},guid:function(){var p=new Date().getTime().toString(32),q;for(q=0;q<5;q++){p+=Math.floor(Math.random()*65535).toString(32)}return(g.guidPrefix||"p")+p+(f++).toString(32)},buildUrl:function(q,p){var r="";g.each(p,function(v,u){r+=(r?"&":"")+encodeURIComponent(u)+"="+encodeURIComponent(v)});if(r){q+=(q.indexOf("?")>0?"&":"?")+r}return q},each:function(u,v){var r,q,p;if(u){r=u.length;if(r===b){for(q in u){if(u.hasOwnProperty(q)){if(v(u[q],q)===false){return}}}}else{for(p=0;p<r;p++){if(v(u[p],p)===false){return}}}}},formatSize:function(p){if(p===b||/\D/.test(p)){return g.translate("N/A")}if(p>1073741824){return Math.round(p/1073741824,1)+" GB"}if(p>1048576){return Math.round(p/1048576,1)+" MB"}if(p>1024){return Math.round(p/1024,1)+" KB"}return p+" b"},getPos:function(q,w){var z=0,v=0,B,A=document,r,u;q=q;w=w||A.body;function p(F){var D,E,C=0,G=0;if(F){E=F.getBoundingClientRect();D=A.compatMode==="CSS1Compat"?A.documentElement:A.body;C=E.left+D.scrollLeft;G=E.top+D.scrollTop}return{x:C,y:G}}if(q&&q.getBoundingClientRect&&(navigator.userAgent.indexOf("MSIE")>0&&A.documentMode!==8)){r=p(q);u=p(w);return{x:r.x-u.x,y:r.y-u.y}}B=q;while(B&&B!=w&&B.nodeType){z+=B.offsetLeft||0;v+=B.offsetTop||0;B=B.offsetParent}B=q.parentNode;while(B&&B!=w&&B.nodeType){z-=B.scrollLeft||0;v-=B.scrollTop||0;B=B.parentNode}return{x:z,y:v}},getSize:function(p){return{w:p.offsetWidth||p.clientWidth,h:p.offsetHeight||p.clientHeight}},parseSize:function(p){var q;if(typeof(p)=="string"){p=/^([0-9]+)([mgk]?)$/.exec(p.toLowerCase().replace(/[^0-9mkg]/g,""));q=p[2];p=+p[1];if(q=="g"){p*=1073741824}if(q=="m"){p*=1048576}if(q=="k"){p*=1024}}return p},xmlEncode:function(p){return p?(""+p).replace(n,function(q){return a[q]?"&"+a[q]+";":q}):p},toArray:function(r){var q,p=[];for(q=0;q<r.length;q++){p[q]=r[q]}return p},addI18n:function(p){return g.extend(o,p)},translate:function(p){return o[p]||p},isEmptyObj:function(p){if(p===b){return true}for(var q in p){return false}return true},hasClass:function(r,q){var p;if(r.className==""){return false}p=new RegExp("(^|\\s+)"+q+"(\\s+|$)");return p.test(r.className)},addClass:function(q,p){if(!g.hasClass(q,p)){q.className=q.className==""?p:q.className.replace(/\s+$/,"")+" "+p}},removeClass:function(r,q){var p=new RegExp("(^|\\s+)"+q+"(\\s+|$)");r.className=r.className.replace(p,function(v,u,w){return u===" "&&w===" "?" ":""})},getStyle:function(q,p){if(q.currentStyle){return q.currentStyle[p]}else{if(window.getComputedStyle){return window.getComputedStyle(q,null)[p]}}},addEvent:function(w,p,x){var v,u,r,q;q=arguments[3];p=p.toLowerCase();if(e===b){e="Plupload_"+g.guid()}if(w.addEventListener){v=x;w.addEventListener(p,v,false)}else{if(w.attachEvent){v=function(){var y=window.event;if(!y.target){y.target=y.srcElement}y.preventDefault=h;y.stopPropagation=l;x(y)};w.attachEvent("on"+p,v)}}if(w[e]===b){w[e]=g.guid()}if(!d.hasOwnProperty(w[e])){d[w[e]]={}}u=d[w[e]];if(!u.hasOwnProperty(p)){u[p]=[]}u[p].push({func:v,orig:x,key:q})},removeEvent:function(w,p){var u,x,r;if(typeof(arguments[2])=="function"){x=arguments[2]}else{r=arguments[2]}p=p.toLowerCase();if(w[e]&&d[w[e]]&&d[w[e]][p]){u=d[w[e]][p]}else{return}for(var q=u.length-1;q>=0;q--){if(u[q].key===r||u[q].orig===x){if(w.detachEvent){w.detachEvent("on"+p,u[q].func)}else{if(w.removeEventListener){w.removeEventListener(p,u[q].func,false)}}u[q].orig=null;u[q].func=null;u.splice(q,1);if(x!==b){break}}}if(!u.length){delete d[w[e]][p]}if(g.isEmptyObj(d[w[e]])){delete d[w[e]];try{delete w[e]}catch(v){w[e]=b}}},removeAllEvents:function(q){var p=arguments[1];if(q[e]===b||!q[e]){return}g.each(d[q[e]],function(u,r){g.removeEvent(q,r,p)})}};g.Uploader=function(u){var q={},x,w=[],r;x=new g.QueueProgress();u=g.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},u);function v(){var z,A=0,y;if(this.state==g.STARTED){for(y=0;y<w.length;y++){if(!z&&w[y].status==g.QUEUED){z=w[y];z.status=g.UPLOADING;if(this.trigger("BeforeUpload",z)){this.trigger("UploadFile",z)}}else{A++}}if(A==w.length){this.trigger("UploadComplete",w);this.stop()}}}function p(){var z,y;x.reset();for(z=0;z<w.length;z++){y=w[z];if(y.size!==b){x.size+=y.size;x.loaded+=y.loaded}else{x.size=b}if(y.status==g.DONE){x.uploaded++}else{if(y.status==g.FAILED){x.failed++}else{x.queued++}}}if(x.size===b){x.percent=w.length>0?Math.ceil(x.uploaded/w.length*100):0}else{x.bytesPerSec=Math.ceil(x.loaded/((+new Date()-r||1)/1000));x.percent=x.size>0?Math.ceil(x.loaded/x.size*100):0}}g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:w,settings:u,total:x,id:g.guid(),init:function(){var D=this,E,A,z,C=0,B;if(typeof(u.preinit)=="function"){u.preinit(D)}else{g.each(u.preinit,function(G,F){D.bind(F,G)})}u.page_url=u.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(u.url)){u.url=u.page_url+u.url}u.chunk_size=g.parseSize(u.chunk_size);u.max_file_size=g.parseSize(u.max_file_size);D.bind("FilesAdded",function(F,I){var H,G,K=0,L,J=u.filters;if(J&&J.length){L=[];g.each(J,function(M){g.each(M.extensions.split(/,/),function(N){if(/^\s*\*\s*$/.test(N)){L.push("\\.*")}else{L.push("\\."+N.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});L=new RegExp(L.join("|")+"$","i")}for(H=0;H<I.length;H++){G=I[H];G.loaded=0;G.percent=0;G.status=g.QUEUED;if(L&&!L.test(G.name)){F.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:G});continue}if(G.size!==b&&G.size>u.max_file_size){F.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:G});continue}w.push(G);K++}if(K){c(function(){D.trigger("QueueChanged");D.refresh()},1)}else{return false}});if(u.unique_names){D.bind("UploadFile",function(F,G){var I=G.name.match(/\.([^.]+)$/),H="tmp";if(I){H=I[1]}G.target_name=G.id+"."+H})}D.bind("UploadProgress",function(F,G){G.percent=G.size>0?Math.ceil(G.loaded/G.size*100):100;p()});D.bind("StateChanged",function(F){if(F.state==g.STARTED){r=(+new Date())}else{if(F.state==g.STOPPED){for(E=F.files.length-1;E>=0;E--){if(F.files[E].status==g.UPLOADING){F.files[E].status=g.QUEUED;p()}}}}});D.bind("QueueChanged",p);D.bind("Error",function(F,G){if(G.file){G.file.status=g.FAILED;p();if(F.state==g.STARTED){c(function(){v.call(D)},1)}}});D.bind("FileUploaded",function(F,G){G.status=g.DONE;G.loaded=G.size;F.trigger("UploadProgress",G);c(function(){v.call(D)},1)});if(u.runtimes){A=[];B=u.runtimes.split(/\s?,\s?/);for(E=0;E<B.length;E++){if(m[B[E]]){A.push(m[B[E]])}}}else{A=m}function y(){var I=A[C++],H,F,G;if(I){H=I.getFeatures();F=D.settings.required_features;if(F){F=F.split(",");for(G=0;G<F.length;G++){if(!H[F[G]]){y();return}}}I.init(D,function(J){if(J&&J.success){D.features=H;D.runtime=I.name;D.trigger("Init",{runtime:I.name});D.trigger("PostInit");D.refresh()}else{y()}})}else{D.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}}y();if(typeof(u.init)=="function"){u.init(D)}else{g.each(u.init,function(G,F){D.bind(F,G)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(this.state!=g.STARTED){this.state=g.STARTED;this.trigger("StateChanged");v.call(this)}},stop:function(){if(this.state!=g.STOPPED){this.state=g.STOPPED;this.trigger("StateChanged")}},getFile:function(z){var y;for(y=w.length-1;y>=0;y--){if(w[y].id===z){return w[y]}}},removeFile:function(z){var y;for(y=w.length-1;y>=0;y--){if(w[y].id===z.id){return this.splice(y,1)[0]}}},splice:function(A,y){var z;z=w.splice(A===b?0:A,y===b?w.length:y);this.trigger("FilesRemoved",z);this.trigger("QueueChanged");return z},trigger:function(z){var B=q[z.toLowerCase()],A,y;if(B){y=Array.prototype.slice.call(arguments);y[0]=this;for(A=0;A<B.length;A++){if(B[A].func.apply(B[A].scope,y)===false){return false}}}return true},hasEventListener:function(y){return !!q[y.toLowerCase()]},bind:function(y,A,z){var B;y=y.toLowerCase();B=q[y]||[];B.push({func:A,scope:z||this});q[y]=B},unbind:function(y){y=y.toLowerCase();var B=q[y],z,A=arguments[1];if(B){if(A!==b){for(z=B.length-1;z>=0;z--){if(B[z].func===A){B.splice(z,1);break}}}else{B=[]}if(!B.length){delete q[y]}}},unbindAll:function(){var y=this;g.each(q,function(A,z){y.unbind(z)})},destroy:function(){this.trigger("Destroy");this.unbindAll()}})};g.File=function(u,q,r){var p=this;p.id=u;p.name=q;p.size=r;p.loaded=0;p.percent=0;p.status=0};g.Runtime=function(){this.getFeatures=function(){};this.init=function(p,q){}};g.QueueProgress=function(){var p=this;p.size=0;p.loaded=0;p.uploaded=0;p.failed=0;p.queued=0;p.percent=0;p.bytesPerSec=0;p.reset=function(){p.size=p.loaded=p.uploaded=p.failed=p.queued=p.percent=p.bytesPerSec=0}};g.runtimes={};window.plupload=g})();(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){window.google={}}if(!google.gears){google.gears={factory:a}}})();(function(e,b,c,d){var f={};function a(h,l,n){var g,j,m,p;j=google.gears.factory.create("beta.canvas");try{j.decode(h);if(!l.width){l.width=j.width}if(!l.height){l.height=j.height}p=Math.min(width/j.width,height/j.height);if(p<1||(p===1&&n==="image/jpeg")){j.resize(Math.round(j.width*p),Math.round(j.height*p));if(l.quality){return j.encode(n,{quality:l.quality/100})}return j.encode(n)}}catch(o){}return h}c.runtimes.Gears=c.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true}},init:function(j,m){var l;if(!e.google||!google.gears){return m({success:false})}try{l=google.gears.factory.create("beta.desktop")}catch(h){return m({success:false})}function g(p){var o,n,q=[],r;for(n=0;n<p.length;n++){o=p[n];r=c.guid();f[r]=o.blob;q.push(new c.File(r,o.name,o.blob.length))}j.trigger("FilesAdded",q)}j.bind("PostInit",function(){var o=j.settings,n=b.getElementById(o.drop_element);if(n){c.addEvent(n,"dragover",function(p){l.setDropEffect(p,"copy");p.preventDefault()},j.id);c.addEvent(n,"drop",function(q){var p=l.getDragData(q,"application/x-gears-files");if(p){g(p.files)}q.preventDefault()},j.id);n=0}c.addEvent(b.getElementById(o.browse_button),"click",function(v){var u=[],q,p,r;v.preventDefault();no_type_restriction:for(q=0;q<o.filters.length;q++){r=o.filters[q].extensions.split(",");for(p=0;p<r.length;p++){if(r[p]==="*"){u=[];break no_type_restriction}u.push("."+r[p])}}l.openFiles(g,{singleFile:!o.multi_selection,filter:u})},j.id)});j.bind("UploadFile",function(v,q){var x=0,w,r,u=0,p=v.settings.resize,n;if(p&&/\.(png|jpg|jpeg)$/i.test(q.name)){f[q.id]=a(f[q.id],p,/\.png$/i.test(q.name)?"image/png":"image/jpeg")}q.size=f[q.id].length;r=v.settings.chunk_size;n=r>0;w=Math.ceil(q.size/r);if(!n){r=q.size;w=1}function o(){var C,E,z=v.settings.multipart,y=0,D={name:q.target_name||q.name},A=v.settings.url;function B(G){var F,L="----pluploadboundary"+c.guid(),I="--",K="\r\n",H,J;if(z){C.setRequestHeader("Content-Type","multipart/form-data; boundary="+L);F=google.gears.factory.create("beta.blobbuilder");c.each(c.extend(D,v.settings.multipart_params),function(N,M){F.append(I+L+K+'Content-Disposition: form-data; name="'+M+'"'+K+K);F.append(N+K)});J=c.mimeTypes[q.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";F.append(I+L+K+'Content-Disposition: form-data; name="'+v.settings.file_data_name+'"; filename="'+q.name+'"'+K+"Content-Type: "+J+K+K);F.append(G);F.append(K+I+L+I+K);H=F.getAsBlob();y=H.length-G.length;G=H}C.send(G)}if(q.status==c.DONE||q.status==c.FAILED||v.state==c.STOPPED){return}if(n){D.chunk=x;D.chunks=w}E=Math.min(r,q.size-(x*r));if(!z){A=c.buildUrl(v.settings.url,D)}C=google.gears.factory.create("beta.httprequest");C.open("POST",A);if(!z){C.setRequestHeader("Content-Disposition",'attachment; filename="'+q.name+'"');C.setRequestHeader("Content-Type","application/octet-stream")}c.each(v.settings.headers,function(G,F){C.setRequestHeader(F,G)});C.upload.onprogress=function(F){q.loaded=u+F.loaded-y;v.trigger("UploadProgress",q)};C.onreadystatechange=function(){var F;if(C.readyState==4){if(C.status==200){F={chunk:x,chunks:w,response:C.responseText,status:C.status};v.trigger("ChunkUploaded",q,F);if(F.cancelled){q.status=c.FAILED;return}u+=E;if(++x>=w){q.status=c.DONE;v.trigger("FileUploaded",q,{response:C.responseText,status:C.status})}else{o()}}else{v.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:q,chunk:x,chunks:w,status:C.status})}}};if(x<w){B(f[q.id].slice(x*r,E))}}o()});j.bind("Destroy",function(n){var o,p,q={browseButton:n.settings.browse_button,dropElm:n.settings.drop_element};for(o in q){p=b.getElementById(q[o]);if(p){c.removeAllEvents(p,n.id)}}});m({success:true})}})})(window,document,plupload);(function(g,b,d,e){var a={},h={};function c(p){var o,n=typeof p,j,m,l;if(n==="string"){o="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+p.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(u,r){var q=o.indexOf(r);if(q+1){return"\\"+o.charAt(q+1)}u=r.charCodeAt().toString(16);return"\\u"+"0000".substring(u.length)+u})+'"'}if(n=="object"){j=p.length!==e;o="";if(j){for(m=0;m<p.length;m++){if(o){o+=","}o+=c(p[m])}o="["+o+"]"}else{for(l in p){if(p.hasOwnProperty(l)){if(o){o+=","}o+=c(l)+":"+c(p[l])}}o="{"+o+"}"}return o}if(p===e){return"null"}return""+p}function f(v){var y=false,j=null,p=null,l,m,n,x,o,r=0;try{try{p=new ActiveXObject("AgControl.AgControl");if(p.IsVersionSupported(v)){y=true}p=null}catch(u){var q=navigator.plugins["Silverlight Plug-In"];if(q){l=q.description;if(l==="1.0.30226.2"){l="2.0.30226.2"}m=l.split(".");while(m.length>3){m.pop()}while(m.length<4){m.push(0)}n=v.split(".");while(n.length>4){n.pop()}do{x=parseInt(n[r],10);o=parseInt(m[r],10);r++}while(r<n.length&&x===o);if(x<=o&&!isNaN(x)){y=true}}}}catch(w){y=false}return y}d.silverlight={trigger:function(o,l){var n=a[o],m,j;if(n){j=d.toArray(arguments).slice(1);j[0]="Silverlight:"+l;setTimeout(function(){n.trigger.apply(n,j)},0)}}};d.runtimes.Silverlight=d.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true}},init:function(q,r){var p,n="",o=q.settings.filters,m,l=b.body;if(!f("2.0.31005.0")||(g.opera&&g.opera.buildNumber)){r({success:false});return}h[q.id]=false;a[q.id]=q;p=b.createElement("div");p.id=q.id+"_silverlight_container";d.extend(p.style,{position:"absolute",top:"0px",background:q.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:q.settings.shim_bgcolor||b.documentMode>8?"":0.01});p.className="plupload silverlight";if(q.settings.container){l=b.getElementById(q.settings.container);if(d.getStyle(l,"position")==="static"){l.style.position="relative"}}l.appendChild(p);for(m=0;m<o.length;m++){n+=(n!=""?"|":"")+o[m].title+" | *."+o[m].extensions.replace(/,/g,";*.")}p.innerHTML='<object id="'+q.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+q.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+q.id+",filter="+n+",multiselect="+q.settings.multi_selection+'"/></object>';function j(){return b.getElementById(q.id+"_silverlight").content.Upload}q.bind("Silverlight:Init",function(){var u,v={};if(h[q.id]){return}h[q.id]=true;q.bind("Silverlight:StartSelectFiles",function(w){u=[]});q.bind("Silverlight:SelectFile",function(w,z,x,y){var A;A=d.guid();v[A]=z;v[z]=A;u.push(new d.File(A,x,y))});q.bind("Silverlight:SelectSuccessful",function(){if(u.length){q.trigger("FilesAdded",u)}});q.bind("Silverlight:UploadChunkError",function(w,z,x,A,y){q.trigger("Error",{code:d.IO_ERROR,message:"IO Error.",details:y,file:w.getFile(v[z])})});q.bind("Silverlight:UploadFileProgress",function(w,A,x,z){var y=w.getFile(v[A]);if(y.status!=d.FAILED){y.size=z;y.loaded=x;w.trigger("UploadProgress",y)}});q.bind("Refresh",function(w){var x,y,z;x=b.getElementById(w.settings.browse_button);if(x){y=d.getPos(x,b.getElementById(w.settings.container));z=d.getSize(x);d.extend(b.getElementById(w.id+"_silverlight_container").style,{top:y.y+"px",left:y.x+"px",width:z.w+"px",height:z.h+"px"})}});q.bind("Silverlight:UploadChunkSuccessful",function(w,z,x,C,B){var A,y=w.getFile(v[z]);A={chunk:x,chunks:C,response:B};w.trigger("ChunkUploaded",y,A);if(y.status!=d.FAILED){j().UploadNextChunk()}if(x==C-1){y.status=d.DONE;w.trigger("FileUploaded",y,{response:B})}});q.bind("Silverlight:UploadSuccessful",function(w,z,x){var y=w.getFile(v[z]);y.status=d.DONE;w.trigger("FileUploaded",y,{response:x})});q.bind("FilesRemoved",function(w,y){var x;for(x=0;x<y.length;x++){j().RemoveFile(v[y[x].id])}});q.bind("UploadFile",function(w,y){var z=w.settings,x=z.resize||{};j().UploadFile(v[y.id],w.settings.url,c({name:y.target_name||y.name,mime:d.mimeTypes[y.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:z.chunk_size,image_width:x.width,image_height:x.height,image_quality:x.quality||90,multipart:!!z.multipart,multipart_params:z.multipart_params||{},file_data_name:z.file_data_name,headers:z.headers}))});q.bind("Silverlight:MouseEnter",function(w){var x,y;x=b.getElementById(q.settings.browse_button);y=w.settings.browse_button_hover;if(x&&y){d.addClass(x,y)}});q.bind("Silverlight:MouseLeave",function(w){var x,y;x=b.getElementById(q.settings.browse_button);y=w.settings.browse_button_hover;if(x&&y){d.removeClass(x,y)}});q.bind("Silverlight:MouseLeftButtonDown",function(w){var x,y;x=b.getElementById(q.settings.browse_button);y=w.settings.browse_button_active;if(x&&y){d.addClass(x,y);d.addEvent(b.body,"mouseup",function(){d.removeClass(x,y)})}});q.bind("Sliverlight:StartSelectFiles",function(w){var x,y;x=b.getElementById(q.settings.browse_button);y=w.settings.browse_button_active;if(x&&y){d.removeClass(x,y)}});q.bind("Destroy",function(w){var x;d.removeAllEvents(b.body,w.id);delete h[w.id];delete a[w.id];x=b.getElementById(w.id+"_silverlight_container");if(x){l.removeChild(x)}});r({success:true})})}})})(window,document,plupload);(function(f,b,d,e){var a={},g={};function c(){var h;try{h=navigator.plugins["Shockwave Flash"];h=h.description}catch(l){try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(j){h="0.0"}}h=h.match(/\d+/g);return parseFloat(h[0]+"."+h[1])}d.flash={trigger:function(l,h,j){setTimeout(function(){var o=a[l],n,m;if(o){o.trigger("Flash:"+h,j)}},0)}};d.runtimes.Flash=d.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true}},init:function(l,q){var p,j,m,r=0,h=b.body;if(c()<10){q({success:false});return}g[l.id]=false;a[l.id]=l;p=b.getElementById(l.settings.browse_button);j=b.createElement("div");j.id=l.id+"_flash_container";d.extend(j.style,{position:"absolute",top:"0px",background:l.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});j.className="plupload flash";if(l.settings.container){h=b.getElementById(l.settings.container);if(d.getStyle(h,"position")==="static"){h.style.position="relative"}}h.appendChild(j);m="id="+escape(l.id);j.innerHTML='<object id="'+l.id+'_flash" width="100%" height="100%" style="outline:0" type="application/x-shockwave-flash" data="'+l.settings.flash_swf_url+'"><param name="movie" value="'+l.settings.flash_swf_url+'" /><param name="flashvars" value="'+m+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';function o(){return b.getElementById(l.id+"_flash")}function n(){if(r++>5000){q({success:false});return}if(!g[l.id]){setTimeout(n,1)}}n();p=j=null;l.bind("Flash:Init",function(){var v={},u;o().setFileFilters(l.settings.filters,l.settings.multi_selection);if(g[l.id]){return}g[l.id]=true;l.bind("UploadFile",function(w,y){var z=w.settings,x=l.settings.resize||{};o().uploadFile(v[y.id],z.url,{name:y.target_name||y.name,mime:d.mimeTypes[y.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:z.chunk_size,width:x.width,height:x.height,quality:x.quality,multipart:z.multipart,multipart_params:z.multipart_params||{},file_data_name:z.file_data_name,format:/\.(jpg|jpeg)$/i.test(y.name)?"jpg":"png",headers:z.headers,urlstream_upload:z.urlstream_upload})});l.bind("Flash:UploadProcess",function(x,w){var y=x.getFile(v[w.id]);if(y.status!=d.FAILED){y.loaded=w.loaded;y.size=w.size;x.trigger("UploadProgress",y)}});l.bind("Flash:UploadChunkComplete",function(w,y){var z,x=w.getFile(v[y.id]);z={chunk:y.chunk,chunks:y.chunks,response:y.text};w.trigger("ChunkUploaded",x,z);if(x.status!=d.FAILED){o().uploadNextChunk()}if(y.chunk==y.chunks-1){x.status=d.DONE;w.trigger("FileUploaded",x,{response:y.text})}});l.bind("Flash:SelectFiles",function(w,z){var y,x,A=[],B;for(x=0;x<z.length;x++){y=z[x];B=d.guid();v[B]=y.id;v[y.id]=B;A.push(new d.File(B,y.name,y.size))}if(A.length){l.trigger("FilesAdded",A)}});l.bind("Flash:SecurityError",function(w,x){l.trigger("Error",{code:d.SECURITY_ERROR,message:d.translate("Security error."),details:x.message,file:l.getFile(v[x.id])})});l.bind("Flash:GenericError",function(w,x){l.trigger("Error",{code:d.GENERIC_ERROR,message:d.translate("Generic error."),details:x.message,file:l.getFile(v[x.id])})});l.bind("Flash:IOError",function(w,x){l.trigger("Error",{code:d.IO_ERROR,message:d.translate("IO error."),details:x.message,file:l.getFile(v[x.id])})});l.bind("Flash:ImageError",function(w,x){l.trigger("Error",{code:parseInt(x.code,10),message:d.translate("Image error."),file:l.getFile(v[x.id])})});l.bind("Flash:StageEvent:rollOver",function(w){var x,y;x=b.getElementById(l.settings.browse_button);y=w.settings.browse_button_hover;if(x&&y){d.addClass(x,y)}});l.bind("Flash:StageEvent:rollOut",function(w){var x,y;x=b.getElementById(l.settings.browse_button);y=w.settings.browse_button_hover;if(x&&y){d.removeClass(x,y)}});l.bind("Flash:StageEvent:mouseDown",function(w){var x,y;x=b.getElementById(l.settings.browse_button);y=w.settings.browse_button_active;if(x&&y){d.addClass(x,y);d.addEvent(b.body,"mouseup",function(){d.removeClass(x,y)},w.id)}});l.bind("Flash:StageEvent:mouseUp",function(w){var x,y;x=b.getElementById(l.settings.browse_button);y=w.settings.browse_button_active;if(x&&y){d.removeClass(x,y)}});l.bind("Flash:ExifData",function(w,x){l.trigger("ExifData",l.getFile(v[x.id]),x.data)});l.bind("Flash:GpsData",function(w,x){l.trigger("GpsData",l.getFile(v[x.id]),x.data)});l.bind("QueueChanged",function(w){l.refresh()});l.bind("FilesRemoved",function(w,y){var x;for(x=0;x<y.length;x++){o().removeFile(v[y[x].id])}});l.bind("StateChanged",function(w){l.refresh()});l.bind("Refresh",function(w){var x,y,z;o().setFileFilters(l.settings.filters,l.settings.multi_selection);x=b.getElementById(w.settings.browse_button);if(x){y=d.getPos(x,b.getElementById(w.settings.container));z=d.getSize(x);d.extend(b.getElementById(w.id+"_flash_container").style,{top:y.y+"px",left:y.x+"px",width:z.w+"px",height:z.h+"px"})}});l.bind("Destroy",function(w){var x;d.removeAllEvents(b.body,w.id);delete g[w.id];delete a[w.id];x=b.getElementById(w.id+"_flash_container");if(x){h.removeChild(x)}});q({success:true})})}})})(window,document,plupload);(function(a){a.runtimes.BrowserPlus=a.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true}},init:function(g,j){var e=window.BrowserPlus,h={},d=g.settings,c=d.resize;function f(p){var o,n,l=[],m,q;for(n=0;n<p.length;n++){m=p[n];q=a.guid();h[q]=m;l.push(new a.File(q,m.name,m.size))}if(n){g.trigger("FilesAdded",l)}}function b(){g.bind("PostInit",function(){var o,m=d.drop_element,q=g.id+"_droptarget",l=document.getElementById(m),n;function r(v,u){e.DragAndDrop.AddDropTarget({id:v},function(w){e.DragAndDrop.AttachCallbacks({id:v,hover:function(x){if(!x&&u){u()}},drop:function(x){if(u){u()}f(x)}},function(){})})}function p(){document.getElementById(q).style.top="-1000px"}if(l){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){o=document.createElement("div");o.setAttribute("id",q);a.extend(o.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(o);a.addEvent(l,"dragenter",function(v){var u,w;u=document.getElementById(m);w=a.getPos(u);a.extend(document.getElementById(q).style,{top:w.y+"px",left:w.x+"px",width:u.offsetWidth+"px",height:u.offsetHeight+"px"})});r(q,p)}else{r(m)}}a.addEvent(document.getElementById(d.browse_button),"click",function(z){var x=[],v,u,y=d.filters,w;z.preventDefault();no_type_restriction:for(v=0;v<y.length;v++){w=y[v].extensions.split(",");for(u=0;u<w.length;u++){if(w[u]==="*"){x=[];break no_type_restriction}x.push(a.mimeTypes[w[u]])}}e.FileBrowse.OpenBrowseDialog({mimeTypes:x},function(A){if(A.success){f(A.value)}})});l=o=null});g.bind("UploadFile",function(o,l){var n=h[l.id],v={},m=o.settings.chunk_size,p,q=[];function u(w,y){var x;if(l.status==a.FAILED){return}v.name=l.target_name||l.name;if(m){v.chunk=""+w;v.chunks=""+y}x=q.shift();e.Uploader.upload({url:o.settings.url,files:{file:x},cookies:document.cookies,postvars:a.extend(v,o.settings.multipart_params),progressCallback:function(B){var A,z=0;p[w]=parseInt(B.filePercent*x.size/100,10);for(A=0;A<p.length;A++){z+=p[A]}l.loaded=z;o.trigger("UploadProgress",l)}},function(A){var z,B;if(A.success){z=A.value.statusCode;if(m){o.trigger("ChunkUploaded",l,{chunk:w,chunks:y,response:A.value.body,status:z})}if(q.length>0){u(++w,y)}else{l.status=a.DONE;o.trigger("FileUploaded",l,{response:A.value.body,status:z});if(z>=400){o.trigger("Error",{code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:l,status:z})}}}else{o.trigger("Error",{code:a.GENERIC_ERROR,message:a.translate("Generic Error."),file:l,details:A.error})}})}function r(w){l.size=w.size;if(m){e.FileAccess.chunk({file:w,chunkSize:m},function(z){if(z.success){var A=z.value,x=A.length;p=Array(x);for(var y=0;y<x;y++){p[y]=0;q.push(A[y])}u(0,x)}})}else{p=Array(1);q.push(w);u(0,1)}}if(c&&/\.(png|jpg|jpeg)$/i.test(l.name)){BrowserPlus.ImageAlter.transform({file:n,quality:c.quality||90,actions:[{scale:{maxwidth:c.width,maxheight:c.height}}]},function(w){if(w.success){r(w.value.file)}})}else{r(n)}});j({success:true})}if(e){e.init(function(m){var l=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(c){l.push({service:"ImageAlter",version:"4"})}if(m.success){e.require({services:l},function(n){if(n.success){b()}else{j()}})}else{j()}})}else{j()}}})})(plupload);(function(h,l,j,e){var c={},g;function n(p,q){var o;if("FileReader" in h){o=new FileReader();o.readAsDataURL(p);o.onload=function(){q(o.result)}}else{return q(p.getAsDataURL())}}function m(p,q){var o;if("FileReader" in h){o=new FileReader();o.readAsBinaryString(p);o.onload=function(){q(o.result)}}else{return q(p.getAsBinary())}}function d(u,q,o,y){var r,p,x,v,w=this;n(c[u.id],function(z){r=l.createElement("canvas");r.style.display="none";l.body.appendChild(r);p=r.getContext("2d");x=new Image();x.onerror=x.onabort=function(){y({success:false})};x.onload=function(){var E,A,C,B,D;if(!q.width){q.width=x.width}if(!q.height){q.height=x.height}v=Math.min(q.width/x.width,q.height/x.height);if(v<1||(v===1&&o==="image/jpeg")){E=Math.round(x.width*v);A=Math.round(x.height*v);r.width=E;r.height=A;p.drawImage(x,0,0,E,A);if(o==="image/jpeg"){B=new f(atob(z.substring(z.indexOf("base64,")+7)));if(B.headers&&B.headers.length){D=new a();if(D.init(B.get("exif")[0])){D.setExif("PixelXDimension",E);D.setExif("PixelYDimension",A);B.set("exif",D.getBinary());if(w.hasEventListener("ExifData")){w.trigger("ExifData",u,D.EXIF())}if(w.hasEventListener("GpsData")){w.trigger("GpsData",u,D.GPS())}}}if(q.quality){try{z=r.toDataURL(o,q.quality/100)}catch(F){z=r.toDataURL(o)}}}else{z=r.toDataURL(o)}z=z.substring(z.indexOf("base64,")+7);z=atob(z);if(B&&B.headers&&B.headers.length){z=B.restore(z);B.purge()}r.parentNode.removeChild(r);y({success:true,data:z})}else{y({success:false})}};x.src=z})}j.runtimes.Html5=j.addRuntime("html5",{getFeatures:function(){var w,p,v,u,q,o,r=h;p=v=q=o=false;if(r.XMLHttpRequest){w=new XMLHttpRequest();v=!!w.upload;p=!!(w.sendAsBinary||w.upload)}if(p){u=!!(w.sendAsBinary||(h.Uint8Array&&h.ArrayBuffer));q=!!(File&&(File.prototype.getAsDataURL||r.FileReader)&&u);o=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}g=navigator.userAgent.indexOf("Safari")>0&&navigator.vendor.indexOf("Apple")!==-1;return{html5:p,dragdrop:r.mozInnerScreenX!==e||o||g,jpgresize:q,pngresize:q,multipart:q||!!r.FileReader||!!r.FormData,canSendBinary:u,cantSendBlobInFormData:!!(w&&w.sendAsBinary&&h.FormData&&h.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:v,chunks:o,triggerDialog:navigator.userAgent.indexOf("WebKit")!==-1}},init:function(q,r){var o;function p(y){var w,v,x=[],z,u={};for(v=0;v<y.length;v++){w=y[v];if(u[w.name]){continue}u[w.name]=true;z=j.guid();c[z]=w;x.push(new j.File(z,w.fileName||w.name,w.fileSize||w.size))}if(x.length){q.trigger("FilesAdded",x)}}o=this.getFeatures();if(!o.html5){r({success:false});return}q.bind("Init",function(z){var I,H,E=[],x,F,v=z.settings.filters,w,D,u=l.body,G;I=l.createElement("div");I.id=z.id+"_html5_container";j.extend(I.style,{position:"absolute",background:q.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:q.settings.shim_bgcolor?"":0});I.className="plupload html5";if(q.settings.container){u=l.getElementById(q.settings.container);if(j.getStyle(u,"position")==="static"){u.style.position="relative"}}u.appendChild(I);no_type_restriction:for(x=0;x<v.length;x++){w=v[x].extensions.split(/,/);for(F=0;F<w.length;F++){if(w[F]==="*"){E=[];break no_type_restriction}D=j.mimeTypes[w[F]];if(D){E.push(D)}}}I.innerHTML='<input id="'+q.id+'_html5" style="width:100%;height:100%;font-size:99px" type="file" accept="'+E.join(",")+'" '+(q.settings.multi_selection?'multiple="multiple"':"")+" />";G=l.getElementById(q.id+"_html5");G.onchange=function(){p(this.files);this.value=""};H=l.getElementById(z.settings.browse_button);if(H){var B=z.settings.browse_button_hover,C=z.settings.browse_button_active,A=z.features.triggerDialog?H:I;if(B){j.addEvent(A,"mouseover",function(){j.addClass(H,B)},z.id);j.addEvent(A,"mouseout",function(){j.removeClass(H,B)},z.id)}if(C){j.addEvent(A,"mousedown",function(){j.addClass(H,C)},z.id);j.addEvent(l.body,"mouseup",function(){j.removeClass(H,C)},z.id)}if(z.features.triggerDialog){j.addEvent(H,"click",function(y){l.getElementById(z.id+"_html5").click();y.preventDefault()},z.id)}}});q.bind("PostInit",function(){var u=l.getElementById(q.settings.drop_element);if(u){if(g){j.addEvent(u,"dragenter",function(y){var x,v,w;x=l.getElementById(q.id+"_drop");if(!x){x=l.createElement("input");x.setAttribute("type","file");x.setAttribute("id",q.id+"_drop");x.setAttribute("multiple","multiple");j.addEvent(x,"change",function(){p(this.files);j.removeEvent(x,"change",q.id);x.parentNode.removeChild(x)},q.id);u.appendChild(x)}v=j.getPos(u,l.getElementById(q.settings.container));w=j.getSize(u);if(j.getStyle(u,"position")==="static"){j.extend(u.style,{position:"relative"})}j.extend(x.style,{position:"absolute",display:"block",top:0,left:0,width:w.w+"px",height:w.h+"px",opacity:0})},q.id);return}j.addEvent(u,"dragover",function(v){v.preventDefault()},q.id);j.addEvent(u,"drop",function(w){var v=w.dataTransfer;if(v&&v.files){p(v.files)}w.preventDefault()},q.id)}});q.bind("Refresh",function(u){var v,x,y,z,w;v=l.getElementById(q.settings.browse_button);if(v){x=j.getPos(v,l.getElementById(u.settings.container));y=j.getSize(v);z=l.getElementById(q.id+"_html5_container");j.extend(z.style,{top:x.y+"px",left:x.x+"px",width:y.w+"px",height:y.h+"px"});if(q.features.triggerDialog){w=parseInt(v.parentNode.style.zIndex,10);if(isNaN(w)){w=0}j.extend(v.style,{zIndex:w});if(j.getStyle(v,"position")==="static"){j.extend(v.style,{position:"relative"})}j.extend(z.style,{zIndex:w-1})}}});q.bind("UploadFile",function(u,w){var x=u.settings,A,v;function z(C,F,B){var D;if(File.prototype.slice){try{C.slice();return C.slice(F,B)}catch(E){return C.slice(F,B-F)}}else{if(D=File.prototype.webkitSlice||File.prototype.mozSlice){return D.call(C,F,B)}else{return null}}}function y(C){var G=0,F=0,B=("FileReader" in h)?new FileReader:null,H=new XMLHttpRequest,E=H.upload;shouldSendBinary=typeof(C)==="string";function D(){var M,Q,O,P,L,N,J,I=u.settings.url;function K(Z){var X=0,R="----pluploadboundary"+j.guid(),S,T="--",Y="\r\n",V="";if(E){E.onprogress=function(aa){w.loaded=Math.min(w.size,F+aa.loaded-X);u.trigger("UploadProgress",w)}}H.onreadystatechange=function(){var aa,ac;if(H.readyState==4){try{aa=H.status}catch(ab){aa=0}if(aa>=400){u.trigger("Error",{code:j.HTTP_ERROR,message:j.translate("HTTP Error."),file:w,status:aa})}else{if(O){ac={chunk:G,chunks:O,response:H.responseText,status:aa};u.trigger("ChunkUploaded",w,ac);F+=N;if(ac.cancelled){w.status=j.FAILED;return}w.loaded=Math.min(w.size,(G+1)*L)}else{w.loaded=w.size}u.trigger("UploadProgress",w);Z=M=S=V=null;if(!O||++G>=O){w.status=j.DONE;u.trigger("FileUploaded",w,{response:H.responseText,status:aa})}else{D()}}H=null}};if(u.settings.multipart&&o.multipart){P.name=w.target_name||w.name;H.open("post",I,true);j.each(u.settings.headers,function(ab,aa){H.setRequestHeader(aa,ab)});if(!shouldSendBinary&&!!h.FormData){S=new FormData();j.each(j.extend(P,u.settings.multipart_params),function(ab,aa){S.append(aa,ab)});S.append(u.settings.file_data_name,Z);H.send(S);return}if(shouldSendBinary){H.setRequestHeader("Content-Type","multipart/form-data; boundary="+R);j.each(j.extend(P,u.settings.multipart_params),function(ab,aa){V+=T+R+Y+'Content-Disposition: form-data; name="'+aa+'"'+Y+Y;V+=unescape(encodeURIComponent(ab))+Y});J=j.mimeTypes[w.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";V+=T+R+Y+'Content-Disposition: form-data; name="'+u.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(w.name))+'"'+Y+"Content-Type: "+J+Y+Y+Z+Y+T+R+T+Y;X=V.length-Z.length;Z=V;if(H.sendAsBinary){H.sendAsBinary(Z)}else{if(o.canSendBinary){var W=new Uint8Array(Z.length);for(var U=0;U<Z.length;U++){W[U]=(Z.charCodeAt(U)&255)}H.send(W.buffer)}}return}}I=j.buildUrl(u.settings.url,j.extend(P,u.settings.multipart_params));H.open("post",I,true);H.setRequestHeader("Content-Type","application/octet-stream");j.each(u.settings.headers,function(ab,aa){H.setRequestHeader(aa,ab)});H.send(Z)}if(w.status==j.DONE||w.status==j.FAILED||u.state==j.STOPPED){return}P={name:w.target_name||w.name};if(x.chunk_size&&w.size>x.chunk_size&&(o.chunks||typeof(C)=="string")){L=x.chunk_size;O=Math.ceil(w.size/L);N=Math.min(L,w.size-(G*L));if(typeof(C)=="string"){M=C.substring(G*L,G*L+N)}else{M=z(C,G*L,G*L+N)}P.chunk=G;P.chunks=O}else{N=w.size;M=C}if(B&&o.cantSendBlobInFormData&&o.chunks&&u.settings.chunk_size){B.onload=function(){shouldSendBinary=true;K(B.result)};B.readAsBinaryString(M)}else{K(M)}}D()}A=c[w.id];if(o.jpgresize&&u.settings.resize&&/\.(png|jpg|jpeg)$/i.test(w.name)){d.call(u,w,u.settings.resize,/\.png$/i.test(w.name)?"image/png":"image/jpeg",function(B){if(B.success){w.size=B.data.length;y(B.data)}else{y(A)}})}else{if(!o.chunks&&o.jpgresize){m(A,y)}else{y(A)}}});q.bind("Destroy",function(u){var w,x,v=l.body,y={inputContainer:u.id+"_html5_container",inputFile:u.id+"_html5",browseButton:u.settings.browse_button,dropElm:u.settings.drop_element};for(w in y){x=l.getElementById(y[w]);if(x){j.removeAllEvents(x,u.id)}}j.removeAllEvents(l.body,u.id);if(u.settings.container){v=l.getElementById(u.settings.container)}v.removeChild(l.getElementById(y.inputContainer))});r({success:true})}});function b(){var r=false,p;function u(w,y){var v=r?0:-8*(y-1),z=0,x;for(x=0;x<y;x++){z|=(p.charCodeAt(w+x)<<Math.abs(v+x*8))}return z}function o(x,v,w){var w=arguments.length===3?w:p.length-v-1;p=p.substr(0,v)+x+p.substr(w+v)}function q(w,x,z){var A="",v=r?0:-8*(z-1),y;for(y=0;y<z;y++){A+=String.fromCharCode((x>>Math.abs(v+y*8))&255)}o(A,w,z)}return{II:function(v){if(v===e){return r}else{r=v}},init:function(v){r=false;p=v},SEGMENT:function(v,x,w){switch(arguments.length){case 1:return p.substr(v,p.length-v-1);case 2:return p.substr(v,x);case 3:o(w,v,x);break;default:return p}},BYTE:function(v){return u(v,1)},SHORT:function(v){return u(v,2)},LONG:function(v,w){if(w===e){return u(v,4)}else{q(v,w,4)}},SLONG:function(v){var w=u(v,4);return(w>2147483647?w-4294967296:w)},STRING:function(v,w){var x="";for(w+=v;v<w;v++){x+=String.fromCharCode(u(v,1))}return x}}}function f(v){var x={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},w=[],u,o,q=e,r=0,p;u=new b();u.init(v);if(u.SHORT(0)!==65496){return}o=2;p=Math.min(1048576,v.length);while(o<=p){q=u.SHORT(o);if(q>=65488&&q<=65495){o+=2;continue}if(q===65498||q===65497){break}r=u.SHORT(o+2)+2;if(x[q]&&u.STRING(o+4,x[q].signature.length)===x[q].signature){w.push({hex:q,app:x[q].app.toUpperCase(),name:x[q].name.toUpperCase(),start:o,length:r,segment:u.SEGMENT(o,r)})}o+=r}u.init(null);return{headers:w,restore:function(B){u.init(B);var z=new f(B);if(!z.headers){return false}for(var A=z.headers.length;A>0;A--){var C=z.headers[A-1];u.SEGMENT(C.start,C.length,"")}z.purge();o=u.SHORT(2)==65504?4+u.SHORT(4):2;for(var A=0,y=w.length;A<y;A++){u.SEGMENT(o,0,w[A].segment);o+=w[A].length}return u.SEGMENT()},get:function(A){var B=[];for(var z=0,y=w.length;z<y;z++){if(w[z].app===A.toUpperCase()){B.push(w[z].segment)}}return B},set:function(B,A){var C=[];if(typeof(A)==="string"){C.push(A)}else{C=A}for(var z=ii=0,y=w.length;z<y;z++){if(w[z].app===B.toUpperCase()){w[z].segment=C[ii];w[z].length=C[ii].length;ii++}if(ii>=C.length){break}}},purge:function(){w=[];u.init(null)}}}function a(){var r,o,p={},w;r=new b();o={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};w={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function q(x,F){var z=r.SHORT(x),C,I,J,E,D,y,A,G,H=[],B={};for(C=0;C<z;C++){A=y=x+12*C+2;J=F[r.SHORT(A)];if(J===e){continue}E=r.SHORT(A+=2);D=r.LONG(A+=2);A+=4;H=[];switch(E){case 1:case 7:if(D>4){A=r.LONG(A)+p.tiffHeader}for(I=0;I<D;I++){H[I]=r.BYTE(A+I)}break;case 2:if(D>4){A=r.LONG(A)+p.tiffHeader}B[J]=r.STRING(A,D-1);continue;case 3:if(D>2){A=r.LONG(A)+p.tiffHeader}for(I=0;I<D;I++){H[I]=r.SHORT(A+I*2)}break;case 4:if(D>1){A=r.LONG(A)+p.tiffHeader}for(I=0;I<D;I++){H[I]=r.LONG(A+I*4)}break;case 5:A=r.LONG(A)+p.tiffHeader;for(I=0;I<D;I++){H[I]=r.LONG(A+I*4)/r.LONG(A+I*4+4)}break;case 9:A=r.LONG(A)+p.tiffHeader;for(I=0;I<D;I++){H[I]=r.SLONG(A+I*4)}break;case 10:A=r.LONG(A)+p.tiffHeader;for(I=0;I<D;I++){H[I]=r.SLONG(A+I*4)/r.SLONG(A+I*4+4)}break;default:continue}G=(D==1?H[0]:H);if(w.hasOwnProperty(J)&&typeof G!="object"){B[J]=w[J][G]}else{B[J]=G}}return B}function v(){var y=e,x=p.tiffHeader;r.II(r.SHORT(x)==18761);if(r.SHORT(x+=2)!==42){return false}p.IFD0=p.tiffHeader+r.LONG(x+=2);y=q(p.IFD0,o.tiff);p.exifIFD=("ExifIFDPointer" in y?p.tiffHeader+y.ExifIFDPointer:e);p.gpsIFD=("GPSInfoIFDPointer" in y?p.tiffHeader+y.GPSInfoIFDPointer:e);return true}function u(z,x,C){var E,B,A,D=0;if(typeof(x)==="string"){var y=o[z.toLowerCase()];for(hex in y){if(y[hex]===x){x=hex;break}}}E=p[z.toLowerCase()+"IFD"];B=r.SHORT(E);for(i=0;i<B;i++){A=E+12*i+2;if(r.SHORT(A)==x){D=A+8;break}}if(!D){return false}r.LONG(D,C);return true}return{init:function(x){p={tiffHeader:10};if(x===e||!x.length){return false}r.init(x);if(r.SHORT(0)===65505&&r.STRING(4,5).toUpperCase()==="EXIF\0"){return v()}return false},EXIF:function(){var x;x=q(p.exifIFD,o.exif);if(x.ExifVersion){x.ExifVersion=String.fromCharCode(x.ExifVersion[0],x.ExifVersion[1],x.ExifVersion[2],x.ExifVersion[3])}return x},GPS:function(){var x;x=q(p.gpsIFD,o.gps);if(x.GPSVersionID){x.GPSVersionID=x.GPSVersionID.join(".")}return x},setExif:function(x,y){if(x!=="PixelXDimension"&&x!=="PixelYDimension"){return false}return u("exif",x,y)},getBinary:function(){return r.SEGMENT()}}}})(window,document,plupload);(function(d,a,b,c){function e(f){return a.getElementById(f)}b.runtimes.Html4=b.addRuntime("html4",{getFeatures:function(){return{multipart:true,canOpenDialog:navigator.userAgent.indexOf("WebKit")!==-1}},init:function(f,g){f.bind("Init",function(q){var j=a.body,o,h="javascript",l,B,r,C=[],u=/MSIE/.test(navigator.userAgent),w=[],n=q.settings.filters,p,m,v,A;no_type_restriction:for(p=0;p<n.length;p++){m=n[p].extensions.split(/,/);for(A=0;A<m.length;A++){if(m[A]==="*"){w=[];break no_type_restriction}v=b.mimeTypes[m[A]];if(v){w.push(v)}}}w=w.join(",");function z(){var F,D,y,E;r=b.guid();C.push(r);F=a.createElement("form");F.setAttribute("id","form_"+r);F.setAttribute("method","post");F.setAttribute("enctype","multipart/form-data");F.setAttribute("encoding","multipart/form-data");F.setAttribute("target",q.id+"_iframe");F.style.position="absolute";D=a.createElement("input");D.setAttribute("id","input_"+r);D.setAttribute("type","file");D.setAttribute("accept",w);D.setAttribute("size",1);E=e(q.settings.browse_button);if(q.features.canOpenDialog&&E){b.addEvent(e(q.settings.browse_button),"click",function(G){D.click();G.preventDefault()},q.id)}b.extend(D.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px"});b.extend(F.style,{overflow:"hidden"});y=q.settings.shim_bgcolor;if(y){F.style.background=y}if(u){b.extend(D.style,{filter:"alpha(opacity=0)"})}b.addEvent(D,"change",function(J){var H=J.target,G,I=[],K;if(H.value){e("form_"+r).style.top=-1048575+"px";G=H.value.replace(/\\/g,"/");G=G.substring(G.length,G.lastIndexOf("/")+1);I.push(new b.File(r,G));if(!q.features.canOpenDialog){b.removeAllEvents(F,q.id)}else{b.removeEvent(E,"click",q.id)}b.removeEvent(D,"change",q.id);z();if(I.length){f.trigger("FilesAdded",I)}}},q.id);F.appendChild(D);j.appendChild(F);q.refresh()}function x(){var y=a.createElement("div");y.innerHTML='<iframe id="'+q.id+'_iframe" name="'+q.id+'_iframe" src="'+h+':&quot;&quot;" style="display:none"></iframe>';o=y.firstChild;j.appendChild(o);b.addEvent(o,"load",function(G){var H=G.target,F,D;if(!l){return}try{F=H.contentWindow.document||H.contentDocument||d.frames[H.id].document}catch(E){q.trigger("Error",{code:b.SECURITY_ERROR,message:b.translate("Security error."),file:l});return}D=F.documentElement.innerText||F.documentElement.textContent;if(D){l.status=b.DONE;l.loaded=1025;l.percent=100;q.trigger("UploadProgress",l);q.trigger("FileUploaded",l,{response:D})}},q.id)}if(q.settings.container){j=e(q.settings.container);if(b.getStyle(j,"position")==="static"){j.style.position="relative"}}q.bind("UploadFile",function(y,E){var F,D;if(E.status==b.DONE||E.status==b.FAILED||y.state==b.STOPPED){return}F=e("form_"+E.id);D=e("input_"+E.id);D.setAttribute("name",y.settings.file_data_name);F.setAttribute("action",y.settings.url);b.each(b.extend({name:E.target_name||E.name},y.settings.multipart_params),function(I,G){var H=a.createElement("input");b.extend(H,{type:"hidden",name:G,value:I});F.insertBefore(H,F.firstChild)});l=E;e("form_"+r).style.top=-1048575+"px";F.submit();F.parentNode.removeChild(F)});q.bind("FileUploaded",function(y){y.refresh()});q.bind("StateChanged",function(y){if(y.state==b.STARTED){x()}if(y.state==b.STOPPED){d.setTimeout(function(){b.removeEvent(o,"load",y.id);o.parentNode.removeChild(o)},0)}});q.bind("Refresh",function(E){var J,F,G,H,y,K,L,I,D;J=e(E.settings.browse_button);if(J){y=b.getPos(J,e(E.settings.container));K=b.getSize(J);L=e("form_"+r);I=e("input_"+r);b.extend(L.style,{top:y.y+"px",left:y.x+"px",width:K.w+"px",height:K.h+"px"});if(E.features.canOpenDialog){D=parseInt(J.parentNode.style.zIndex,10);if(isNaN(D)){D=0}b.extend(J.style,{zIndex:D});if(b.getStyle(J,"position")==="static"){b.extend(J.style,{position:"relative"})}b.extend(L.style,{zIndex:D-1})}G=E.settings.browse_button_hover;H=E.settings.browse_button_active;F=E.features.canOpenDialog?J:L;if(G){b.addEvent(F,"mouseover",function(){b.addClass(J,G)},E.id);b.addEvent(F,"mouseout",function(){b.removeClass(J,G)},E.id)}if(H){b.addEvent(F,"mousedown",function(){b.addClass(J,H)},E.id);b.addEvent(a.body,"mouseup",function(){b.removeClass(J,H)},E.id)}}});f.bind("FilesRemoved",function(y,E){var D,F;for(D=0;D<E.length;D++){F=e("form_"+E[D].id);if(F){F.parentNode.removeChild(F)}}});f.bind("Destroy",function(y){var D,E,F,G={inputContainer:"form_"+r,inputFile:"input_"+r,browseButton:y.settings.browse_button};for(D in G){E=e(G[D]);if(E){b.removeAllEvents(E,y.id)}}b.removeAllEvents(a.body,y.id);b.each(C,function(I,H){F=e("form_"+I);if(F){j.removeChild(F)}})});z()});g({success:true})}})})(window,document,plupload);(function(a){a(function(){a("#upload_more").click(function(){a(this).hide().parents("div").find("input:file").show();return false}).parents("div").find("input:file").not(":first").hide();function c(){prefferedHeight=a("body").innerHeight()-45;a.each(["#footer","#header",".incoming_invoice_form","#incoming_invoice_show:visible",".save_incoming_invoice",".incoming_invoice_attachment_name:visible"],function(f,e){height=a(e).outerHeight();if(height!=NaN){prefferedHeight=prefferedHeight-height}});if(prefferedHeight<100){prefferedHeight=200}a(".incoming_invoice_preview .attachment .image_preview").height(prefferedHeight)}c.call();a(window).resize(c);a("#incoming_invoice_register_payment").change(function(){a("#incoming_invoice_payment, .incoming_invoice_register_payment").toggle();a("#incoming_invoice_details div.currency select").change();c.call()});a("#incoming_invoice_payment a.cancel").click(function(){a("#incoming_invoice_payment, .incoming_invoice_register_payment").toggle();a("#incoming_invoice_register_payment").attr("checked",false);a("#incoming_invoice_details div.currency select").change();c.call();return false});a("#invoice_rows").bind("document_details_editor:recalculated_totals",function(f,e){a("#incoming_invoice_payments_attributes_0_price:visible").val(e.total_price_incl_tax_no_currency);a("p.revenue_invoice").toggle(e.total_price_incl_tax_plain<0);if(e.total_price_incl_tax_plain>0){a("p.revenue_invoice input[type=checkbox]").attr("checked",false).change()}});a("p.revenue_invoice input[type=checkbox]").change(function(){enable_revenue_categories=a(this).is(":checked");a("#invoice_rows select.ledger_account_id").each(function(){a(this).find("optgroup[data-account-type=8] option").attr("disabled",!enable_revenue_categories);a(this).find("optgroup[data-account-type=4] option").attr("disabled",enable_revenue_categories);if(a(this).find("option:selected").is(":disabled")){a(this).val("")}})});a("#incoming_invoice_details div.currency select").change(function(){a("div.incoming_invoice_payment_price_base").toggle(a(this).val()!=a("#default_currency").val())}).change();var d=1;function b(){if(a("#waiting_for_preview").length>0){setTimeout(function(){a.ajax({url:a("#waiting_for_preview").attr("data-url"),dataType:"html",success:function(e){a("#waiting_for_preview").replaceWith(e);c();b()}})},3000*d++)}}b();a(".link-with-form").click(function(){a(this).parents("form").submit();return false});a("body").bind("popup:loaded",function(){if(a("#upload_incoming_invoice").length>0){var e=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",url:a("#upload_url").val(),max_file_size:"5mb",multi_selection:false,flash_swf_url:"/plupload/plupload.flash.swf",silverlight_xap_url:"/plupload/plupload.silverlight.xap",browse_button:"upload_incoming_invoice"});e.init();e.bind("FilesAdded",function(f,g){if(a(".upload_progress div.error").length==0){a(".upload_buttons").hide()}a.each(g,function(j,h){if(a("#"+h.id).length==0){a('<div id="'+h.id+'" class="uploading"><p>'+h.name+'</p><div class="upload_percentage" id="'+h.id+'_progress"></div></div>').appendTo(".upload_progress");a("#"+h.id+"_progress").progressbar()}});e.refresh();e.start()});e.bind("Error",function(f,g){if(a("#"+g.file.id).length>0){a("#"+g.file.id).addClass("error");a("#"+g.file.id+" p").html(g.file.name+": "+g.message)}else{a('<div id="'+g.file.id+'" class="uploading error"><p>'+g.file.name+": "+g.message+'</p><div class="upload_percentage" id="'+g.file.id+'_progress"></div></div>').appendTo(".upload_progress")}a(".upload_buttons").show();e.refresh();return false});e.bind("UploadProgress",function(f,g){a("#"+g.id+"_progress").progressbar("value",g.percent);a("#"+g.id+" p").html(g.name+": "+g.percent+"%")});e.bind("FileUploaded",function(f,h,g){url=JSON.parse(g.response).url;a(".process_buttons").show();a(".upload_buttons, .upload_progress div.error").hide();a(".process_buttons p a").attr("href",url)})}});a("#incoming_invoice_edit .cancel").click(function(){a("#incoming_invoice_show, #incoming_invoice_edit").toggle();a("#incoming_invoice_edit form").each(function(){this.reset()});c();return false});a("#edit_incoming_invoice_url").click(function(){a("#incoming_invoice_show, #incoming_invoice_edit").toggle();c();a("#incoming_invoice_details input.amount").first().change();return false});a(".next_incoming_invoice").click(function(){$attachment=a(this).parents("div.attachment");$attachment.hide();if($attachment.next().length>0){$attachment.next().show()}else{a(".attachment:first").show()}c();return false});a(".attachment").not(":first").hide()})})(jQuery);(function(c,a,b,d){c.fn.caret=function(x,r){var g,l,v=this[0],n=c.browser.msie;if(typeof x==="object"&&typeof x.start==="number"&&typeof x.end==="number"){g=x.start;l=x.end}else{if(typeof x==="number"&&typeof r==="number"){g=x;l=r}else{if(typeof x==="string"){if((g=v.value.indexOf(x))>-1){l=g+x[a]}else{g=null}}else{if(Object.prototype.toString.call(x)==="[object RegExp]"){var u=x.exec(v.value);if(u!=null){g=u.index;l=g+u[0][a]}}}}}if(typeof g!="undefined"){if(n){var o=this[0].createTextRange();o.collapse(true);o.moveStart("character",g);o.moveEnd("character",l-g);o.select()}else{this[0].selectionStart=g;this[0].selectionEnd=l}this[0].focus();return this}else{if(n){var q=document.selection;if(this[0].tagName.toLowerCase()!="textarea"){var h=this.val(),m=q[b]()[d]();m.moveEnd("character",h[a]);var w=(m.text==""?h[a]:h.lastIndexOf(m.text));m=q[b]()[d]();m.moveStart("character",-h[a]);var p=m.text[a]}else{var m=q[b](),f=m[d]();f.moveToElementText(this[0]);f.setEndPoint("EndToEnd",m);var w=f.text[a]-m.text[a],p=w+m.text[a]}}else{var w=v.selectionStart,p=v.selectionEnd}var j=v.value.substring(w,p);return{start:w,end:p,text:j,replace:function(e){return v.value.substring(0,w)+e+v.value.substring(p,v.value[a])}}}}})(jQuery,"length","createRange","duplicate");(function(a){jQuery.fn.insertAtCaret=function(b){return this.each(function(){$textarea=a(this);caret=$textarea.caret();newCaret=caret.end+b.length-(caret.end-caret.start);$textarea.val($textarea.val().substring(0,caret.start)+b+$textarea.val().substring(caret.end,$textarea.val().length)).caret(newCaret,newCaret)})}})(jQuery);(function(a){a(function(){a("body").bind("popup:loaded",function(){a(".email_content").focus();a("#invoice_profile_email").focus();a("#change_email").click(function(b){a("#email_placeholder").hide();a("#invoice_profile_email").show();a("#invoice_profile_email").focus();return false});a("p.tags a").click(function(){a(".email_content").insertAtCaret("{"+a(this).data("tag")+"}");return false})});a(".toggle_company_information").click(function(){a(".invoice_profile_company_information").toggle().intoViewport();return false});a(".invoice_profile_company_information.inline_form a.cancel").click(function(){a(".invoice_profile_company_information").toggle();return false});if(a(".invoice_profile_company_information span.fieldWithErrors").length>0){a(".invoice_profile_company_information").toggle().intoViewport()}a(".toggle_workflow").click(function(){a(".invoice_profile_workflow").toggle().intoViewport();return false});a(".invoice_profile_workflow.inline_form a.cancel").click(function(){a(".invoice_profile_workflow").toggle();return false});a(".toggle_from_address").click(function(){a(".invoice_profile_from_address").toggle().intoViewport();return false});a(".invoice_profile_from_address.inline_form a.cancel").click(function(){a(".invoice_profile_from_address").toggle();return false});a("img[data-preload]").each(function(){a(this).attr("src",a(this).data("preload")).bind("load",function(){a(this).removeClass("loader")})})})})(jQuery);(function(a){a.belowthefold=function(c,d){var b=a(window).height()+a(window).scrollTop();return b<=a(c).offset().top-d.threshold};a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold};a.rightofscreen=function(c,d){var b=a(window).width()+a(window).scrollLeft();return b<=a(c).offset().left-d.threshold};a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold};a.inviewport=function(b,c){return !a.rightofscreen(b,c)&&!a.leftofscreen(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(c,d,b){return a.belowthefold(c,{threshold:0})},"above-the-top":function(c,d,b){return a.abovethetop(c,{threshold:0})},"left-of-screen":function(c,d,b){return a.leftofscreen(c,{threshold:0})},"right-of-screen":function(c,d,b){return a.rightofscreen(c,{threshold:0})},"in-viewport":function(c,d,b){return a.inviewport(c,{threshold:0})}})})(jQuery);(function(a){a(function(){a("input:checkbox.check_all").checkAll({scope:"table"});a("table.document_table input:checkbox").change(function(){a(this).parents("tr:first").toggleClass("selected",a(this).is(":checked"))}).trigger("change");a("table.document_table span.document_state").click(function(b){location.href=a(this).parents("tr").find("a:first").attr("href")});a(".document_actions").bulkActions({checkboxes:"table.document_table tbody input:checkbox"});a("body").bind("popup:loaded",function(){a("#invoice_payment_payment_method").bind("change",function(){a("#credit_invoice_id_field").toggle(a(this).val()=="credit_invoice")}).trigger("change");a("#invoice_payment_send_email").bind("change",function(){a("#invoice_payment_thanks_email").toggle(a(this).is(":checked"))}).trigger("change")});a("body").bind("popup:loaded",function(){a(".send_invoice input:radio").change(function(){a(".send_invoice .toggle_option").hide();a("#"+a(this).attr("class").match(/toggle_([a-z_]+)/)[1]).show()});a(".send_invoice input:radio:checked").trigger("change")});setDueDateInterval=function(){if(a("#invoice_due_date_interval_select").length>0){var b=[];a("#invoice_due_date_interval_select option").each(function(){if(a(this).val()!=""){b.push(parseInt(a(this).val()))}});if(a.inArray(parseInt(a("#invoice_due_date_interval").val()),b)==-1){a("#invoice_due_date_interval_select").val("");a("#invoice_due_date_interval_select").next().show()}a("#invoice_due_date_interval_select").bind("change",function(){if(a(this).val()==""){a(this).next().show()}else{a(this).next().hide();a("#invoice_due_date_interval").val(a(this).val())}})}};setDueDateInterval.call();a("div.editable.invoice_header").bind("updated",setDueDateInterval);a(".changeInvoiceField").live("click",function(){a(this).hide().parent().find("input, select").attr("disabled",false).focus();return false});a(".invoice_header.editable").bind("stopEdit",function(){a(".changeInvoiceField").show().parent().find("input, select").attr("disabled",true)});a(".download_invoices").click(function(){a(this).parents("form").attr("action",a(this).attr("href")).submit();return false});if(a("#save_message").length>0){$duplicate=a("#save_message").clone().hide().attr("id","floating-box").css({position:"fixed",top:0,"z-index":150,width:a("#save_message").width()}).prependTo(a("#save_message").parents("form"));a(window).bind("scroll resize",function(){if(a.abovethetop("#save_message",{threshold:17})){offset=a("#save_message").offset();a("#floating-box").css({left:offset.left,width:a("#save_message").width()}).show()}else{a("#floating-box").hide()}})}if(a(".small_dropdown").length>0){a(".small_dropdown ul").hide();a(".small_dropdown a.toggle").click(function(){position=a(this).position();a(".small_dropdown ul").css({left:position.left-5,top:position.top+a(this).outerHeight(),zIndex:100}).toggle();a(this).parent().toggleClass("active");return false})}hoverDocumentLedgerAccounts=function(){a("#document_ledger_accounts li").hover(function(){a(".ledger_account_"+a(this).data("ledger-account-id")).addClass("highlight")},function(){a(".ledger_account_"+a(this).data("ledger-account-id")).removeClass("highlight")})};hoverDocumentLedgerAccounts.call();a("#document_ledger_accounts").parent().bind("updated",hoverDocumentLedgerAccounts)})})(jQuery);(function(a){a(function(){a(".toggle_no_mollie_signup, .toggle_mollie_signup").change(function(){a("#mollie_signup").toggle(a(this).val()=="false")});a(".toggle_no_wantmymoney_signup, .toggle_wantmymoney_signup").change(function(){a("#wantmymoney_signup").toggle(a(this).val()=="false")})})})(jQuery);(function(a){jQuery.fn.contactSelect=function(b){return this.each(function(){$contactSelect=a(this).addClass("contact_selection_widget");$input=$contactSelect.find("input[type=text]").addClass("find_contact");$label=$contactSelect.find("label.suggestion").toggle($input.val()=="");$contactSelect.find(".view a").click(function(){a(this).parent(".view").hide().prev().show().find("input[type=text]").val("").focus();return false});if($input.val()!=""){if($contactSelect.find("input.contact_id").val()==""){$input.removeClass("find_contact").removeClass("selected_contact").addClass("new_contact")}else{$input.removeClass("find_contact").addClass("selected_contact")}}$input.focus(function(){$label.hide()}).bind("blur change keyup",function(){if(a(this).val()==""){a(this).removeClass("new_contact").removeClass("selected_contact").addClass("find_contact");$contactSelect.find("input.contact_id").val("").change()}}).bind("blur change",function(){if(a(this).val()==""){$label.show()}});$input.contact_autocomplete({hiddenField:$contactSelect.find("input.contact_id"),delay:300,appendTo:$contactSelect,source:b.autocomplete_url,enabled_add:true,minLength:1,search:function(c,d){a(this).removeClass("new_contact").addClass("find_contact").removeClass("selected_contact")},select:function(d,e){var c=a(this).data("contact_autocomplete");if(e.item.add_contact){a(this).addClass("new_contact").removeClass("find_contact").removeClass("selected_contact");c.options.hiddenField.val("").change();c.close()}else{c.options.hiddenField.val(e.item.id).change();a(this).removeClass("new_contact").removeClass("find_contact").addClass("selected_contact").trigger("selected",d,{item:e.item})}},change:function(d,e){if(!e.item&&a(this).val()!=""){var c=a(this).data("contact_autocomplete");a(this).addClass("new_contact").removeClass("find_contact").removeClass("selected_contact");c.options.hiddenField.val("").change();return false}}})})};a.widget("custom.contact_autocomplete",a.ui.autocomplete,{_renderMenu:function(d,c){var b=this;if(c.length){a.each(c,function(e,f){b._renderItem(d,f).addClass("contact")})}b._renderAddContact(d)},_renderAddContact:function(b){this._renderItem(b,{label:this.term,value:this.term,add_contact:true}).addClass("contact_select_new")},_response:function(b){b=this._normalize(b);this._suggest(b);this._trigger("open");this.element.removeClass("ui-autocomplete-loading")}})})(jQuery);(function(a){a(function(){a(".new_recurring_template p.list input:radio, .edit_recurring_template p.list input:radio").change(function(){if(a("#recurring_template_frequency_type_").is(":checked")){a("#recurring_template_frequency").removeAttr("disabled").focus()}else{a("#recurring_template_frequency").val("").attr("disabled",true)}}).trigger("change");a("#max_occurences").change(function(){if(a(this).is(":checked")){a("#recurring_template_occurences").removeAttr("disabled").focus()}else{a("#recurring_template_occurences").val("").attr("disabled",true)}}).trigger("change")})})(jQuery);(function(a){a.fn.autoResize=function(b){var c=a.extend({onResize:function(){},animate:true,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1000},b);this.filter("textarea").each(function(){var e=a(this).css({resize:"none","overflow-y":"hidden"}),g=e.height(),h=(function(){var j=["height","width","lineHeight","textDecoration","letterSpacing"],l={};a.each(j,function(m,n){l[n]=e.css(n)});return e.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(l).attr("tabIndex","-1").insertBefore(e)})(),f=null,d=function(){h.height(0).val(a(this).val()).scrollTop(10000);var l=Math.max(h.scrollTop(),g)+c.extraSpace,j=a(this).add(h);if(f===l){return}f=l;if(l>=c.limit){a(this).css("overflow-y","");return}c.onResize.call(this);c.animate&&e.css("display")==="block"?j.stop().animate({height:l},c.animateDuration,c.animateCallback):j.height(l)};e.unbind(".dynSiz").bind("keyup.dynSiz",d).bind("keydown.dynSiz",d).bind("change.dynSiz",d)});return this}})(jQuery);var CodeMirrorConfig=window.CodeMirrorConfig||{};var CodeMirror=(function(){function f(g,j){for(var h in j){if(!g.hasOwnProperty(h)){g[h]=j[h]}}}function d(j,h){for(var g=0;g<j.length;g++){h(j[g])}}f(CodeMirrorConfig,{stylesheet:[],path:"",parserfile:[],basefiles:["util.js","stringstream.js","select.js","undo.js","editor.js","tokenize.js"],iframeClass:null,passDelay:200,passTime:50,lineNumberDelay:200,lineNumberTime:50,continuousScanning:false,saveFunction:null,onChange:null,undoDepth:50,undoDelay:800,disableSpellcheck:true,textWrapping:true,readOnly:false,width:"",height:"300px",minHeight:100,autoMatchParens:false,parserConfig:null,tabMode:"indent",enterMode:"indent",electricChars:true,reindentOnLoad:false,activeTokens:null,cursorActivity:null,lineNumbers:false,firstLineNumber:1,indentUnit:2,domain:null,noScriptCaching:false});function b(h,j){var m=document.createElement("DIV"),g=document.createElement("DIV");m.style.position="absolute";m.style.height="100%";if(m.style.setExpression){try{m.style.setExpression("height","this.previousSibling.offsetHeight + 'px'")}catch(l){}}m.style.top="0px";m.style.left="0px";m.style.overflow="hidden";h.appendChild(m);g.className="CodeMirror-line-numbers";m.appendChild(g);g.innerHTML="<div>"+j+"</div>";return m}function e(g){if(typeof g.parserfile=="string"){g.parserfile=[g.parserfile]}if(typeof g.basefiles=="string"){g.basefiles=[g.basefiles]}if(typeof g.stylesheet=="string"){g.stylesheet=[g.stylesheet]}var h=['<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>'];h.push('<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"/>');d(g.stylesheet,function(j){h.push('<link rel="stylesheet" type="text/css" href="'+j+'"/>')});d(g.basefiles.concat(g.parserfile),function(j){if(!/^https?:/.test(j)){j=g.path+j}h.push('<script type="text/javascript" src="'+j+(g.noScriptCaching?"?nocache="+new Date().getTime().toString(16):"")+'"><\/script>')});h.push('</head><body style="border-width: 0;" class="editbox" spellcheck="'+(g.disableSpellcheck?"false":"true")+'"></body></html>');return h.join("")}var c=document.selection&&window.ActiveXObject&&/MSIE/.test(navigator.userAgent);function a(h,j){this.options=j=j||{};f(j,CodeMirrorConfig);if(j.dumbTabs){j.tabMode="spaces"}else{if(j.normalTab){j.tabMode="default"}}var l=this.frame=document.createElement("IFRAME");if(j.iframeClass){l.className=j.iframeClass}l.frameBorder=0;l.style.border="0";l.style.width="100%";l.style.height="100%";l.style.display="block";var m=this.wrapping=document.createElement("DIV");m.style.position="relative";m.className="CodeMirror-wrapping";m.style.width=j.width;m.style.height=(j.height=="dynamic")?j.minHeight+"px":j.height;var g=this.textareaHack=document.createElement("TEXTAREA");m.appendChild(g);g.style.position="absolute";g.style.left="-10000px";g.style.width="10px";l.CodeMirror=this;if(j.domain&&c){this.html=e(j);l.src="javascript:(function(){document.open();"+(j.domain?'document.domain="'+j.domain+'";':"")+"document.write(window.frameElement.CodeMirror.html);document.close();})()"}else{l.src="javascript:;"}if(h.appendChild){h.appendChild(m)}else{h(m)}m.appendChild(l);if(j.lineNumbers){this.lineNumbers=b(m,j.firstLineNumber)}this.win=l.contentWindow;if(!j.domain||!c){this.win.document.open();this.win.document.write(e(j));this.win.document.close()}}a.prototype={init:function(){if(this.options.initCallback){this.options.initCallback(this)}if(this.options.lineNumbers){this.activateLineNumbers()}if(this.options.reindentOnLoad){this.reindent()}if(this.options.height=="dynamic"){this.setDynamicHeight()}},getCode:function(){return this.editor.getCode()},setCode:function(g){this.editor.importCode(g)},selection:function(){this.focusIfIE();return this.editor.selectedText()},reindent:function(){this.editor.reindent()},reindentSelection:function(){this.focusIfIE();this.editor.reindentSelection(null)},focusIfIE:function(){if(this.win.select.ie_selection){this.focus()}},focus:function(){this.win.focus();if(this.editor.selectionSnapshot){this.win.select.setBookmark(this.win.document.body,this.editor.selectionSnapshot)}},replaceSelection:function(g){this.focus();this.editor.replaceSelection(g);return true},replaceChars:function(h,j,g){this.editor.replaceChars(h,j,g)},getSearchCursor:function(h,g,j){return this.editor.getSearchCursor(h,g,j)},undo:function(){this.editor.history.undo()},redo:function(){this.editor.history.redo()},historySize:function(){return this.editor.history.historySize()},clearHistory:function(){this.editor.history.clear()},grabKeys:function(h,g){this.editor.grabKeys(h,g)},ungrabKeys:function(){this.editor.ungrabKeys()},setParser:function(g,h){this.editor.setParser(g,h)},setSpellcheck:function(g){this.win.document.body.spellcheck=g},setStylesheet:function(o){if(typeof o==="string"){o=[o]}var j={};var m={};var h=this.win.document.getElementsByTagName("link");for(var g=0,n;n=h[g];g++){if(n.rel.indexOf("stylesheet")!==-1){for(var p=0;p<o.length;p++){var l=o[p];if(n.href.substring(n.href.length-l.length)===l){j[n.href]=true;m[l]=true}}}}for(var g=0,n;n=h[g];g++){if(n.rel.indexOf("stylesheet")!==-1){n.disabled=!(n.href in j)}}for(var p=0;p<o.length;p++){var l=o[p];if(!(l in m)){var n=this.win.document.createElement("link");n.rel="stylesheet";n.type="text/css";n.href=l;this.win.document.getElementsByTagName("head")[0].appendChild(n)}}},setTextWrapping:function(g){if(g==this.options.textWrapping){return}this.win.document.body.style.whiteSpace=g?"":"nowrap";this.options.textWrapping=g;if(this.lineNumbers){this.setLineNumbers(false);this.setLineNumbers(true)}},setIndentUnit:function(g){this.win.indentUnit=g},setUndoDepth:function(g){this.editor.history.maxDepth=g},setTabMode:function(g){this.options.tabMode=g},setEnterMode:function(g){this.options.enterMode=g},setLineNumbers:function(g){if(g&&!this.lineNumbers){this.lineNumbers=b(this.wrapping,this.options.firstLineNumber);this.activateLineNumbers()}else{if(!g&&this.lineNumbers){this.wrapping.removeChild(this.lineNumbers);this.wrapping.style.paddingLeft="";this.lineNumbers=null}}},cursorPosition:function(g){this.focusIfIE();return this.editor.cursorPosition(g)},firstLine:function(){return this.editor.firstLine()},lastLine:function(){return this.editor.lastLine()},nextLine:function(g){return this.editor.nextLine(g)},prevLine:function(g){return this.editor.prevLine(g)},lineContent:function(g){return this.editor.lineContent(g)},setLineContent:function(g,h){this.editor.setLineContent(g,h)},removeLine:function(g){this.editor.removeLine(g)},insertIntoLine:function(h,g,j){this.editor.insertIntoLine(h,g,j)},selectLines:function(l,g,j,h){this.win.focus();this.editor.selectLines(l,g,j,h)},nthLine:function(h){var g=this.firstLine();for(;h>1&&g!==false;h--){g=this.nextLine(g)}return g},lineNumber:function(g){var h=0;while(g!==false){h++;g=this.prevLine(g)}return h},jumpToLine:function(g){if(typeof g=="number"){g=this.nthLine(g)}this.selectLines(g,0);this.win.focus()},currentLine:function(){return this.lineNumber(this.cursorLine())},cursorLine:function(){return this.cursorPosition().line},cursorCoords:function(g){return this.editor.cursorCoords(g)},activateLineNumbers:function(){var j=this.frame,r=j.contentWindow,v=r.document,o=v.body,w=this.lineNumbers,p=w.firstChild,x=this;var y=null;function h(){if(j.offsetWidth==0){return}for(var z=j;z.parentNode;z=z.parentNode){}if(!w.parentNode||z!=document||!r.Editor){try{n()}catch(A){}clearInterval(g);return}if(w.offsetWidth!=y){y=w.offsetWidth;j.parentNode.style.paddingLeft=y+"px"}}function l(){w.scrollTop=o.scrollTop||v.documentElement.scrollTop||0}var n=function(){};h();var g=setInterval(h,500);function u(D){var C=p.firstChild.offsetHeight;if(C==0){return}var z=50+Math.max(o.offsetHeight,Math.max(j.offsetHeight,o.scrollHeight||0)),A=Math.ceil(z/C);for(var B=p.childNodes.length;B<=A;B++){var E=document.createElement("DIV");E.appendChild(document.createTextNode(D?String(B+x.options.firstLineNumber):"\u00a0"));p.appendChild(E)}}function q(){function B(){u(true);l()}x.updateNumbers=B;var z=r.addEventHandler(r,"scroll",l,true),A=r.addEventHandler(r,"resize",B,true);n=function(){z();A();if(x.updateNumbers==B){x.updateNumbers=null}};B()}function m(){var D,G,F,I,L=[],M=x.options.styleNumbers;function J(O,N){if(!G){G=p.appendChild(document.createElement("DIV"))}if(M){M(G,N,O)}L.push(G);L.push(O);I=G.offsetHeight+G.offsetTop;G=G.nextSibling}function C(){for(var N=0;N<L.length;N+=2){L[N].innerHTML=L[N+1]}L=[]}function K(){if(!p.parentNode||p.parentNode!=x.lineNumbers){return}var N=new Date().getTime()+x.options.lineNumberTime;while(D){J(F++,D.previousSibling);for(;D&&!r.isBR(D);D=D.nextSibling){var O=D.offsetTop+D.offsetHeight;while(p.offsetHeight&&O-3>I){J("&nbsp;")}}if(D){D=D.nextSibling}if(new Date().getTime()>N){C();A=setTimeout(K,x.options.lineNumberDelay);return}}while(G){J(F++)}C();l()}function B(N){l();u(N);D=o.firstChild;G=p.firstChild;I=0;F=x.options.firstLineNumber;K()}B(true);var A=null;function E(){if(A){clearTimeout(A)}if(x.editor.allClean()){B()}else{A=setTimeout(E,200)}}x.updateNumbers=E;var H=r.addEventHandler(r,"scroll",l,true),z=r.addEventHandler(r,"resize",E,true);n=function(){if(A){clearTimeout(A)}if(x.updateNumbers==E){x.updateNumbers=null}H();z()}}(this.options.textWrapping||this.options.styleNumbers?m:q)()},setDynamicHeight:function(){var j=this,o=j.options.cursorActivity,n=j.win,h=n.document.body,l=null,m=null,g=2*j.frame.offsetTop;h.style.overflowY="hidden";n.document.documentElement.style.overflowY="hidden";this.frame.scrolling="no";function p(){var q=0,r=h.lastChild,u;while(r&&n.isBR(r)){if(!r.hackBR){q++}r=r.previousSibling}if(r){l=r.offsetHeight;u=r.offsetTop+(1+q)*l}else{if(l){u=q*l}}if(u){j.wrapping.style.height=Math.max(g+u,j.options.minHeight)+"px"}}setTimeout(p,300);j.options.cursorActivity=function(q){if(o){o(q)}clearTimeout(m);m=setTimeout(p,100)}}};a.InvalidLineHandle={toString:function(){return"CodeMirror.InvalidLineHandle"}};a.replace=function(g){if(typeof g=="string"){g=document.getElementById(g)}return function(h){g.parentNode.replaceChild(h,g)}};a.fromTextArea=function(l,j){if(typeof l=="string"){l=document.getElementById(l)}j=j||{};if(l.style.width&&j.width==null){j.width=l.style.width}if(l.style.height&&j.height==null){j.height=l.style.height}if(j.content==null){j.content=l.value}if(l.form){function h(){l.value=n.getCode()}if(typeof l.form.addEventListener=="function"){l.form.addEventListener("submit",h,false)}else{l.form.attachEvent("onsubmit",h)}var g=l.form.submit;function o(){h();l.form.submit=g;l.form.submit();l.form.submit=o}l.form.submit=o}function m(p){if(l.nextSibling){l.parentNode.insertBefore(p,l.nextSibling)}else{l.parentNode.appendChild(p)}}l.style.display="none";var n=new a(m,j);n.toTextArea=function(){h();l.parentNode.removeChild(n.wrapping);l.style.display="";if(l.form){l.form.submit=g;if(typeof l.form.removeEventListener=="function"){l.form.removeEventListener("submit",h,false)}else{l.form.detachEvent("onsubmit",h)}}};return n};a.isProbablySupported=function(){var g;if(window.opera){return Number(window.opera.version())>=9.52}else{if(/Apple Computer, Inc/.test(navigator.vendor)&&(g=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)?)\./))){return Number(g[1])>=3}else{if(document.selection&&window.ActiveXObject&&(g=navigator.userAgent.match(/MSIE (\d+(?:\.\d*)?)\b/))){return Number(g[1])>=6}else{if(g=navigator.userAgent.match(/gecko\/(\d{8})/i)){return Number(g[1])>=20050901}else{if(g=navigator.userAgent.match(/AppleWebKit\/(\d+)/)){return Number(g[1])>=525}else{return null}}}}}};return a})();var css_editor;(function(a){a(function(){a(".edit_layout #menu li").click(function(){hadClass=a(this).hasClass("active");a(".edit_layout .layout_form .logo:visible #logo_size_slider").slider("destroy");a(".edit_layout .layout_form, .edit_layout .layout_form .form").hide();a(".edit_layout #menu li").removeClass("active");if(!hadClass){a(".edit_layout .layout_form").css({top:51,left:a(this).position().left}).show();a(".edit_layout .layout_form .form."+a(this).data("toggle")).show();a(this).addClass("active");a(".edit_layout .layout_form textarea").keydown();c.refresh();if(a(this).data("toggle")=="logo"){a("#logo_size_slider").slider({min:10,max:692,value:a("input#invoice_profile_logo_display_width").val(),slide:function(e,f){a("input#invoice_profile_logo_display_width").val(f.value).change()}})}}return false});a(".edit_layout .container").click(function(){a(".edit_layout #menu li.active").click()});a("body").bind("popup:visible",function(){});function d(){a(".layout_form").css("max-height",a("body").innerHeight()-a("#header").outerHeight()-50)}d.call();a(window).resize(d);a(".edit_layout a.toggle").click(function(){a(".page.invoice, .page.estimate, .invoice_profile_invoice, .invoice_profile_estimate").hide();a(".page."+a(this).data("toggle")+", .invoice_profile_"+a(this).data("toggle")).show();a(".edit_layout a").removeClass("active");a(this).addClass("active");return false});a(".edit_layout a.toggle:first").click();a(".edit_layout a.preview_pdf").click(function(){old_action=a("form.edit_invoice_profile").attr("action");a("form.edit_invoice_profile").attr("action",a(this).attr("href")).attr("target","_blank").submit();a("form.edit_invoice_profile").attr("action",old_action).attr("target","");return false});a("#invoice_profile_sender_address, #invoice_profile_description, #invoice_profile_pre_text, #invoice_profile_post_text, #invoice_profile_custom_css").autoResize();a('.edit_layout input:radio[name="invoice_profile[address_position]"]').change(function(){a(".document .header").removeClass("address_left address_right").addClass("address_"+a(this).val())});a('.edit_layout input:radio[name="invoice_profile[logo_position]"]').change(function(){a(".document .header").removeClass("logo_left logo_center logo_right").addClass("logo_"+a(this).val())});a('.edit_layout input:checkbox[name="invoice_profile[logo_container_full_width]"]').change(function(){a(".document .header").toggleClass("logo_container_full_width",a(this).is(":checked"));a("input#invoice_profile_logo_display_width").change()});a(".edit_layout input#invoice_profile_logo_display_width, .edit_layout input#size_ratio").change(function(){width=parseFloat(a("input#invoice_profile_logo_display_width").val());height=width*parseFloat(a("input#size_ratio").val());a(".document .header .logo img").css({width:width,height:height});a(".document .header .sender_address").css({top:0});a(".document .header.logo_container_full_width .sender_address").css({top:height});a(".edit_layout #logo_size").html(Math.round(width)+" &times; "+Math.round(height))});a('.edit_layout input:radio[name="invoice_profile[font_size]"]').change(function(){font_sizes={9:"small",10:"medium",11:"large",12:"xlarge"};a(".document").removeClass("font_size_small font_size_medium font_size_large font_size_xlarge").addClass("font_size_"+font_sizes[a(this).val()])});a('.edit_layout input:radio[name="invoice_profile[font_family]"]').change(function(){a(".document").removeClass("font_family_helvetica font_family_times font_family_courier font_family_georgia font_family_verdana font_family_lucida_grande font_family_arial").addClass("font_family_"+a(this).val())});a(".edit_layout textarea#invoice_profile_sender_address, .edit_layout textarea#invoice_profile_description,.edit_layout textarea#invoice_profile_pre_text,.edit_layout textarea#invoice_profile_post_text,.edit_layout select#invoice_profile_language,.edit_layout select#invoice_profile_currency,.edit_layout input#invoice_profile_show_customer_id,.edit_layout input#invoice_profile_show_tax_number,.edit_layout input#invoice_profile_show_tax,.edit_layout textarea#invoice_profile_custom_css").change(b);function b(e){if(e!="true"){e="false"}a("#preview_loader").show();a.post(a("#edit_layout_url").val()+".json?save="+e,a("form.edit_invoice_profile").serialize(),function(f){a("#documents").html(f.invoice+f.estimate);a("#preview_loader").hide();a(".edit_layout a.toggle.active").click();if(a(".document.invoice div.css_error").length>0){a(".form.advanced p.css_error").html(a(".document.invoice div.css_error").html());a(".document div.css_error").hide();a("#tab_advanced").not(".active").click();if(css_editor){css_editor.jumpToLine(css_editor.nthLine(a(".document div.css_error").data("css-line")))}}else{a(".form.advanced p.css_error").html("")}},"json")}a("input.submit_invoice_profile").click(function(){b("true");return false});if(a(".edit_layout").length>0){var c=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",url:a("#upload_url").val(),max_file_size:"5mb",multi_selection:false,multipart:true,filters:[{title:"Images",extensions:"jpg,jpeg,gif,png,svg"}],flash_swf_url:"/plupload/plupload.flash.swf",silverlight_xap_url:"/plupload/plupload.silverlight.xap",browse_button:"upload_logo"});c.init();c.bind("FilesAdded",function(e,f){if(a(".upload_progress div.error").length==0){a(".upload_buttons").hide()}a("#preview_loader").show();a.each(f,function(h,g){if(a("#"+g.id).length==0){a('<div id="'+g.id+'" class="uploading"><p>'+g.name+'</p><div class="upload_percentage" id="'+g.id+'_progress"></div></div>').appendTo(".upload_progress");a("#"+g.id+"_progress").progressbar()}});c.refresh();c.start()});c.bind("Error",function(e,f){console.info(f);if(a("#"+f.file.id).length>0){a("#"+f.file.id).addClass("error");a("#"+f.file.id+" p").html(f.file.name+": "+f.message)}else{a('<div id="'+f.file.id+'" class="uploading error"><p>'+f.file.name+": "+f.message+'</p><div class="upload_percentage" id="'+f.file.id+'_progress"></div></div>').appendTo(".upload_progress")}a(".upload_buttons").show();a("#preview_loader").hide();c.refresh();return false});c.bind("UploadProgress",function(e,f){a("#"+f.id+"_progress").progressbar("value",f.percent);a("#"+f.id+" p").html(f.name+": "+f.percent+"%")});c.bind("FileUploaded",function(e,g,f){response_obj=JSON.parse(f.response);if(a(".document .header .logo img").length==0){a("<img />").appendTo(".document .header .logo")}a(".edit_layout img#logo_thumbnail, .document .header .logo img").attr("src",response_obj.url);a(".edit_layout input#size_ratio").val(response_obj.ratio).change();a(".show_logo").show();a("#preview_loader").hide();a("#"+g.id).hide();c.refresh()})}if((a.browser.webkit||a.browser.mozilla)&&a("textarea#invoice_profile_custom_css").length>0){css_editor=CodeMirror.fromTextArea("invoice_profile_custom_css",{parserfile:["parsecss.js"],path:"/codemirror/javascripts/",stylesheet:"/codemirror/stylesheets/csscolors.css",height:"200px",onChange:function(){a("textarea#invoice_profile_custom_css").val(css_editor.getCode())}})}a("#refresh_preview").click(function(){b();return false});a(".edit_layout p.tags a").click(function(){a(a(this).data("textarea")).insertAtCaret("{"+a(this).data("tag")+"}").change();return false})})})(jQuery);(function(a){a(function(){a("input.source_code").live("focus",function(){a(this).select()});a("body").bind("popup:loaded",function(){if(a("#upload_document_attachment").length>0){var b=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",url:a("#upload_document_attachments_url").val(),max_file_size:"2mb",multi_selection:false,multipart:true,flash_swf_url:"/plupload/plupload.flash.swf",silverlight_xap_url:"/plupload/plupload.silverlight.xap",browse_button:"upload_document_attachment"});b.init();b.bind("FilesAdded",function(c,d){if(a(".upload_progress div.error").length==0){a(".upload_buttons").hide()}a.each(d,function(f,e){if(a("#"+e.id).length==0){a('<div id="'+e.id+'" class="uploading"><p>'+e.name+'</p><div class="upload_percentage" id="'+e.id+'_progress"></div></div>').appendTo(".document_attachments .upload_progress");a("#"+e.id+"_progress").progressbar()}});b.refresh();b.start()});b.bind("Error",function(c,d){if(a("#"+d.file.id).length>0){a("#"+d.file.id).addClass("error");a("#"+d.file.id+" p").html(d.file.name+": "+d.message)}else{a('<div id="'+d.file.id+'" class="uploading error"><p>'+d.file.name+": "+d.message+'</p><div class="upload_percentage" id="'+d.file.id+'_progress"></div></div>').appendTo(".upload_progress")}a(".upload_buttons").show();b.refresh();return false});b.bind("UploadProgress",function(c,d){a("#"+d.id+"_progress").progressbar("value",d.percent);a("#"+d.id+" p").html(d.name+": "+d.percent+"%")});b.bind("FileUploaded",function(c,e,d){a(".document_attachments .empty").hide();a(d.response).appendTo(".document_attachments ul");a("#"+e.id).hide();b.refresh()});a(".document_attachments li a.delete").click(function(){if(confirm(a(this).data("confirm-text"))){a.ajax({url:a(this).attr("href"),type:"DELETE"});a(this).parents("li").remove()}return false})}})})})(jQuery);(function(a){a(function(){a(".products .add_new a").click(function(){a("#new_product").show();a("ul#new_product #product_description").focus();return false});a("#new_product textarea").autogrow({chars:85});submitProductInline=function(d){d.preventDefault();a(this).find(".button").hide();a(this).find(".ajax-loader").show();a.ajax({data:a(this).serialize(),dataType:"json",url:a(this).attr("action"),type:a(this).attr("method"),context:a(this).parents("li")}).success(function(e){if(e.new_product){a("ul.product_list li.empty").hide();a("ul.product_list").append(e.new_product);a("ul#new_product form")[0].reset();a("ul#new_product form span.fieldWithErrors").removeClass("fieldWithErrors");a("ul#new_product form div.formError").hide();a("ul#new_product #product_description").focus();a("ul.product_list li").last().effect("highlight",{},3000)}else{if(e.show_product){a(this).replaceWith(e.show_product)}else{a(this).replaceWith(e.edit_product);a("form.new_product, form.edit_product").submit(submitProductInline)}}a(this).find(".ajax-loader").hide();a(this).find(".button").show()}).error(function(e){a(this).find(".ajax-loader").hide();a(this).find(".button").show()});return false};a("form.new_product").submit(submitProductInline);a("ul.products li a.edit_product_url").live("click",function(d){d.preventDefault();a("ul#new_product").hide();if(a("ul.products form.edit_product").length==0){a.ajax({url:a(this).attr("href"),type:a(this).data("method"),dataType:"json",context:a(this).parents("li")}).success(function(e){a(this).replaceWith(e.edit_product);a("form.edit_product").submit(submitProductInline)})}return false});a("ul.products li a.destroy_product_url").live("click",function(d){d.preventDefault();if(confirm(a(this).data("confirm-text"))){a.ajax({url:a(this).attr("href"),type:"DELETE",dataType:"json",context:a(this).parents("li")}).success(function(e){a(this).hide(300)})}return false});function c(){$element=a(this);if($element.val().indexOf("i")>-1){$element.data("priceBeforeTranslate",$element.val())}else{$element.data("priceBeforeTranslate","")}b($element)}function b(d){if(d.data("priceBeforeTranslate").length>0){tax=parseFloat(d.parents("li").find("div.tax select.tax").val());if(isNaN(tax)){tax=0}beforeTranslate=d.data("priceBeforeTranslate");priceExclTax=parseFloat(beforeTranslate.replace("i","").replace(",","."))/(1+tax);var e=new NumberFormat();e.setInputDecimal(".");e.setPlaces("3",false);e.setCurrency(false);e.setNegativeFormat(e.LEFT_DASH);e.setSeparators(false,".",numberFormat.seperator);e.setNumber(priceExclTax);d.val(e.toFormatted()).trigger("change");d.data("priceBeforeTranslate",beforeTranslate)}}a("ul.products li.form input.price").live("change",c);a("ul.products li.form select.tax").live("change",function(){b(a(this).parents("li").find("input.price"))})})})(jQuery);(function($){$(function(){$(".bank_mutations table tr").hover(function(){$(this).find(".edit a").show()},function(){$(this).find(".edit a").hide()});$(".edit_bank_mutation .remove_row").live("click",function(){$fieldset=$(this).parents("tr");$fieldset.find("input.destroy_checkbox[type=checkbox]").val(true).attr("checked",true);$fieldset.hide();updateAmountToRegister();return false});var currentAmountToRegister=0;function updateAmountToRegister(){formatter=new NumberFormat();formatter.setInputDecimal(".");formatter.setPlaces("2",false);formatter.setCurrencyValue(numberFormat.unit);formatter.setCurrency(true);formatter.setCurrencyPosition(formatter.LEFT_INSIDE);formatter.setNegativeFormat(formatter.LEFT_DASH);formatter.setSeparators(true,numberFormat.delimiter,numberFormat.seperator);amount_to_register=parseFloat($("#amount_to_register").val().replace(",","."));registered_amount=0;$(".edit_bank_mutation fieldset:visible").each(function(){effective_price=$(this).data("effective-price");if(effective_price!==undefined){formatter.setNumber(Math.abs(effective_price));with($(this).parents("tr")){find("td.positive_negative").html(effective_price>=0?find("td.positive_negative").data("positive"):find("td.positive_negative").data("negative"));find("td.amount").html(formatter.toFormatted())}registered_amount=registered_amount+effective_price}});currentAmountToRegister=amount_to_register-registered_amount;formatter.setNumber(currentAmountToRegister);$(".edit_bank_mutation td.amount.to_register").html(formatter.toFormatted()).toggleClass("done",currentAmountToRegister==0);formatter.setCurrency(false);formatter.setSeparators(false,numberFormat.delimiter,numberFormat.seperator);formattedCurrentAmountToRegister=formatter.toFormatted();formatter.setNumber(-1*currentAmountToRegister);negativeFormattedAmountToRegister=formatter.toFormatted()}function updateEffectivePrices(){$(".edit_bank_mutation fieldset:visible input.payment_price_base, .edit_bank_mutation fieldset:visible input.ledger_account_price").each(function(){fieldset=$(this).parents("fieldset");calculator=1;if(fieldset.data("document-type")=="IncomingInvoice"||fieldset.data("document-type")=="LedgerAccountBooking"){calculator=-1}price=parseFloat($(this).val().replace(",","."));if(isNaN(price)){price=0}fieldset.data("effective-price",calculator*price)});updateAmountToRegister()}$(".edit_bank_mutation input.payment_price").live("change keyup",function(){$(this).parent().find("input.payment_price_base:hidden").val($(this).val()).change()});$(".edit_bank_mutation input.price").live("change keyup",updateEffectivePrices);if($(".edit_bank_mutation").length>0){updateEffectivePrices()}$(".edit_bank_mutation fieldset#new_payment").last().parents("tr").addClass("concept").hide();$(".edit_bank_mutation fieldset#new_ledger_account_booking").last().parents("tr").addClass("concept").hide();$(".edit_bank_mutation .new_payment, .edit_bank_mutation .new_ledger_account_booking").click(function(){newRowId=new Date().getTime();with($(".edit_bank_mutation tr.concept fieldset#"+$(this).attr("class")).last().parents("tr").clone()){insertBefore($(".edit_bank_mutation tr.last_row"));show().removeClass("concept");find("input, select, textarea").each(function(){$(this).attr("name",$(this).attr("name").replace(/\[[0-9]+\]/,"["+newRowId+"]"))});find("input.price").val($(this).attr("class")=="new_payment"?"":negativeFormattedAmountToRegister);data("document-type","")}updateEffectivePrices();return false});$(".edit_bank_mutation a.search_invoice").live("click",function(){if(!$(this).hasClass("disabled")){$(this).toggleClass("active").parents("fieldset").find(".document_suggestions").toggle().find("input#query").focus()}return false});$(".edit_bank_mutation .document_suggestions table tr").live("click",function(){with($(this).parents("fieldset")){find("input.payment_document_id").val($(this).data("document-id"));find("input.payment_document_type").val($(this).data("document-type"));find("input.payment_price").val($(this).data("document-price-suggestion")).focus();find("span.document_currency").html($(this).data("document-currency"));find("input.payment_price_base").val($(this).data("document-price-base-suggestion"));if($(this).data("document-foreign-currency")==true){find("span.payment_base").show();find("input.payment_price_base").focus()}else{find("span.payment_base").hide()}find("a.search_invoice").html($(this).data("document-description")).removeClass("active");find(".document_suggestions").toggle();data("document-type",$(this).data("document-type"))}updateEffectivePrices();return false});$(".edit_bank_mutation .document_suggestions input[type=button]").live("click",function(){$(this).next().show();$.ajax({url:$("input#search_url").val(),context:$(this).parents(".document_suggestions"),data:{query:$(this).prev().val()}}).success(function(data){$(this).find(".results").html(data);$(this).find(".ajax-loader").hide()});return false});$(".edit_bank_mutation .document_suggestions input#query").live("keypress",function(event){if(event.keyCode=="13"){event.preventDefault();$(this).next().click();return false}});$(".edit_bank_mutation select.ledger_account_booking_ledger_account_id").live("change",function(){optgroup=$(this).find("option:selected").parent();show_hide_in_report=optgroup.is("optgroup")?optgroup.data("hide-report-enabled"):false;$(this).parents("fieldset.bank_mutation_ledger_account_booking").find("p.hide_in_report").toggle(show_hide_in_report)}).change();var numCheckedForImportReady=1;function checkForImportReady(url){if($("p.bank_account_import_progress:visible").length>0){setTimeout(function(){$("p.bank_account_import_progress:visible").each(function(){$.ajax({url:$(this).data("poll-url"),dataType:"json",context:$(this),success:function(data){if(!data.processing){$(this).hide();$(this).next().show()}}})});checkForImportReady()},5000*numCheckedForImportReady++)}}checkForImportReady();$("body").bind("popup:loaded",function(){if($("#upload_bank_mutations").length>0){var uploader=new plupload.Uploader({runtimes:"gears,html5,flash,silverlight,browserplus",url:$("#upload_url").val(),max_file_size:"5mb",multi_selection:false,flash_swf_url:"/plupload/plupload.flash.swf",silverlight_xap_url:"/plupload/plupload.silverlight.xap",browse_button:"upload_bank_mutations"});uploader.init();uploader.bind("FilesAdded",function(up,files){$(".upload_progress div.error").hide();if($(".upload_progress div.error").length==0){$(".upload_buttons").hide()}$.each(files,function(i,file){if($("#"+file.id).length==0){$('<div id="'+file.id+'" class="uploading"><p>'+file.name+'</p><div class="upload_percentage" id="'+file.id+'_progress"></div></div>').appendTo(".upload_progress");$("#"+file.id+"_progress").progressbar()}});uploader.refresh();uploader.start()});uploader.bind("Error",function(up,err){if($("#"+err.file.id).length>0){$("#"+err.file.id).addClass("error");$("#"+err.file.id+" p").html(err.file.name+": "+err.message)}else{$('<div id="'+err.file.id+'" class="uploading error"><p>'+err.file.name+": "+err.message+'</p><div class="upload_percentage" id="'+err.file.id+'_progress"></div></div>').appendTo(".upload_progress")}$(".upload_buttons").show();uploader.refresh();return false});uploader.bind("UploadProgress",function(up,file){$("#"+file.id+"_progress").progressbar("value",file.percent);$("#"+file.id+" p").html(file.name+": "+file.percent+"%")});uploader.bind("FileUploaded",function(up,file,response){response_obj=JSON.parse(response.response);if(response_obj.error){$("#"+file.id+" p").html(file.name+": "+response_obj.error);$("#"+file.id).addClass("error");$(".upload_buttons").show();uploader.refresh()}else{$("#popup").html(response_obj.content)}})}})})})(jQuery);(function(c){var a=c.scrollTo=function(f,e,d){c(window).scrollTo(f,e,d)};a.defaults={axis:"xy",duration:parseFloat(c.fn.jquery)>=1.3?0:1};a.window=function(d){return c(window)._scrollable()};c.fn._scrollable=function(){return this.map(function(){var e=this,d=!e.nodeName||c.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!d){return e}var f=(e.contentWindow||e).document||e.ownerDocument||e;return c.browser.safari||f.compatMode=="BackCompat"?f.body:f.documentElement})};c.fn.scrollTo=function(f,e,d){if(typeof e=="object"){d=e;e=0}if(typeof d=="function"){d={onAfter:d}}if(f=="max"){f=9000000000}d=c.extend({},a.defaults,d);e=e||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){e/=2}d.offset=b(d.offset);d.over=b(d.over);return this._scrollable().each(function(){var n=this,l=c(n),m=f,j,g={},o=l.is("html,body");switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(m)){m=b(m);break}m=c(m,this);case"object":if(m.is||m.style){j=(m=c(m)).offset()}}c.each(d.axis.split(""),function(u,v){var w=v=="x"?"Left":"Top",y=w.toLowerCase(),r="scroll"+w,q=n[r],p=a.max(n,v);if(j){g[r]=j[y]+(o?0:q-l.offset()[y]);if(d.margin){g[r]-=parseInt(m.css("margin"+w))||0;g[r]-=parseInt(m.css("border"+w+"Width"))||0}g[r]+=d.offset[y]||0;if(d.over[y]){g[r]+=m[v=="x"?"width":"height"]()*d.over[y]}}else{var x=m[y];g[r]=x.slice&&x.slice(-1)=="%"?parseFloat(x)/100*p:x}if(/^\d+$/.test(g[r])){g[r]=g[r]<=0?0:Math.min(g[r],p)}if(!u&&d.queue){if(q!=g[r]){h(d.onAfterFirst)}delete g[r]}});h(d.onAfter);function h(p){l.animate(g,e,d.easing,p&&function(){p.call(this,f,d)})}}).end()};a.max=function(l,j){var h=j=="x"?"Width":"Height",e="scroll"+h;if(!c(l).is("html,body")){return l[e]-c(l)[h.toLowerCase()]()}var g="client"+h,f=l.ownerDocument.documentElement,d=l.ownerDocument.body;return Math.max(f[e],d[e])-Math.min(f[g],d[g])};function b(d){return typeof d=="object"?d:{top:d,left:d}}})(jQuery);(function(a){a(function(){a(".ledger_accounts li.inactive").hide();a(".ledger_accounts a.show_inactive_ledger_accounts").next().hide();a(".ledger_accounts a.show_inactive_ledger_accounts").click(function(){a(".ledger_accounts li.inactive").toggle();a(this).hide().next().toggle();return false})})})(jQuery);(function(a){a(function(){a("#report_button").click(function(){a("#report_period_begin_year, #report_period_begin_month, #report_period_end_year, #report_period_end_month").removeClass("fieldWithErrors");parts=[a("#report_url").val()];if(a("#report_ledger_account_id").val()!==undefined){parts.push(a("#report_ledger_account_id").val())}if(a("#report_period").val()!==undefined&&a("#report_period").val()!="other"){parts.push(a("#report_period").val())}if(a("#report_period").val()!==undefined&&a("#report_period").val()=="other"){begin_year=a("#report_period_begin_year").val();begin_month=a("#report_period_begin_month").val();if(begin_month.length==1){begin_month="0"+begin_month}end_year=a("#report_period_end_year").val();end_month=a("#report_period_end_month").val();if(end_month.length==1){end_month="0"+end_month}if(parseInt(begin_year+begin_month)>parseInt(end_year+end_month)){a("#report_period_begin_year, #report_period_begin_month, #report_period_end_year, #report_period_end_month").addClass("fieldWithErrors");return false}parts.push(""+begin_year+begin_month+".."+end_year+end_month)}if(a("#report_granularity").val()!==undefined){parts.push(a("#report_granularity").val())}if(a("#report_hide_hidden_bookings").val()!==undefined){parts.push(a("#report_hide_hidden_bookings").is(":checked"))}location.href=parts.join("/");return false});a("#report_period").change(function(){a("#report_period_other").toggle(a(this).val()=="other")}).change()})})(jQuery);(function(a){a(function(){a(".user_type_selector input[type=radio]").change(function(){a(".user_type_selector .selected").removeClass("selected");a(this).parents("li").addClass("selected");a(".user_type_selector ."+a(this).attr("id")).addClass("selected")});a(".user_type_selector input[type=radio]:checked").change()})})(jQuery);(function(a){a(function(){a(".hover-actions").hoverAction();a(".open-in-popup, .submit-in-popup").popup();a("a.cancel").live("click",function(){if(a(this).parents(".cancelable:first").length>0){a(this).parents(".cancelable:first").fadeOut().trigger("cancelled");return false}});if(!a.browser.msie){a(".client_layout .bottom div.content, .client_layout .bottom div.inner").corner("10px")}a("ul.new_actions li.submenu > a, ul.new_actions li.submenu > span a").toggle(function(){a(this).parents("li").find("ul").show()},function(){a(this).parents("li").find("ul").hide()});a("#invoice_comment_add, #estimate_comment_add, #incoming_invoice_comment_add").click(function(){a(this).parent().hide().next().slideDown();a("#history_description").focus();return false});a(".price").priceField();a(".editable").bind("updated",function(){a(".price").priceField()});a("#filter_macro").change(function(){if(a(this).val()=="advanced"){a(".advanced_filter").show();a(".saved_filter").hide()}else{a(".advanced_filter").hide();targetLocation=a(this).parents("form").attr("action").replace("advanced",a(this).val());if(location.href!=targetLocation){location.href=targetLocation}}});if(a("#filter_macro").val()=="advanced"){a("#filter_macro").trigger("change")}a("div.layout_preview div").click(function(){window.location=a("a#layout_invoice_profile_link").attr("href");return false});a("a#hide_message").click(function(){a(this).parents(".message").fadeOut();a.get(a(this).attr("href"));return false});a(window).resize(function(){a("body").toggleClass("wide_screen",a(window).width()>1086)}).resize();a("#header #menu li.submenu").hover(function(){a(this).addClass("active")},function(){a(this).removeClass("active")});a("#wantmymoney_company_phonenumber").numeric();a("#header #menu li.submenu").bind("click",function(){a(this).toggleClass("active");return false});a("#header #menu li.submenu ul a").bind("click",function(b){b.stopPropagation()});a("body").bind("popup:loaded",function(){a("input#ignore_forever").change(function(){if(!a(this).is(":checked")){a("input#company_first_invoice_id").removeAttr("disabled")}else{a("input#company_first_invoice_id").attr("disabled","disabled")}})})})})(jQuery);